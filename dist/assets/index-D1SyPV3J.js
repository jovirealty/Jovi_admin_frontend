(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function yu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xm={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function AR(){if(xw)return bc;xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return bc.Fragment=e,bc.jsx=n,bc.jsxs=n,bc}var yw;function CR(){return yw||(yw=1,Xm.exports=AR()),Xm.exports}var h=CR(),Zm={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function _R(){if(vw)return Je;vw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(R,W,Z){this.props=R,this.context=W,this.refs=E,this.updater=Z||y}S.prototype.isReactComponent={},S.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},S.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=S.prototype;function _(R,W,Z){this.props=R,this.context=W,this.refs=E,this.updater=Z||y}var A=_.prototype=new k;A.constructor=_,w(A,S.prototype),A.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function L(R,W,Z,te,be,Fe){return Z=Fe.ref,{$$typeof:t,type:R,key:W,ref:Z!==void 0?Z:null,props:Fe}}function $(R,W){return L(R.type,W,void 0,void 0,void 0,R.props)}function J(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function pe(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return W[Z]})}var Te=/\/+/g;function Ae(R,W){return typeof R=="object"&&R!==null&&R.key!=null?pe(""+R.key):W.toString(36)}function Ee(){}function le(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ee,Ee):(R.status="pending",R.then(function(W){R.status==="pending"&&(R.status="fulfilled",R.value=W)},function(W){R.status==="pending"&&(R.status="rejected",R.reason=W)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ge(R,W,Z,te,be){var Fe=typeof R;(Fe==="undefined"||Fe==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(Fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case t:case e:Ce=!0;break;case m:return Ce=R._init,ge(Ce(R._payload),W,Z,te,be)}}if(Ce)return be=be(R),Ce=te===""?"."+Ae(R,0):te,P(be)?(Z="",Ce!=null&&(Z=Ce.replace(Te,"$&/")+"/"),ge(be,W,Z,"",function(On){return On})):be!=null&&(J(be)&&(be=$(be,Z+(be.key==null||R&&R.key===be.key?"":(""+be.key).replace(Te,"$&/")+"/")+Ce)),W.push(be)),1;Ce=0;var Ft=te===""?".":te+":";if(P(R))for(var ct=0;ct<R.length;ct++)te=R[ct],Fe=Ft+Ae(te,ct),Ce+=ge(te,W,Z,Fe,be);else if(ct=x(R),typeof ct=="function")for(R=ct.call(R),ct=0;!(te=R.next()).done;)te=te.value,Fe=Ft+Ae(te,ct++),Ce+=ge(te,W,Z,Fe,be);else if(Fe==="object"){if(typeof R.then=="function")return ge(le(R),W,Z,te,be);throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function F(R,W,Z){if(R==null)return R;var te=[],be=0;return ge(R,te,"","",function(Fe){return W.call(Z,Fe,be++)}),te}function ee(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var X=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ue(){}return Je.Children={map:F,forEach:function(R,W,Z){F(R,function(){W.apply(this,arguments)},Z)},count:function(R){var W=0;return F(R,function(){W++}),W},toArray:function(R){return F(R,function(W){return W})||[]},only:function(R){if(!J(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Je.Component=S,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=_,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return O.H.useMemoCache(R)}},Je.cache=function(R){return function(){return R.apply(null,arguments)}},Je.cloneElement=function(R,W,Z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=w({},R.props),be=R.key,Fe=void 0;if(W!=null)for(Ce in W.ref!==void 0&&(Fe=void 0),W.key!==void 0&&(be=""+W.key),W)!C.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(te[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)te.children=Z;else if(1<Ce){for(var Ft=Array(Ce),ct=0;ct<Ce;ct++)Ft[ct]=arguments[ct+2];te.children=Ft}return L(R.type,be,void 0,void 0,Fe,te)},Je.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},Je.createElement=function(R,W,Z){var te,be={},Fe=null;if(W!=null)for(te in W.key!==void 0&&(Fe=""+W.key),W)C.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(be[te]=W[te]);var Ce=arguments.length-2;if(Ce===1)be.children=Z;else if(1<Ce){for(var Ft=Array(Ce),ct=0;ct<Ce;ct++)Ft[ct]=arguments[ct+2];be.children=Ft}if(R&&R.defaultProps)for(te in Ce=R.defaultProps,Ce)be[te]===void 0&&(be[te]=Ce[te]);return L(R,Fe,void 0,void 0,null,be)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(R){return{$$typeof:c,render:R}},Je.isValidElement=J,Je.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:ee}},Je.memo=function(R,W){return{$$typeof:f,type:R,compare:W===void 0?null:W}},Je.startTransition=function(R){var W=O.T,Z={};O.T=Z;try{var te=R(),be=O.S;be!==null&&be(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ue,X)}catch(Fe){X(Fe)}finally{O.T=W}},Je.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Je.use=function(R){return O.H.use(R)},Je.useActionState=function(R,W,Z){return O.H.useActionState(R,W,Z)},Je.useCallback=function(R,W){return O.H.useCallback(R,W)},Je.useContext=function(R){return O.H.useContext(R)},Je.useDebugValue=function(){},Je.useDeferredValue=function(R,W){return O.H.useDeferredValue(R,W)},Je.useEffect=function(R,W,Z){var te=O.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(R,W)},Je.useId=function(){return O.H.useId()},Je.useImperativeHandle=function(R,W,Z){return O.H.useImperativeHandle(R,W,Z)},Je.useInsertionEffect=function(R,W){return O.H.useInsertionEffect(R,W)},Je.useLayoutEffect=function(R,W){return O.H.useLayoutEffect(R,W)},Je.useMemo=function(R,W){return O.H.useMemo(R,W)},Je.useOptimistic=function(R,W){return O.H.useOptimistic(R,W)},Je.useReducer=function(R,W,Z){return O.H.useReducer(R,W,Z)},Je.useRef=function(R){return O.H.useRef(R)},Je.useState=function(R){return O.H.useState(R)},Je.useSyncExternalStore=function(R,W,Z){return O.H.useSyncExternalStore(R,W,Z)},Je.useTransition=function(){return O.H.useTransition()},Je.version="19.1.1",Je}var ww;function vu(){return ww||(ww=1,Zm.exports=_R()),Zm.exports}var T=vu();const na=yu(T);var Qm={exports:{}},xc={},Jm={exports:{}},eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function RR(){return Ew||(Ew=1,(function(t){function e(F,ee){var X=F.length;F.push(ee);e:for(;0<X;){var ue=X-1>>>1,R=F[ue];if(0<i(R,ee))F[ue]=ee,F[X]=R,X=ue;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ee=F[0],X=F.pop();if(X!==ee){F[0]=X;e:for(var ue=0,R=F.length,W=R>>>1;ue<W;){var Z=2*(ue+1)-1,te=F[Z],be=Z+1,Fe=F[be];if(0>i(te,X))be<R&&0>i(Fe,te)?(F[ue]=Fe,F[be]=X,ue=be):(F[ue]=te,F[Z]=X,ue=Z);else if(be<R&&0>i(Fe,X))F[ue]=Fe,F[be]=X,ue=be;else break e}}return ee}function i(F,ee){var X=F.sortIndex-ee.sortIndex;return X!==0?X:F.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,g=null,x=3,y=!1,w=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(F){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=F)r(f),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(f)}}function O(F){if(E=!1,P(F),!w)if(n(d)!==null)w=!0,C||(C=!0,Ae());else{var ee=n(f);ee!==null&&ge(O,ee.startTime-F)}}var C=!1,L=-1,$=5,J=-1;function pe(){return S?!0:!(t.unstable_now()-J<$)}function Te(){if(S=!1,C){var F=t.unstable_now();J=F;var ee=!0;try{e:{w=!1,E&&(E=!1,_(L),L=-1),y=!0;var X=x;try{t:{for(P(F),g=n(d);g!==null&&!(g.expirationTime>F&&pe());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,x=g.priorityLevel;var R=ue(g.expirationTime<=F);if(F=t.unstable_now(),typeof R=="function"){g.callback=R,P(F),ee=!0;break t}g===n(d)&&r(d),P(F)}else r(d);g=n(d)}if(g!==null)ee=!0;else{var W=n(f);W!==null&&ge(O,W.startTime-F),ee=!1}}break e}finally{g=null,x=X,y=!1}ee=void 0}}finally{ee?Ae():C=!1}}}var Ae;if(typeof A=="function")Ae=function(){A(Te)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,le=Ee.port2;Ee.port1.onmessage=Te,Ae=function(){le.postMessage(null)}}else Ae=function(){k(Te,0)};function ge(F,ee){L=k(function(){F(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(F){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var X=x;x=ee;try{return F()}finally{x=X}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=x;x=F;try{return ee()}finally{x=X}},t.unstable_scheduleCallback=function(F,ee,X){var ue=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=X+R,F={id:m++,callback:ee,priorityLevel:F,startTime:X,expirationTime:R,sortIndex:-1},X>ue?(F.sortIndex=X,e(f,F),n(d)===null&&F===n(f)&&(E?(_(L),L=-1):E=!0,ge(O,X-ue))):(F.sortIndex=R,e(d,F),w||y||(w=!0,C||(C=!0,Ae()))),F},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(F){var ee=x;return function(){var X=x;x=ee;try{return F.apply(this,arguments)}finally{x=X}}}})(eg)),eg}var Sw;function OR(){return Sw||(Sw=1,Jm.exports=RR()),Jm.exports}var tg={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function DR(){if(Nw)return In;Nw=1;var t=vu();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,m)},In.flushSync=function(d){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=m,r.d.f()}},In.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},In.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},In.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:y}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},In.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},In.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},In.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},In.requestFormReset=function(d){r.d.r(d)},In.unstable_batchedUpdates=function(d,f){return d(f)},In.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},In.useFormStatus=function(){return l.H.useHostTransitionStatus()},In.version="19.1.1",In}var kw;function uk(){if(kw)return tg.exports;kw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tg.exports=DR(),tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function jR(){if(Tw)return xc;Tw=1;var t=OR(),e=vu(),n=uk();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function d(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,p=o;;){var b=u.return;if(b===null)break;var v=b.alternate;if(v===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===v.child){for(v=b.child;v;){if(v===u)return c(b),s;if(v===p)return c(b),o;v=v.sibling}throw Error(r(188))}if(u.return!==p.return)u=b,p=v;else{for(var N=!1,M=b.child;M;){if(M===u){N=!0,u=b,p=v;break}if(M===p){N=!0,p=b,u=v;break}M=M.sibling}if(!N){for(M=v.child;M;){if(M===u){N=!0,u=v,p=b;break}if(M===p){N=!0,p=v,u=b;break}M=M.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ae(s){return s===null||typeof s!="object"?null:(s=Te&&s[Te]||s["@@iterator"],typeof s=="function"?s:null)}var Ee=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ee?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case C:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case y:return"Portal";case A:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return o=s.displayName||null,o!==null?o:le(s.type)||"Memo";case $:o=s._payload,s=s._init;try{return le(s(o))}catch{}}return null}var ge=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ue=[],R=-1;function W(s){return{current:s}}function Z(s){0>R||(s.current=ue[R],ue[R]=null,R--)}function te(s,o){R++,ue[R]=s.current,s.current=o}var be=W(null),Fe=W(null),Ce=W(null),Ft=W(null);function ct(s,o){switch(te(Ce,o),te(Fe,s),te(be,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?G1(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=G1(o),s=K1(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(be),te(be,s)}function On(){Z(be),Z(Fe),Z(Ce)}function gt(s){s.memoizedState!==null&&te(Ft,s);var o=be.current,u=K1(o,s.type);o!==u&&(te(Fe,s),te(be,u))}function hn(s){Fe.current===s&&(Z(be),Z(Fe)),Ft.current===s&&(Z(Ft),fc._currentValue=X)}var Sr=Object.prototype.hasOwnProperty,Nr=t.unstable_scheduleCallback,wn=t.unstable_cancelCallback,Di=t.unstable_shouldYield,ot=t.unstable_requestPaint,Ct=t.unstable_now,Vn=t.unstable_getCurrentPriorityLevel,kr=t.unstable_ImmediatePriority,hi=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,cr=t.unstable_LowPriority,Ge=t.unstable_IdlePriority,Qe=t.log,ds=t.unstable_setDisableYieldValue,Yt=null,vt=null;function Zn(s){if(typeof Qe=="function"&&ds(s),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Yt,s)}catch{}}var cn=Math.clz32?Math.clz32:oo,El=Math.log,Tr=Math.LN2;function oo(s){return s>>>=0,s===0?32:31-(El(s)/Tr|0)|0}var ji=256,mi=4194304;function Qr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Li(s,o,u){var p=s.pendingLanes;if(p===0)return 0;var b=0,v=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var M=p&134217727;return M!==0?(p=M&~v,p!==0?b=Qr(p):(N&=M,N!==0?b=Qr(N):u||(u=M&~s,u!==0&&(b=Qr(u))))):(M=p&~v,M!==0?b=Qr(M):N!==0?b=Qr(N):u||(u=p&~s,u!==0&&(b=Qr(u)))),b===0?0:o!==0&&o!==b&&(o&v)===0&&(v=b&-b,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:b}function Mr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function fs(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(){var s=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),s}function fa(){var s=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),s}function hs(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function gi(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jr(s,o,u,p,b,v){var N=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var M=s.entanglements,j=s.expirationTimes,G=s.hiddenUpdates;for(u=N&~u;0<u;){var re=31-cn(u),se=1<<re;M[re]=0,j[re]=-1;var K=G[re];if(K!==null)for(G[re]=null,re=0;re<K.length;re++){var Y=K[re];Y!==null&&(Y.lane&=-536870913)}u&=~se}p!==0&&I(s,p,0),v!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=v&~(N&~o))}function I(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-cn(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|u&4194090}function ne(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-cn(u),b=1<<p;b&o|s[p]&o&&(s[p]|=o),u&=~b}}function de(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Be(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function D(){var s=ee.p;return s!==0?s:(s=window.event,s===void 0?32:fw(s.type))}function U(s,o){var u=ee.p;try{return ee.p=s,o()}finally{ee.p=u}}var B=Math.random().toString(36).slice(2),H="__reactFiber$"+B,Q="__reactProps$"+B,fe="__reactContainer$"+B,he="__reactEvents$"+B,ye="__reactListeners$"+B,Me="__reactHandles$"+B,Re="__reactResources$"+B,Se="__reactMarker$"+B;function Ne(s){delete s[H],delete s[Q],delete s[he],delete s[ye],delete s[Me]}function Xe(s){var o=s[H];if(o)return o;for(var u=s.parentNode;u;){if(o=u[fe]||u[H]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Z1(s);s!==null;){if(u=s[H])return u;s=Z1(s)}return o}s=u,u=s.parentNode}return null}function ft(s){if(s=s[H]||s[fe]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Dt(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function _t(s){var o=s[Re];return o||(o=s[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qe(s){s[Se]=!0}var pt=new Set,Ar={};function Hn(s,o){jt(s,o),jt(s+"Capture",o)}function jt(s,o){for(Ar[s]=o,s=0;s<o.length;s++)pt.add(o[s])}var $n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pi={},bi={};function ei(s){return Sr.call(bi,s)?!0:Sr.call(Pi,s)?!1:$n.test(s)?bi[s]=!0:(Pi[s]=!0,!1)}function ti(s,o,u){if(ei(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Qn(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Ze(s,o,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+p)}}var ae,ke;function Ve(s){if(ae===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ae=o&&o[1]||"",ke=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+s+ke}var ze=!1;function wt(s,o){if(!s||ze)return"";ze=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Y){var K=Y}Reflect.construct(s,[],se)}else{try{se.call()}catch(Y){K=Y}s.call(se.prototype)}}else{try{throw Error()}catch(Y){K=Y}(se=s())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),N=v[0],M=v[1];if(N&&M){var j=N.split(`
`),G=M.split(`
`);for(b=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;if(p===j.length||b===G.length)for(p=j.length-1,b=G.length-1;1<=p&&0<=b&&j[p]!==G[b];)b--;for(;1<=p&&0<=b;p--,b--)if(j[p]!==G[b]){if(p!==1||b!==1)do if(p--,b--,0>b||j[p]!==G[b]){var re=`
`+j[p].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=p&&0<=b);break}}}finally{ze=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Ve(u):""}function Dn(s){switch(s.tag){case 26:case 27:case 5:return Ve(s.type);case 16:return Ve("Lazy");case 13:return Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return wt(s.type,!1);case 11:return wt(s.type.render,!1);case 1:return wt(s.type,!0);case 31:return Ve("Activity");default:return""}}function ur(s){try{var o="";do o+=Dn(s),s=s.return;while(s);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function En(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function jn(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Cr(s){var o=jn(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return b.call(this)},set:function(N){p=""+N,v.call(this,N)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ha(s){s._valueTracker||(s._valueTracker=Cr(s))}function Sl(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=jn(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function pa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qh=/[\n"\\]/g;function Jn(s){return s.replace(Qh,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Nl(s,o,u,p,b,v,N,M){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),o!=null?N==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+En(o)):s.value!==""+En(o)&&(s.value=""+En(o)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),o!=null?ps(s,N,En(o)):u!=null?ps(s,N,En(u)):p!=null&&s.removeAttribute("value"),b==null&&v!=null&&(s.defaultChecked=!!v),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+En(M):s.removeAttribute("name")}function Ou(s,o,u,p,b,v,N,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+En(u):"",o=o!=null?""+En(o):u,M||o===s.value||(s.value=o),s.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=M?s.checked:!!p,s.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function ps(s,o,u){o==="number"&&pa(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Bi(s,o,u,p){if(s=s.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<s.length;u++)b=o.hasOwnProperty("$"+s[u].value),s[u].selected!==b&&(s[u].selected=b),b&&p&&(s[u].defaultSelected=!0)}else{for(u=""+En(u),o=null,b=0;b<s.length;b++){if(s[b].value===u){s[b].selected=!0,p&&(s[b].defaultSelected=!0);return}o!==null||s[b].disabled||(o=s[b])}o!==null&&(o.selected=!0)}}function dr(s,o,u){if(o!=null&&(o=""+En(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+En(u):""}function Du(s,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(ge(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=En(o),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p)}function xi(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var We=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(s,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,u):typeof u!="number"||u===0||We.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function tn(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&u[b]!==p&&kl(s,b,p)}else for(var v in o)o.hasOwnProperty(v)&&kl(s,v,o[v])}function mt(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(s){return zi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ma=null;function me(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ve=null,Ke=null;function ut(s){var o=ft(s);if(o&&(s=o.stateNode)){var u=s[Q]||null;e:switch(s=o.stateNode,o.type){case"input":if(Nl(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Jn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var b=p[Q]||null;if(!b)throw Error(r(90));Nl(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===s.form&&Sl(p)}break e;case"textarea":dr(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Bi(s,!!u.multiple,o,!1)}}}var nn=!1;function _r(s,o,u){if(nn)return s(o,u);nn=!0;try{var p=s(o);return p}finally{if(nn=!1,(ve!==null||Ke!==null)&&(xd(),ve&&(o=ve,s=Ke,Ke=ve=null,ut(o),s)))for(o=0;o<s.length;o++)ut(s[o])}}function ga(s,o){var u=s.stateNode;if(u===null)return null;var p=u[Q]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(ni)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Jh=!1}var gs=null,ep=null,ju=null;function Xx(){if(ju)return ju;var s,o=ep,u=o.length,p,b="value"in gs?gs.value:gs.textContent,v=b.length;for(s=0;s<u&&o[s]===b[s];s++);var N=u-s;for(p=1;p<=N&&o[u-p]===b[v-p];p++);return ju=b.slice(s,1<p?1-p:void 0)}function Lu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Iu(){return!0}function Zx(){return!1}function er(s){function o(u,p,b,v,N){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Iu:Zx,this.isPropagationStopped=Zx,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),o}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=er(ba),Ml=m({},ba,{view:0,detail:0}),A2=er(Ml),tp,np,Al,Bu=m({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ip,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Al&&(Al&&s.type==="mousemove"?(tp=s.screenX-Al.screenX,np=s.screenY-Al.screenY):np=tp=0,Al=s),tp)},movementY:function(s){return"movementY"in s?s.movementY:np}}),Qx=er(Bu),C2=m({},Bu,{dataTransfer:0}),_2=er(C2),R2=m({},Ml,{relatedTarget:0}),rp=er(R2),O2=m({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),D2=er(O2),j2=m({},ba,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),L2=er(j2),I2=m({},ba,{data:0}),Jx=er(I2),P2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U2(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=z2[s])?!!o[s]:!1}function ip(){return U2}var F2=m({},Ml,{key:function(s){if(s.key){var o=P2[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Lu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?B2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ip,charCode:function(s){return s.type==="keypress"?Lu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Lu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),V2=er(F2),H2=m({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=er(H2),$2=m({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ip}),q2=er($2),G2=m({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),K2=er(G2),Y2=m({},Bu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=er(Y2),X2=m({},ba,{newState:0,oldState:0}),Z2=er(X2),Q2=[9,13,27,32],sp=ni&&"CompositionEvent"in window,Cl=null;ni&&"documentMode"in document&&(Cl=document.documentMode);var J2=ni&&"TextEvent"in window&&!Cl,ty=ni&&(!sp||Cl&&8<Cl&&11>=Cl),ny=" ",ry=!1;function iy(s,o){switch(s){case"keyup":return Q2.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var co=!1;function e_(s,o){switch(s){case"compositionend":return sy(o);case"keypress":return o.which!==32?null:(ry=!0,ny);case"textInput":return s=o.data,s===ny&&ry?null:s;default:return null}}function t_(s,o){if(co)return s==="compositionend"||!sp&&iy(s,o)?(s=Xx(),ju=ep=gs=null,co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ty&&o.locale!=="ko"?null:o.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!n_[s.type]:o==="textarea"}function oy(s,o,u,p){ve?Ke?Ke.push(p):Ke=[p]:ve=p,o=Nd(o,"onChange"),0<o.length&&(u=new Pu("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var _l=null,Rl=null;function r_(s){F1(s,0)}function zu(s){var o=Dt(s);if(Sl(o))return s}function ly(s,o){if(s==="change")return o}var cy=!1;if(ni){var ap;if(ni){var op="oninput"in document;if(!op){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),op=typeof uy.oninput=="function"}ap=op}else ap=!1;cy=ap&&(!document.documentMode||9<document.documentMode)}function dy(){_l&&(_l.detachEvent("onpropertychange",fy),Rl=_l=null)}function fy(s){if(s.propertyName==="value"&&zu(Rl)){var o=[];oy(o,Rl,s,me(s)),_r(r_,o)}}function i_(s,o,u){s==="focusin"?(dy(),_l=o,Rl=u,_l.attachEvent("onpropertychange",fy)):s==="focusout"&&dy()}function s_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zu(Rl)}function a_(s,o){if(s==="click")return zu(o)}function o_(s,o){if(s==="input"||s==="change")return zu(o)}function l_(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var fr=typeof Object.is=="function"?Object.is:l_;function Ol(s,o){if(fr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!Sr.call(o,b)||!fr(s[b],o[b]))return!1}return!0}function hy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function py(s,o){var u=hy(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hy(u)}}function my(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?my(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function gy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=pa(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=pa(s.document)}return o}function lp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var c_=ni&&"documentMode"in document&&11>=document.documentMode,uo=null,cp=null,Dl=null,up=!1;function by(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;up||uo==null||uo!==pa(p)||(p=uo,"selectionStart"in p&&lp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Dl&&Ol(Dl,p)||(Dl=p,p=Nd(cp,"onSelect"),0<p.length&&(o=new Pu("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=uo)))}function xa(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var fo={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},dp={},xy={};ni&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ya(s){if(dp[s])return dp[s];if(!fo[s])return s;var o=fo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in xy)return dp[s]=o[u];return s}var yy=ya("animationend"),vy=ya("animationiteration"),wy=ya("animationstart"),u_=ya("transitionrun"),d_=ya("transitionstart"),f_=ya("transitioncancel"),Ey=ya("transitionend"),Sy=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function ri(s,o){Sy.set(s,o),Hn(o,[s])}var Ny=new WeakMap;function Rr(s,o){if(typeof s=="object"&&s!==null){var u=Ny.get(s);return u!==void 0?u:(o={value:s,source:o,stack:ur(o)},Ny.set(s,o),o)}return{value:s,source:o,stack:ur(o)}}var Or=[],ho=0,hp=0;function Uu(){for(var s=ho,o=hp=ho=0;o<s;){var u=Or[o];Or[o++]=null;var p=Or[o];Or[o++]=null;var b=Or[o];Or[o++]=null;var v=Or[o];if(Or[o++]=null,p!==null&&b!==null){var N=p.pending;N===null?b.next=b:(b.next=N.next,N.next=b),p.pending=b}v!==0&&ky(u,b,v)}}function Fu(s,o,u,p){Or[ho++]=s,Or[ho++]=o,Or[ho++]=u,Or[ho++]=p,hp|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function pp(s,o,u,p){return Fu(s,o,u,p),Vu(s)}function po(s,o){return Fu(s,null,null,o),Vu(s)}function ky(s,o,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var b=!1,v=s.return;v!==null;)v.childLanes|=u,p=v.alternate,p!==null&&(p.childLanes|=u),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(b=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,b&&o!==null&&(b=31-cn(u),s=v.hiddenUpdates,p=s[b],p===null?s[b]=[o]:p.push(o),o.lane=u|536870912),v):null}function Vu(s){if(50<ic)throw ic=0,vm=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var mo={};function h_(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,o,u,p){return new h_(s,o,u,p)}function mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ui(s,o){var u=s.alternate;return u===null?(u=hr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Ty(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Hu(s,o,u,p,b,v){var N=0;if(p=s,typeof s=="function")mp(s)&&(N=1);else if(typeof s=="string")N=mR(s,u,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=hr(31,u,o,b),s.elementType=J,s.lanes=v,s;case w:return va(u.children,b,v,o);case E:N=8,b|=24;break;case S:return s=hr(12,u,o,b|2),s.elementType=S,s.lanes=v,s;case O:return s=hr(13,u,o,b),s.elementType=O,s.lanes=v,s;case C:return s=hr(19,u,o,b),s.elementType=C,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:case A:N=10;break e;case _:N=9;break e;case P:N=11;break e;case L:N=14;break e;case $:N=16,p=null;break e}N=29,u=Error(r(130,s===null?"null":typeof s,"")),p=null}return o=hr(N,u,o,b),o.elementType=s,o.type=p,o.lanes=v,o}function va(s,o,u,p){return s=hr(7,s,p,o),s.lanes=u,s}function gp(s,o,u){return s=hr(6,s,null,o),s.lanes=u,s}function bp(s,o,u){return o=hr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var go=[],bo=0,$u=null,qu=0,Dr=[],jr=0,wa=null,Fi=1,Vi="";function Ea(s,o){go[bo++]=qu,go[bo++]=$u,$u=s,qu=o}function My(s,o,u){Dr[jr++]=Fi,Dr[jr++]=Vi,Dr[jr++]=wa,wa=s;var p=Fi;s=Vi;var b=32-cn(p)-1;p&=~(1<<b),u+=1;var v=32-cn(o)+b;if(30<v){var N=b-b%5;v=(p&(1<<N)-1).toString(32),p>>=N,b-=N,Fi=1<<32-cn(o)+b|u<<b|p,Vi=v+s}else Fi=1<<v|u<<b|p,Vi=s}function xp(s){s.return!==null&&(Ea(s,1),My(s,1,0))}function yp(s){for(;s===$u;)$u=go[--bo],go[bo]=null,qu=go[--bo],go[bo]=null;for(;s===wa;)wa=Dr[--jr],Dr[jr]=null,Vi=Dr[--jr],Dr[jr]=null,Fi=Dr[--jr],Dr[jr]=null}var qn=null,Vt=null,ht=!1,Sa=null,yi=!1,vp=Error(r(519));function Na(s){var o=Error(r(418,""));throw Il(Rr(o,s)),vp}function Ay(s){var o=s.stateNode,u=s.type,p=s.memoizedProps;switch(o[H]=s,o[Q]=p,u){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(u=0;u<ac.length;u++)at(ac[u],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),Ou(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),ha(o);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),Du(o,p.value,p.defaultValue,p.children),ha(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||q1(o.textContent,u)?(p.popover!=null&&(at("beforetoggle",o),at("toggle",o)),p.onScroll!=null&&at("scroll",o),p.onScrollEnd!=null&&at("scrollend",o),p.onClick!=null&&(o.onclick=kd),o=!0):o=!1,o||Na(s)}function Cy(s){for(qn=s.return;qn;)switch(qn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:qn=qn.return}}function jl(s){if(s!==qn)return!1;if(!ht)return Cy(s),ht=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Im(s.type,s.memoizedProps)),u=!u),u&&Vt&&Na(s),Cy(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(o===0){Vt=si(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;s=s.nextSibling}Vt=null}}else o===27?(o=Vt,Os(s.type)?(s=Um,Um=null,Vt=s):Vt=o):Vt=qn?si(s.stateNode.nextSibling):null;return!0}function Ll(){Vt=qn=null,ht=!1}function _y(){var s=Sa;return s!==null&&(rr===null?rr=s:rr.push.apply(rr,s),Sa=null),s}function Il(s){Sa===null?Sa=[s]:Sa.push(s)}var wp=W(null),ka=null,Hi=null;function bs(s,o,u){te(wp,o._currentValue),o._currentValue=u}function $i(s){s._currentValue=wp.current,Z(wp)}function Ep(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function Sp(s,o,u,p){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var v=b.dependencies;if(v!==null){var N=b.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=b;for(var j=0;j<o.length;j++)if(M.context===o[j]){v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),Ep(v.return,u,s),p||(N=null);break e}v=M.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=u,v=N.alternate,v!==null&&(v.lanes|=u),Ep(N,u,s),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===s){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Pl(s,o,u,p){s=null;for(var b=o,v=!1;b!==null;){if(!v){if((b.flags&524288)!==0)v=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var M=b.type;fr(b.pendingProps.value,N.value)||(s!==null?s.push(M):s=[M])}}else if(b===Ft.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(fc):s=[fc])}b=b.return}s!==null&&Sp(o,s,u,p),o.flags|=262144}function Gu(s){for(s=s.firstContext;s!==null;){if(!fr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ta(s){ka=s,Hi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ln(s){return Ry(ka,s)}function Ku(s,o){return ka===null&&Ta(s),Ry(s,o)}function Ry(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Hi===null){if(s===null)throw Error(r(308));Hi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Hi=Hi.next=o;return u}var p_=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},m_=t.unstable_scheduleCallback,g_=t.unstable_NormalPriority,un={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Np(){return{controller:new p_,data:new Map,refCount:0}}function Bl(s){s.refCount--,s.refCount===0&&m_(g_,function(){s.controller.abort()})}var zl=null,kp=0,xo=0,yo=null;function b_(s,o){if(zl===null){var u=zl=[];kp=0,xo=Mm(),yo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return kp++,o.then(Oy,Oy),o}function Oy(){if(--kp===0&&zl!==null){yo!==null&&(yo.status="fulfilled");var s=zl;zl=null,xo=0,yo=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function x_(s,o){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var Dy=F.S;F.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&b_(s,o),Dy!==null&&Dy(s,o)};var Ma=W(null);function Tp(){var s=Ma.current;return s!==null?s:At.pooledCache}function Yu(s,o){o===null?te(Ma,Ma.current):te(Ma,o.pool)}function jy(){var s=Tp();return s===null?null:{parent:un._currentValue,pool:s}}var Ul=Error(r(460)),Ly=Error(r(474)),Wu=Error(r(542)),Mp={then:function(){}};function Iy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xu(){}function Py(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Xu,Xu),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,zy(s),s;default:if(typeof o.status=="string")o.then(Xu,Xu);else{if(s=At,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,zy(s),s}throw Fl=o,Ul}}var Fl=null;function By(){if(Fl===null)throw Error(r(459));var s=Fl;return Fl=null,s}function zy(s){if(s===Ul||s===Wu)throw Error(r(483))}var xs=!1;function Ap(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ys(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vs(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(bt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=Vu(s),ky(s,null,u),o}return Fu(s,p,o,u),Vu(s)}function Vl(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,ne(s,u)}}function _p(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?b=v=N:v=v.next=N,u=u.next}while(u!==null);v===null?b=v=o:v=v.next=o}else b=v=o;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Rp=!1;function Hl(){if(Rp){var s=yo;if(s!==null)throw s}}function $l(s,o,u,p){Rp=!1;var b=s.updateQueue;xs=!1;var v=b.firstBaseUpdate,N=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var j=M,G=j.next;j.next=null,N===null?v=G:N.next=G,N=j;var re=s.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==N&&(M===null?re.firstBaseUpdate=G:M.next=G,re.lastBaseUpdate=j))}if(v!==null){var se=b.baseState;N=0,re=G=j=null,M=v;do{var K=M.lane&-536870913,Y=K!==M.lane;if(Y?(lt&K)===K:(p&K)===K){K!==0&&K===xo&&(Rp=!0),re!==null&&(re=re.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var He=s,Le=M;K=o;var Nt=u;switch(Le.tag){case 1:if(He=Le.payload,typeof He=="function"){se=He.call(Nt,se,K);break e}se=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Le.payload,K=typeof He=="function"?He.call(Nt,se,K):He,K==null)break e;se=m({},se,K);break e;case 2:xs=!0}}K=M.callback,K!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=b.callbacks,Y===null?b.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(G=re=Y,j=se):re=re.next=Y,N|=K;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;Y=M,M=Y.next,Y.next=null,b.lastBaseUpdate=Y,b.shared.pending=null}}while(!0);re===null&&(j=se),b.baseState=j,b.firstBaseUpdate=G,b.lastBaseUpdate=re,v===null&&(b.shared.lanes=0),As|=N,s.lanes=N,s.memoizedState=se}}function Uy(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function Fy(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Uy(u[s],o)}var vo=W(null),Zu=W(0);function Vy(s,o){s=Zi,te(Zu,s),te(vo,o),Zi=s|o.baseLanes}function Op(){te(Zu,Zi),te(vo,vo.current)}function Dp(){Zi=Zu.current,Z(vo),Z(Zu)}var ws=0,nt=null,Et=null,rn=null,Qu=!1,wo=!1,Aa=!1,Ju=0,ql=0,Eo=null,y_=0;function Wt(){throw Error(r(321))}function jp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!fr(s[u],o[u]))return!1;return!0}function Lp(s,o,u,p,b,v){return ws=v,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=s===null||s.memoizedState===null?kv:Tv,Aa=!1,v=u(p,b),Aa=!1,wo&&(v=$y(o,u,p,b)),Hy(s),v}function Hy(s){F.H=sd;var o=Et!==null&&Et.next!==null;if(ws=0,rn=Et=nt=null,Qu=!1,ql=0,Eo=null,o)throw Error(r(300));s===null||pn||(s=s.dependencies,s!==null&&Gu(s)&&(pn=!0))}function $y(s,o,u,p){nt=s;var b=0;do{if(wo&&(Eo=null),ql=0,wo=!1,25<=b)throw Error(r(301));if(b+=1,rn=Et=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=T_,v=o(u,p)}while(wo);return v}function v_(){var s=F.H,o=s.useState()[0];return o=typeof o.then=="function"?Gl(o):o,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(nt.flags|=1024),o}function Ip(){var s=Ju!==0;return Ju=0,s}function Pp(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function Bp(s){if(Qu){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Qu=!1}ws=0,rn=Et=nt=null,wo=!1,ql=Ju=0,Eo=null}function tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?nt.memoizedState=rn=s:rn=rn.next=s,rn}function sn(){if(Et===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var o=rn===null?nt.memoizedState:rn.next;if(o!==null)rn=o,Et=s;else{if(s===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},rn===null?nt.memoizedState=rn=s:rn=rn.next=s}return rn}function zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(s){var o=ql;return ql+=1,Eo===null&&(Eo=[]),s=Py(Eo,s,o),o=nt,(rn===null?o.memoizedState:rn.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?kv:Tv),s}function ed(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gl(s);if(s.$$typeof===A)return Ln(s)}throw Error(r(438,String(s)))}function Up(s){var o=null,u=nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zp(),nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),p=0;p<s;p++)u[p]=pe;return o.index++,u}function qi(s,o){return typeof o=="function"?o(s):o}function td(s){var o=sn();return Fp(o,Et,s)}function Fp(s,o,u){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var b=s.baseQueue,v=p.pending;if(v!==null){if(b!==null){var N=b.next;b.next=v.next,v.next=N}o.baseQueue=b=v,p.pending=null}if(v=s.baseState,b===null)s.memoizedState=v;else{o=b.next;var M=N=null,j=null,G=o,re=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(lt&se)===se:(ws&se)===se){var K=G.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===xo&&(re=!0);else if((ws&K)===K){G=G.next,K===xo&&(re=!0);continue}else se={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(M=j=se,N=v):j=j.next=se,nt.lanes|=K,As|=K;se=G.action,Aa&&u(v,se),v=G.hasEagerState?G.eagerState:u(v,se)}else K={lane:se,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(M=j=K,N=v):j=j.next=K,nt.lanes|=se,As|=se;G=G.next}while(G!==null&&G!==o);if(j===null?N=v:j.next=M,!fr(v,s.memoizedState)&&(pn=!0,re&&(u=yo,u!==null)))throw u;s.memoizedState=v,s.baseState=N,s.baseQueue=j,p.lastRenderedState=v}return b===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Vp(s){var o=sn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var p=u.dispatch,b=u.pending,v=o.memoizedState;if(b!==null){u.pending=null;var N=b=b.next;do v=s(v,N.action),N=N.next;while(N!==b);fr(v,o.memoizedState)||(pn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,p]}function qy(s,o,u){var p=nt,b=sn(),v=ht;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!fr((Et||b).memoizedState,u);N&&(b.memoizedState=u,pn=!0),b=b.queue;var M=Yy.bind(null,p,b,s);if(Kl(2048,8,M,[s]),b.getSnapshot!==o||N||rn!==null&&rn.memoizedState.tag&1){if(p.flags|=2048,So(9,nd(),Ky.bind(null,p,b,u,o),null),At===null)throw Error(r(349));v||(ws&124)!==0||Gy(p,o,u)}return u}function Gy(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=nt.updateQueue,o===null?(o=zp(),nt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Ky(s,o,u,p){o.value=u,o.getSnapshot=p,Wy(o)&&Xy(s)}function Yy(s,o,u){return u(function(){Wy(o)&&Xy(s)})}function Wy(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!fr(s,u)}catch{return!0}}function Xy(s){var o=po(s,2);o!==null&&xr(o,s,2)}function Hp(s){var o=tr();if(typeof s=="function"){var u=s;if(s=u(),Aa){Zn(!0);try{u()}finally{Zn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},o}function Zy(s,o,u,p){return s.baseState=u,Fp(s,Et,typeof p=="function"?p:qi)}function w_(s,o,u,p,b){if(id(s))throw Error(r(485));if(s=o.action,s!==null){var v={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};F.T!==null?u(!0):v.isTransition=!1,p(v),u=o.pending,u===null?(v.next=o.pending=v,Qy(o,v)):(v.next=u.next,o.pending=u.next=v)}}function Qy(s,o){var u=o.action,p=o.payload,b=s.state;if(o.isTransition){var v=F.T,N={};F.T=N;try{var M=u(b,p),j=F.S;j!==null&&j(N,M),Jy(s,o,M)}catch(G){$p(s,o,G)}finally{F.T=v}}else try{v=u(b,p),Jy(s,o,v)}catch(G){$p(s,o,G)}}function Jy(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){ev(s,o,p)},function(p){return $p(s,o,p)}):ev(s,o,u)}function ev(s,o,u){o.status="fulfilled",o.value=u,tv(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Qy(s,u)))}function $p(s,o,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,tv(o),o=o.next;while(o!==p)}s.action=null}function tv(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function nv(s,o){return o}function rv(s,o){if(ht){var u=At.formState;if(u!==null){e:{var p=nt;if(ht){if(Vt){t:{for(var b=Vt,v=yi;b.nodeType!==8;){if(!v){b=null;break t}if(b=si(b.nextSibling),b===null){b=null;break t}}v=b.data,b=v==="F!"||v==="F"?b:null}if(b){Vt=si(b.nextSibling),p=b.data==="F!";break e}}Na(p)}p=!1}p&&(o=u[0])}}return u=tr(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nv,lastRenderedState:o},u.queue=p,u=Ev.bind(null,nt,p),p.dispatch=u,p=Hp(!1),v=Wp.bind(null,nt,!1,p.queue),p=tr(),b={state:o,dispatch:null,action:s,pending:null},p.queue=b,u=w_.bind(null,nt,b,v,u),b.dispatch=u,p.memoizedState=s,[o,u,!1]}function iv(s){var o=sn();return sv(o,Et,s)}function sv(s,o,u){if(o=Fp(s,o,nv)[0],s=td(qi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Gl(o)}catch(N){throw N===Ul?Wu:N}else p=o;o=sn();var b=o.queue,v=b.dispatch;return u!==o.memoizedState&&(nt.flags|=2048,So(9,nd(),E_.bind(null,b,u),null)),[p,v,s]}function E_(s,o){s.action=o}function av(s){var o=sn(),u=Et;if(u!==null)return sv(o,u,s);sn(),o=o.memoizedState,u=sn();var p=u.queue.dispatch;return u.memoizedState=s,[o,p,!1]}function So(s,o,u,p){return s={tag:s,create:u,deps:p,inst:o,next:null},o=nt.updateQueue,o===null&&(o=zp(),nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s),s}function nd(){return{destroy:void 0,resource:void 0}}function ov(){return sn().memoizedState}function rd(s,o,u,p){var b=tr();p=p===void 0?null:p,nt.flags|=s,b.memoizedState=So(1|o,nd(),u,p)}function Kl(s,o,u,p){var b=sn();p=p===void 0?null:p;var v=b.memoizedState.inst;Et!==null&&p!==null&&jp(p,Et.memoizedState.deps)?b.memoizedState=So(o,v,u,p):(nt.flags|=s,b.memoizedState=So(1|o,v,u,p))}function lv(s,o){rd(8390656,8,s,o)}function cv(s,o){Kl(2048,8,s,o)}function uv(s,o){return Kl(4,2,s,o)}function dv(s,o){return Kl(4,4,s,o)}function fv(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function hv(s,o,u){u=u!=null?u.concat([s]):null,Kl(4,4,fv.bind(null,o,s),u)}function qp(){}function pv(s,o){var u=sn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&jp(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function mv(s,o){var u=sn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&jp(o,p[1]))return p[0];if(p=s(),Aa){Zn(!0);try{s()}finally{Zn(!1)}}return u.memoizedState=[p,o],p}function Gp(s,o,u){return u===void 0||(ws&1073741824)!==0?s.memoizedState=o:(s.memoizedState=u,s=x1(),nt.lanes|=s,As|=s,u)}function gv(s,o,u,p){return fr(u,o)?u:vo.current!==null?(s=Gp(s,u,p),fr(s,o)||(pn=!0),s):(ws&42)===0?(pn=!0,s.memoizedState=u):(s=x1(),nt.lanes|=s,As|=s,o)}function bv(s,o,u,p,b){var v=ee.p;ee.p=v!==0&&8>v?v:8;var N=F.T,M={};F.T=M,Wp(s,!1,o,u);try{var j=b(),G=F.S;if(G!==null&&G(M,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var re=x_(j,p);Yl(s,o,re,br(s))}else Yl(s,o,p,br(s))}catch(se){Yl(s,o,{then:function(){},status:"rejected",reason:se},br())}finally{ee.p=v,F.T=N}}function S_(){}function Kp(s,o,u,p){if(s.tag!==5)throw Error(r(476));var b=xv(s).queue;bv(s,b,o,X,u===null?S_:function(){return yv(s),u(p)})}function xv(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:X},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function yv(s){var o=xv(s).next.queue;Yl(s,o,{},br())}function Yp(){return Ln(fc)}function vv(){return sn().memoizedState}function wv(){return sn().memoizedState}function N_(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=br();s=ys(u);var p=vs(o,s,u);p!==null&&(xr(p,o,u),Vl(p,o,u)),o={cache:Np()},s.payload=o;return}o=o.return}}function k_(s,o,u){var p=br();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},id(s)?Sv(o,u):(u=pp(s,o,u,p),u!==null&&(xr(u,s,p),Nv(u,o,p)))}function Ev(s,o,u){var p=br();Yl(s,o,u,p)}function Yl(s,o,u,p){var b={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(id(s))Sv(o,b);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var N=o.lastRenderedState,M=v(N,u);if(b.hasEagerState=!0,b.eagerState=M,fr(M,N))return Fu(s,o,b,0),At===null&&Uu(),!1}catch{}finally{}if(u=pp(s,o,b,p),u!==null)return xr(u,s,p),Nv(u,o,p),!0}return!1}function Wp(s,o,u,p){if(p={lane:2,revertLane:Mm(),action:p,hasEagerState:!1,eagerState:null,next:null},id(s)){if(o)throw Error(r(479))}else o=pp(s,u,p,2),o!==null&&xr(o,s,2)}function id(s){var o=s.alternate;return s===nt||o!==null&&o===nt}function Sv(s,o){wo=Qu=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Nv(s,o,u){if((u&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,ne(s,u)}}var sd={readContext:Ln,use:ed,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},kv={readContext:Ln,use:ed,useCallback:function(s,o){return tr().memoizedState=[s,o===void 0?null:o],s},useContext:Ln,useEffect:lv,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,rd(4194308,4,fv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return rd(4194308,4,s,o)},useInsertionEffect:function(s,o){rd(4,2,s,o)},useMemo:function(s,o){var u=tr();o=o===void 0?null:o;var p=s();if(Aa){Zn(!0);try{s()}finally{Zn(!1)}}return u.memoizedState=[p,o],p},useReducer:function(s,o,u){var p=tr();if(u!==void 0){var b=u(o);if(Aa){Zn(!0);try{u(o)}finally{Zn(!1)}}}else b=o;return p.memoizedState=p.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},p.queue=s,s=s.dispatch=k_.bind(null,nt,s),[p.memoizedState,s]},useRef:function(s){var o=tr();return s={current:s},o.memoizedState=s},useState:function(s){s=Hp(s);var o=s.queue,u=Ev.bind(null,nt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:qp,useDeferredValue:function(s,o){var u=tr();return Gp(u,s,o)},useTransition:function(){var s=Hp(!1);return s=bv.bind(null,nt,s.queue,!0,!1),tr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var p=nt,b=tr();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),At===null)throw Error(r(349));(lt&124)!==0||Gy(p,o,u)}b.memoizedState=u;var v={value:u,getSnapshot:o};return b.queue=v,lv(Yy.bind(null,p,v,s),[s]),p.flags|=2048,So(9,nd(),Ky.bind(null,p,v,u,o),null),u},useId:function(){var s=tr(),o=At.identifierPrefix;if(ht){var u=Vi,p=Fi;u=(p&~(1<<32-cn(p)-1)).toString(32)+u,o=""+o+"R"+u,u=Ju++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=y_++,o=""+o+"r"+u.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:Yp,useFormState:rv,useActionState:rv,useOptimistic:function(s){var o=tr();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Wp.bind(null,nt,!0,u),u.dispatch=o,[s,o]},useMemoCache:Up,useCacheRefresh:function(){return tr().memoizedState=N_.bind(null,nt)}},Tv={readContext:Ln,use:ed,useCallback:pv,useContext:Ln,useEffect:cv,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:td,useRef:ov,useState:function(){return td(qi)},useDebugValue:qp,useDeferredValue:function(s,o){var u=sn();return gv(u,Et.memoizedState,s,o)},useTransition:function(){var s=td(qi)[0],o=sn().memoizedState;return[typeof s=="boolean"?s:Gl(s),o]},useSyncExternalStore:qy,useId:vv,useHostTransitionStatus:Yp,useFormState:iv,useActionState:iv,useOptimistic:function(s,o){var u=sn();return Zy(u,Et,s,o)},useMemoCache:Up,useCacheRefresh:wv},T_={readContext:Ln,use:ed,useCallback:pv,useContext:Ln,useEffect:cv,useImperativeHandle:hv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:Vp,useRef:ov,useState:function(){return Vp(qi)},useDebugValue:qp,useDeferredValue:function(s,o){var u=sn();return Et===null?Gp(u,s,o):gv(u,Et.memoizedState,s,o)},useTransition:function(){var s=Vp(qi)[0],o=sn().memoizedState;return[typeof s=="boolean"?s:Gl(s),o]},useSyncExternalStore:qy,useId:vv,useHostTransitionStatus:Yp,useFormState:av,useActionState:av,useOptimistic:function(s,o){var u=sn();return Et!==null?Zy(u,Et,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Up,useCacheRefresh:wv},No=null,Wl=0;function ad(s){var o=Wl;return Wl+=1,No===null&&(No=[]),Py(No,s,o)}function Xl(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function od(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Mv(s){var o=s._init;return o(s._payload)}function Av(s){function o(V,z){if(s){var q=V.deletions;q===null?(V.deletions=[z],V.flags|=16):q.push(z)}}function u(V,z){if(!s)return null;for(;z!==null;)o(V,z),z=z.sibling;return null}function p(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function b(V,z){return V=Ui(V,z),V.index=0,V.sibling=null,V}function v(V,z,q){return V.index=q,s?(q=V.alternate,q!==null?(q=q.index,q<z?(V.flags|=67108866,z):q):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function N(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function M(V,z,q,ie){return z===null||z.tag!==6?(z=gp(q,V.mode,ie),z.return=V,z):(z=b(z,q),z.return=V,z)}function j(V,z,q,ie){var we=q.type;return we===w?re(V,z,q.props.children,ie,q.key):z!==null&&(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===$&&Mv(we)===z.type)?(z=b(z,q.props),Xl(z,q),z.return=V,z):(z=Hu(q.type,q.key,q.props,null,V.mode,ie),Xl(z,q),z.return=V,z)}function G(V,z,q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=bp(q,V.mode,ie),z.return=V,z):(z=b(z,q.children||[]),z.return=V,z)}function re(V,z,q,ie,we){return z===null||z.tag!==7?(z=va(q,V.mode,ie,we),z.return=V,z):(z=b(z,q),z.return=V,z)}function se(V,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=gp(""+z,V.mode,q),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return q=Hu(z.type,z.key,z.props,null,V.mode,q),Xl(q,z),q.return=V,q;case y:return z=bp(z,V.mode,q),z.return=V,z;case $:var ie=z._init;return z=ie(z._payload),se(V,z,q)}if(ge(z)||Ae(z))return z=va(z,V.mode,q,null),z.return=V,z;if(typeof z.then=="function")return se(V,ad(z),q);if(z.$$typeof===A)return se(V,Ku(V,z),q);od(V,z)}return null}function K(V,z,q,ie){var we=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return we!==null?null:M(V,z,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===we?j(V,z,q,ie):null;case y:return q.key===we?G(V,z,q,ie):null;case $:return we=q._init,q=we(q._payload),K(V,z,q,ie)}if(ge(q)||Ae(q))return we!==null?null:re(V,z,q,ie,null);if(typeof q.then=="function")return K(V,z,ad(q),ie);if(q.$$typeof===A)return K(V,z,Ku(V,q),ie);od(V,q)}return null}function Y(V,z,q,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return V=V.get(q)||null,M(z,V,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return V=V.get(ie.key===null?q:ie.key)||null,j(z,V,ie,we);case y:return V=V.get(ie.key===null?q:ie.key)||null,G(z,V,ie,we);case $:var rt=ie._init;return ie=rt(ie._payload),Y(V,z,q,ie,we)}if(ge(ie)||Ae(ie))return V=V.get(q)||null,re(z,V,ie,we,null);if(typeof ie.then=="function")return Y(V,z,q,ad(ie),we);if(ie.$$typeof===A)return Y(V,z,q,Ku(z,ie),we);od(z,ie)}return null}function He(V,z,q,ie){for(var we=null,rt=null,_e=z,Ue=z=0,gn=null;_e!==null&&Ue<q.length;Ue++){_e.index>Ue?(gn=_e,_e=null):gn=_e.sibling;var dt=K(V,_e,q[Ue],ie);if(dt===null){_e===null&&(_e=gn);break}s&&_e&&dt.alternate===null&&o(V,_e),z=v(dt,z,Ue),rt===null?we=dt:rt.sibling=dt,rt=dt,_e=gn}if(Ue===q.length)return u(V,_e),ht&&Ea(V,Ue),we;if(_e===null){for(;Ue<q.length;Ue++)_e=se(V,q[Ue],ie),_e!==null&&(z=v(_e,z,Ue),rt===null?we=_e:rt.sibling=_e,rt=_e);return ht&&Ea(V,Ue),we}for(_e=p(_e);Ue<q.length;Ue++)gn=Y(_e,V,Ue,q[Ue],ie),gn!==null&&(s&&gn.alternate!==null&&_e.delete(gn.key===null?Ue:gn.key),z=v(gn,z,Ue),rt===null?we=gn:rt.sibling=gn,rt=gn);return s&&_e.forEach(function(Ps){return o(V,Ps)}),ht&&Ea(V,Ue),we}function Le(V,z,q,ie){if(q==null)throw Error(r(151));for(var we=null,rt=null,_e=z,Ue=z=0,gn=null,dt=q.next();_e!==null&&!dt.done;Ue++,dt=q.next()){_e.index>Ue?(gn=_e,_e=null):gn=_e.sibling;var Ps=K(V,_e,dt.value,ie);if(Ps===null){_e===null&&(_e=gn);break}s&&_e&&Ps.alternate===null&&o(V,_e),z=v(Ps,z,Ue),rt===null?we=Ps:rt.sibling=Ps,rt=Ps,_e=gn}if(dt.done)return u(V,_e),ht&&Ea(V,Ue),we;if(_e===null){for(;!dt.done;Ue++,dt=q.next())dt=se(V,dt.value,ie),dt!==null&&(z=v(dt,z,Ue),rt===null?we=dt:rt.sibling=dt,rt=dt);return ht&&Ea(V,Ue),we}for(_e=p(_e);!dt.done;Ue++,dt=q.next())dt=Y(_e,V,Ue,dt.value,ie),dt!==null&&(s&&dt.alternate!==null&&_e.delete(dt.key===null?Ue:dt.key),z=v(dt,z,Ue),rt===null?we=dt:rt.sibling=dt,rt=dt);return s&&_e.forEach(function(MR){return o(V,MR)}),ht&&Ea(V,Ue),we}function Nt(V,z,q,ie){if(typeof q=="object"&&q!==null&&q.type===w&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var we=q.key;z!==null;){if(z.key===we){if(we=q.type,we===w){if(z.tag===7){u(V,z.sibling),ie=b(z,q.props.children),ie.return=V,V=ie;break e}}else if(z.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===$&&Mv(we)===z.type){u(V,z.sibling),ie=b(z,q.props),Xl(ie,q),ie.return=V,V=ie;break e}u(V,z);break}else o(V,z);z=z.sibling}q.type===w?(ie=va(q.props.children,V.mode,ie,q.key),ie.return=V,V=ie):(ie=Hu(q.type,q.key,q.props,null,V.mode,ie),Xl(ie,q),ie.return=V,V=ie)}return N(V);case y:e:{for(we=q.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){u(V,z.sibling),ie=b(z,q.children||[]),ie.return=V,V=ie;break e}else{u(V,z);break}else o(V,z);z=z.sibling}ie=bp(q,V.mode,ie),ie.return=V,V=ie}return N(V);case $:return we=q._init,q=we(q._payload),Nt(V,z,q,ie)}if(ge(q))return He(V,z,q,ie);if(Ae(q)){if(we=Ae(q),typeof we!="function")throw Error(r(150));return q=we.call(q),Le(V,z,q,ie)}if(typeof q.then=="function")return Nt(V,z,ad(q),ie);if(q.$$typeof===A)return Nt(V,z,Ku(V,q),ie);od(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(u(V,z.sibling),ie=b(z,q),ie.return=V,V=ie):(u(V,z),ie=gp(q,V.mode,ie),ie.return=V,V=ie),N(V)):u(V,z)}return function(V,z,q,ie){try{Wl=0;var we=Nt(V,z,q,ie);return No=null,we}catch(_e){if(_e===Ul||_e===Wu)throw _e;var rt=hr(29,_e,null,V.mode);return rt.lanes=ie,rt.return=V,rt}finally{}}}var ko=Av(!0),Cv=Av(!1),Lr=W(null),vi=null;function Es(s){var o=s.alternate;te(dn,dn.current&1),te(Lr,s),vi===null&&(o===null||vo.current!==null||o.memoizedState!==null)&&(vi=s)}function _v(s){if(s.tag===22){if(te(dn,dn.current),te(Lr,s),vi===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(vi=s)}}else Ss()}function Ss(){te(dn,dn.current),te(Lr,Lr.current)}function Gi(s){Z(Lr),vi===s&&(vi=null),Z(dn)}var dn=W(0);function ld(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||zm(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Xp(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Zp={enqueueSetState:function(s,o,u){s=s._reactInternals;var p=br(),b=ys(p);b.payload=o,u!=null&&(b.callback=u),o=vs(s,b,p),o!==null&&(xr(o,s,p),Vl(o,s,p))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=br(),b=ys(p);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=vs(s,b,p),o!==null&&(xr(o,s,p),Vl(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=br(),p=ys(u);p.tag=2,o!=null&&(p.callback=o),o=vs(s,p,u),o!==null&&(xr(o,s,u),Vl(o,s,u))}};function Rv(s,o,u,p,b,v,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,v,N):o.prototype&&o.prototype.isPureReactComponent?!Ol(u,p)||!Ol(b,v):!0}function Ov(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&Zp.enqueueReplaceState(o,o.state,null)}function Ca(s,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(s=s.defaultProps){u===o&&(u=m({},u));for(var b in s)u[b]===void 0&&(u[b]=s[b])}return u}var cd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Dv(s){cd(s)}function jv(s){console.error(s)}function Lv(s){cd(s)}function ud(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Iv(s,o,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Qp(s,o,u){return u=ys(u),u.tag=3,u.payload={element:null},u.callback=function(){ud(s,o)},u}function Pv(s){return s=ys(s),s.tag=3,s}function Bv(s,o,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var v=p.value;s.payload=function(){return b(v)},s.callback=function(){Iv(o,u,p)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){Iv(o,u,p),typeof b!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function M_(s,o,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Pl(o,u,b,!0),u=Lr.current,u!==null){switch(u.tag){case 13:return vi===null?Em():u.alternate===null&&Ht===0&&(Ht=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===Mp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Nm(s,p,b)),!1;case 22:return u.flags|=65536,p===Mp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Nm(s,p,b)),!1}throw Error(r(435,u.tag))}return Nm(s,p,b),Em(),!1}if(ht)return o=Lr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==vp&&(s=Error(r(422),{cause:p}),Il(Rr(s,u)))):(p!==vp&&(o=Error(r(423),{cause:p}),Il(Rr(o,u))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,p=Rr(p,u),b=Qp(s.stateNode,p,b),_p(s,b),Ht!==4&&(Ht=2)),!1;var v=Error(r(520),{cause:p});if(v=Rr(v,u),rc===null?rc=[v]:rc.push(v),Ht!==4&&(Ht=2),o===null)return!0;p=Rr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=b&-b,u.lanes|=s,s=Qp(u.stateNode,p,s),_p(u,s),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Cs===null||!Cs.has(v))))return u.flags|=65536,b&=-b,u.lanes|=b,b=Pv(b),Bv(b,s,u,p),_p(u,b),!1}u=u.return}while(u!==null);return!1}var zv=Error(r(461)),pn=!1;function Sn(s,o,u,p){o.child=s===null?Cv(o,null,u,p):ko(o,s.child,u,p)}function Uv(s,o,u,p,b){u=u.render;var v=o.ref;if("ref"in p){var N={};for(var M in p)M!=="ref"&&(N[M]=p[M])}else N=p;return Ta(o),p=Lp(s,o,u,N,v,b),M=Ip(),s!==null&&!pn?(Pp(s,o,b),Ki(s,o,b)):(ht&&M&&xp(o),o.flags|=1,Sn(s,o,p,b),o.child)}function Fv(s,o,u,p,b){if(s===null){var v=u.type;return typeof v=="function"&&!mp(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,Vv(s,o,v,p,b)):(s=Hu(u.type,null,p,o,o.mode,b),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!am(s,b)){var N=v.memoizedProps;if(u=u.compare,u=u!==null?u:Ol,u(N,p)&&s.ref===o.ref)return Ki(s,o,b)}return o.flags|=1,s=Ui(v,p),s.ref=o.ref,s.return=o,o.child=s}function Vv(s,o,u,p,b){if(s!==null){var v=s.memoizedProps;if(Ol(v,p)&&s.ref===o.ref)if(pn=!1,o.pendingProps=p=v,am(s,b))(s.flags&131072)!==0&&(pn=!0);else return o.lanes=s.lanes,Ki(s,o,b)}return Jp(s,o,u,p,b)}function Hv(s,o,u){var p=o.pendingProps,b=p.children,v=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=v!==null?v.baseLanes|u:u,s!==null){for(b=o.child=s.child,v=0;b!==null;)v=v|b.lanes|b.childLanes,b=b.sibling;o.childLanes=v&~p}else o.childLanes=0,o.child=null;return $v(s,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yu(o,v!==null?v.cachePool:null),v!==null?Vy(o,v):Op(),_v(o);else return o.lanes=o.childLanes=536870912,$v(s,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(Yu(o,v.cachePool),Vy(o,v),Ss(),o.memoizedState=null):(s!==null&&Yu(o,null),Op(),Ss());return Sn(s,o,b,u),o.child}function $v(s,o,u,p){var b=Tp();return b=b===null?null:{parent:un._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},s!==null&&Yu(o,null),Op(),_v(o),s!==null&&Pl(s,o,p,!0),null}function dd(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Jp(s,o,u,p,b){return Ta(o),u=Lp(s,o,u,p,void 0,b),p=Ip(),s!==null&&!pn?(Pp(s,o,b),Ki(s,o,b)):(ht&&p&&xp(o),o.flags|=1,Sn(s,o,u,b),o.child)}function qv(s,o,u,p,b,v){return Ta(o),o.updateQueue=null,u=$y(o,p,u,b),Hy(s),p=Ip(),s!==null&&!pn?(Pp(s,o,v),Ki(s,o,v)):(ht&&p&&xp(o),o.flags|=1,Sn(s,o,u,v),o.child)}function Gv(s,o,u,p,b){if(Ta(o),o.stateNode===null){var v=mo,N=u.contextType;typeof N=="object"&&N!==null&&(v=Ln(N)),v=new u(p,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Zp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=p,v.state=o.memoizedState,v.refs={},Ap(o),N=u.contextType,v.context=typeof N=="object"&&N!==null?Ln(N):mo,v.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Xp(o,u,N,p),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&Zp.enqueueReplaceState(v,v.state,null),$l(o,p,v,b),Hl(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){v=o.stateNode;var M=o.memoizedProps,j=Ca(u,M);v.props=j;var G=v.context,re=u.contextType;N=mo,typeof re=="object"&&re!==null&&(N=Ln(re));var se=u.getDerivedStateFromProps;re=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||G!==N)&&Ov(o,v,p,N),xs=!1;var K=o.memoizedState;v.state=K,$l(o,p,v,b),Hl(),G=o.memoizedState,M||K!==G||xs?(typeof se=="function"&&(Xp(o,u,se,p),G=o.memoizedState),(j=xs||Rv(o,u,j,p,K,G,N))?(re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=G),v.props=p,v.state=G,v.context=N,p=j):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{v=o.stateNode,Cp(s,o),N=o.memoizedProps,re=Ca(u,N),v.props=re,se=o.pendingProps,K=v.context,G=u.contextType,j=mo,typeof G=="object"&&G!==null&&(j=Ln(G)),M=u.getDerivedStateFromProps,(G=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==se||K!==j)&&Ov(o,v,p,j),xs=!1,K=o.memoizedState,v.state=K,$l(o,p,v,b),Hl();var Y=o.memoizedState;N!==se||K!==Y||xs||s!==null&&s.dependencies!==null&&Gu(s.dependencies)?(typeof M=="function"&&(Xp(o,u,M,p),Y=o.memoizedState),(re=xs||Rv(o,u,re,p,K,Y,j)||s!==null&&s.dependencies!==null&&Gu(s.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,Y,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,Y,j)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===s.memoizedProps&&K===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&K===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Y),v.props=p,v.state=Y,v.context=j,p=re):(typeof v.componentDidUpdate!="function"||N===s.memoizedProps&&K===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&K===s.memoizedState||(o.flags|=1024),p=!1)}return v=p,dd(s,o),p=(o.flags&128)!==0,v||p?(v=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&p?(o.child=ko(o,s.child,null,b),o.child=ko(o,null,u,b)):Sn(s,o,u,b),o.memoizedState=v.state,s=o.child):s=Ki(s,o,b),s}function Kv(s,o,u,p){return Ll(),o.flags|=256,Sn(s,o,u,p),o.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(s){return{baseLanes:s,cachePool:jy()}}function nm(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=Ir),s}function Yv(s,o,u){var p=o.pendingProps,b=!1,v=(o.flags&128)!==0,N;if((N=v)||(N=s!==null&&s.memoizedState===null?!1:(dn.current&2)!==0),N&&(b=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,s===null){if(ht){if(b?Es(o):Ss(),ht){var M=Vt,j;if(j=M){e:{for(j=M,M=yi;j.nodeType!==8;){if(!M){M=null;break e}if(j=si(j.nextSibling),j===null){M=null;break e}}M=j}M!==null?(o.memoizedState={dehydrated:M,treeContext:wa!==null?{id:Fi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},j=hr(18,null,null,0),j.stateNode=M,j.return=o,o.child=j,qn=o,Vt=null,j=!0):j=!1}j||Na(o)}if(M=o.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return zm(M)?o.lanes=32:o.lanes=536870912,null;Gi(o)}return M=p.children,p=p.fallback,b?(Ss(),b=o.mode,M=fd({mode:"hidden",children:M},b),p=va(p,b,u,null),M.return=o,p.return=o,M.sibling=p,o.child=M,b=o.child,b.memoizedState=tm(u),b.childLanes=nm(s,N,u),o.memoizedState=em,p):(Es(o),rm(o,M))}if(j=s.memoizedState,j!==null&&(M=j.dehydrated,M!==null)){if(v)o.flags&256?(Es(o),o.flags&=-257,o=im(s,o,u)):o.memoizedState!==null?(Ss(),o.child=s.child,o.flags|=128,o=null):(Ss(),b=p.fallback,M=o.mode,p=fd({mode:"visible",children:p.children},M),b=va(b,M,u,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,ko(o,s.child,null,u),p=o.child,p.memoizedState=tm(u),p.childLanes=nm(s,N,u),o.memoizedState=em,o=b);else if(Es(o),zm(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var G=N.dgst;N=G,p=Error(r(419)),p.stack="",p.digest=N,Il({value:p,source:null,stack:null}),o=im(s,o,u)}else if(pn||Pl(s,o,u,!1),N=(u&s.childLanes)!==0,pn||N){if(N=At,N!==null&&(p=u&-u,p=(p&42)!==0?1:de(p),p=(p&(N.suspendedLanes|u))!==0?0:p,p!==0&&p!==j.retryLane))throw j.retryLane=p,po(s,p),xr(N,s,p),zv;M.data==="$?"||Em(),o=im(s,o,u)}else M.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=j.treeContext,Vt=si(M.nextSibling),qn=o,ht=!0,Sa=null,yi=!1,s!==null&&(Dr[jr++]=Fi,Dr[jr++]=Vi,Dr[jr++]=wa,Fi=s.id,Vi=s.overflow,wa=o),o=rm(o,p.children),o.flags|=4096);return o}return b?(Ss(),b=p.fallback,M=o.mode,j=s.child,G=j.sibling,p=Ui(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&65011712,G!==null?b=Ui(G,b):(b=va(b,M,u,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,M=s.child.memoizedState,M===null?M=tm(u):(j=M.cachePool,j!==null?(G=un._currentValue,j=j.parent!==G?{parent:G,pool:G}:j):j=jy(),M={baseLanes:M.baseLanes|u,cachePool:j}),b.memoizedState=M,b.childLanes=nm(s,N,u),o.memoizedState=em,p):(Es(o),u=s.child,s=u.sibling,u=Ui(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,s!==null&&(N=o.deletions,N===null?(o.deletions=[s],o.flags|=16):N.push(s)),o.child=u,o.memoizedState=null,u)}function rm(s,o){return o=fd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function fd(s,o){return s=hr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function im(s,o,u){return ko(o,s.child,null,u),s=rm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Wv(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Ep(s.return,o,u)}function sm(s,o,u,p,b){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=u,v.tailMode=b)}function Xv(s,o,u){var p=o.pendingProps,b=p.revealOrder,v=p.tail;if(Sn(s,o,p.children,u),p=dn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,u,o);else if(s.tag===19)Wv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(te(dn,p),b){case"forwards":for(u=o.child,b=null;u!==null;)s=u.alternate,s!==null&&ld(s)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),sm(o,!1,b,u,v);break;case"backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(s=b.alternate,s!==null&&ld(s)===null){o.child=b;break}s=b.sibling,b.sibling=u,u=b,b=s}sm(o,!0,u,null,v);break;case"together":sm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ki(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),As|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(Pl(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=Ui(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Ui(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function am(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Gu(s)))}function A_(s,o,u){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),bs(o,un,s.memoizedState.cache),Ll();break;case 27:case 5:gt(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:bs(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Es(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Yv(s,o,u):(Es(o),s=Ki(s,o,u),s!==null?s.sibling:null);Es(o);break;case 19:var b=(s.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Pl(s,o,u,!1),p=(u&o.childLanes)!==0),b){if(p)return Xv(s,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),te(dn,dn.current),p)break;return null;case 22:case 23:return o.lanes=0,Hv(s,o,u);case 24:bs(o,un,s.memoizedState.cache)}return Ki(s,o,u)}function Zv(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)pn=!0;else{if(!am(s,u)&&(o.flags&128)===0)return pn=!1,A_(s,o,u);pn=(s.flags&131072)!==0}else pn=!1,ht&&(o.flags&1048576)!==0&&My(o,qu,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var p=o.elementType,b=p._init;if(p=b(p._payload),o.type=p,typeof p=="function")mp(p)?(s=Ca(p,s),o.tag=1,o=Gv(null,o,p,s,u)):(o.tag=0,o=Jp(null,o,p,s,u));else{if(p!=null){if(b=p.$$typeof,b===P){o.tag=11,o=Uv(null,o,p,s,u);break e}else if(b===L){o.tag=14,o=Fv(null,o,p,s,u);break e}}throw o=le(p)||p,Error(r(306,o,""))}}return o;case 0:return Jp(s,o,o.type,o.pendingProps,u);case 1:return p=o.type,b=Ca(p,o.pendingProps),Gv(s,o,p,b,u);case 3:e:{if(ct(o,o.stateNode.containerInfo),s===null)throw Error(r(387));p=o.pendingProps;var v=o.memoizedState;b=v.element,Cp(s,o),$l(o,p,null,u);var N=o.memoizedState;if(p=N.cache,bs(o,un,p),p!==v.cache&&Sp(o,[un],u,!0),Hl(),p=N.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Kv(s,o,p,u);break e}else if(p!==b){b=Rr(Error(r(424)),o),Il(b),o=Kv(s,o,p,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Vt=si(s.firstChild),qn=o,ht=!0,Sa=null,yi=!0,u=Cv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ll(),p===b){o=Ki(s,o,u);break e}Sn(s,o,p,u)}o=o.child}return o;case 26:return dd(s,o),s===null?(u=tw(o.type,null,o.pendingProps,null))?o.memoizedState=u:ht||(u=o.type,s=o.pendingProps,p=Td(Ce.current).createElement(u),p[H]=o,p[Q]=s,kn(p,u,s),qe(p),o.stateNode=p):o.memoizedState=tw(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return gt(o),s===null&&ht&&(p=o.stateNode=Q1(o.type,o.pendingProps,Ce.current),qn=o,yi=!0,b=Vt,Os(o.type)?(Um=b,Vt=si(p.firstChild)):Vt=b),Sn(s,o,o.pendingProps.children,u),dd(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ht&&((b=p=Vt)&&(p=nR(p,o.type,o.pendingProps,yi),p!==null?(o.stateNode=p,qn=o,Vt=si(p.firstChild),yi=!1,b=!0):b=!1),b||Na(o)),gt(o),b=o.type,v=o.pendingProps,N=s!==null?s.memoizedProps:null,p=v.children,Im(b,v)?p=null:N!==null&&Im(b,N)&&(o.flags|=32),o.memoizedState!==null&&(b=Lp(s,o,v_,null,null,u),fc._currentValue=b),dd(s,o),Sn(s,o,p,u),o.child;case 6:return s===null&&ht&&((s=u=Vt)&&(u=rR(u,o.pendingProps,yi),u!==null?(o.stateNode=u,qn=o,Vt=null,s=!0):s=!1),s||Na(o)),null;case 13:return Yv(s,o,u);case 4:return ct(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ko(o,null,p,u):Sn(s,o,p,u),o.child;case 11:return Uv(s,o,o.type,o.pendingProps,u);case 7:return Sn(s,o,o.pendingProps,u),o.child;case 8:return Sn(s,o,o.pendingProps.children,u),o.child;case 12:return Sn(s,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,bs(o,o.type,p.value),Sn(s,o,p.children,u),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,Ta(o),b=Ln(b),p=p(b),o.flags|=1,Sn(s,o,p,u),o.child;case 14:return Fv(s,o,o.type,o.pendingProps,u);case 15:return Vv(s,o,o.type,o.pendingProps,u);case 19:return Xv(s,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},s===null?(u=fd(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Ui(s.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Hv(s,o,u);case 24:return Ta(o),p=Ln(un),s===null?(b=Tp(),b===null&&(b=At,v=Np(),b.pooledCache=v,v.refCount++,v!==null&&(b.pooledCacheLanes|=u),b=v),o.memoizedState={parent:p,cache:b},Ap(o),bs(o,un,b)):((s.lanes&u)!==0&&(Cp(s,o),$l(o,null,null,u),Hl()),b=s.memoizedState,v=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),bs(o,un,p)):(p=v.cache,bs(o,un,p),p!==b.cache&&Sp(o,[un],u,!0))),Sn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Yi(s){s.flags|=4}function Qv(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!aw(o)){if(o=Lr.current,o!==null&&((lt&4194048)===lt?vi!==null:(lt&62914560)!==lt&&(lt&536870912)===0||o!==vi))throw Fl=Mp,Ly;s.flags|=8192}}function hd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?fa():536870912,s.lanes|=o,Co|=o)}function Zl(s,o){if(!ht)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Bt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var b=s.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function C_(s,o,u){var p=o.pendingProps;switch(yp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return Bt(o),null;case 3:return u=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),$i(un),On(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(jl(o)?Yi(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_y())),Bt(o),null;case 26:return u=o.memoizedState,s===null?(Yi(o),u!==null?(Bt(o),Qv(o,u)):(Bt(o),o.flags&=-16777217)):u?u!==s.memoizedState?(Yi(o),Bt(o),Qv(o,u)):(Bt(o),o.flags&=-16777217):(s.memoizedProps!==p&&Yi(o),Bt(o),o.flags&=-16777217),null;case 27:hn(o),u=Ce.current;var b=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Yi(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}s=be.current,jl(o)?Ay(o):(s=Q1(b,p,u),o.stateNode=s,Yi(o))}return Bt(o),null;case 5:if(hn(o),u=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&Yi(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}if(s=be.current,jl(o))Ay(o);else{switch(b=Td(Ce.current),s){case 1:s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?b.createElement(u,{is:p.is}):b.createElement(u)}}s[H]=o,s[Q]=p;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)s.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=s;e:switch(kn(s,u,p),u){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Yi(o)}}return Bt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&Yi(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(s=Ce.current,jl(o)){if(s=o.stateNode,u=o.memoizedProps,p=null,b=qn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}s[H]=o,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||q1(s.nodeValue,u)),s||Na(o)}else s=Td(s).createTextNode(p),s[H]=o,o.stateNode=s}return Bt(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=jl(o),p!==null&&p.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[H]=o}else Ll(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),b=!1}else b=_y(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Gi(o),o):(Gi(o),null)}if(Gi(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,s=s!==null&&s.memoizedState!==null,u){p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var v=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==b&&(p.flags|=2048)}return u!==s&&u&&(o.child.flags|=8192),hd(o,o.updateQueue),Bt(o),null;case 4:return On(),s===null&&Rm(o.stateNode.containerInfo),Bt(o),null;case 10:return $i(o.type),Bt(o),null;case 19:if(Z(dn),b=o.memoizedState,b===null)return Bt(o),null;if(p=(o.flags&128)!==0,v=b.rendering,v===null)if(p)Zl(b,!1);else{if(Ht!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=ld(s),v!==null){for(o.flags|=128,Zl(b,!1),s=v.updateQueue,o.updateQueue=s,hd(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)Ty(u,s),u=u.sibling;return te(dn,dn.current&1|2),o.child}s=s.sibling}b.tail!==null&&Ct()>gd&&(o.flags|=128,p=!0,Zl(b,!1),o.lanes=4194304)}else{if(!p)if(s=ld(v),s!==null){if(o.flags|=128,p=!0,s=s.updateQueue,o.updateQueue=s,hd(o,s),Zl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!v.alternate&&!ht)return Bt(o),null}else 2*Ct()-b.renderingStartTime>gd&&u!==536870912&&(o.flags|=128,p=!0,Zl(b,!1),o.lanes=4194304);b.isBackwards?(v.sibling=o.child,o.child=v):(s=b.last,s!==null?s.sibling=v:o.child=v,b.last=v)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Ct(),o.sibling=null,s=dn.current,te(dn,p?s&1|2:s&1),o):(Bt(o),null);case 22:case 23:return Gi(o),Dp(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),u=o.updateQueue,u!==null&&hd(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),s!==null&&Z(Ma),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),$i(un),Bt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function __(s,o){switch(yp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return $i(un),On(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return hn(o),null;case 13:if(Gi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ll()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Z(dn),null;case 4:return On(),null;case 10:return $i(o.type),null;case 22:case 23:return Gi(o),Dp(),s!==null&&Z(Ma),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return $i(un),null;case 25:return null;default:return null}}function Jv(s,o){switch(yp(o),o.tag){case 3:$i(un),On();break;case 26:case 27:case 5:hn(o);break;case 4:On();break;case 13:Gi(o);break;case 19:Z(dn);break;case 10:$i(o.type);break;case 22:case 23:Gi(o),Dp(),s!==null&&Z(Ma);break;case 24:$i(un)}}function Ql(s,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&s)===s){p=void 0;var v=u.create,N=u.inst;p=v(),N.destroy=p}u=u.next}while(u!==b)}}catch(M){Tt(o,o.return,M)}}function Ns(s,o,u){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var v=b.next;p=v;do{if((p.tag&s)===s){var N=p.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,b=o;var j=u,G=M;try{G()}catch(re){Tt(b,j,re)}}}p=p.next}while(p!==v)}}catch(re){Tt(o,o.return,re)}}function e1(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{Fy(o,u)}catch(p){Tt(s,s.return,p)}}}function t1(s,o,u){u.props=Ca(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){Tt(s,o,p)}}function Jl(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof u=="function"?s.refCleanup=u(p):u.current=p}}catch(b){Tt(s,o,b)}}function wi(s,o){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){Tt(s,o,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Tt(s,o,b)}else u.current=null}function n1(s){var o=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){Tt(s,s.return,b)}}function om(s,o,u){try{var p=s.stateNode;Z_(p,s.type,u,o),p[Q]=o}catch(b){Tt(s,s.return,b)}}function r1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Os(s.type)||s.tag===4}function lm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Os(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cm(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=kd));else if(p!==4&&(p===27&&Os(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(cm(s,o,u),s=s.sibling;s!==null;)cm(s,o,u),s=s.sibling}function pd(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(p===27&&Os(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(pd(s,o,u),s=s.sibling;s!==null;)pd(s,o,u),s=s.sibling}function i1(s){var o=s.stateNode,u=s.memoizedProps;try{for(var p=s.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);kn(o,p,u),o[H]=s,o[Q]=u}catch(v){Tt(s,s.return,v)}}var Wi=!1,Xt=!1,um=!1,s1=typeof WeakSet=="function"?WeakSet:Set,mn=null;function R_(s,o){if(s=s.containerInfo,jm=Od,s=gy(s),lp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var N=0,M=-1,j=-1,G=0,re=0,se=s,K=null;t:for(;;){for(var Y;se!==u||b!==0&&se.nodeType!==3||(M=N+b),se!==v||p!==0&&se.nodeType!==3||(j=N+p),se.nodeType===3&&(N+=se.nodeValue.length),(Y=se.firstChild)!==null;)K=se,se=Y;for(;;){if(se===s)break t;if(K===u&&++G===b&&(M=N),K===v&&++re===p&&(j=N),(Y=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Y}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lm={focusedElem:s,selectionRange:u},Od=!1,mn=o;mn!==null;)if(o=mn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,mn=s;else for(;mn!==null;){switch(o=mn,v=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,u=o,b=v.memoizedProps,v=v.memoizedState,p=u.stateNode;try{var He=Ca(u.type,b,u.elementType===u.type);s=p.getSnapshotBeforeUpdate(He,v),p.__reactInternalSnapshotBeforeUpdate=s}catch(Le){Tt(u,u.return,Le)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)Bm(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Bm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,mn=s;break}mn=o.return}}function a1(s,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:ks(s,u),p&4&&Ql(5,u);break;case 1:if(ks(s,u),p&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(N){Tt(u,u.return,N)}else{var b=Ca(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(b,o,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Tt(u,u.return,N)}}p&64&&e1(u),p&512&&Jl(u,u.return);break;case 3:if(ks(s,u),p&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Fy(s,o)}catch(N){Tt(u,u.return,N)}}break;case 27:o===null&&p&4&&i1(u);case 26:case 5:ks(s,u),o===null&&p&4&&n1(u),p&512&&Jl(u,u.return);break;case 12:ks(s,u);break;case 13:ks(s,u),p&4&&c1(s,u),p&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=U_.bind(null,u),iR(s,u))));break;case 22:if(p=u.memoizedState!==null||Wi,!p){o=o!==null&&o.memoizedState!==null||Xt,b=Wi;var v=Xt;Wi=p,(Xt=o)&&!v?Ts(s,u,(u.subtreeFlags&8772)!==0):ks(s,u),Wi=b,Xt=v}break;case 30:break;default:ks(s,u)}}function o1(s){var o=s.alternate;o!==null&&(s.alternate=null,o1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ne(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,nr=!1;function Xi(s,o,u){for(u=u.child;u!==null;)l1(s,o,u),u=u.sibling}function l1(s,o,u){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Yt,u)}catch{}switch(u.tag){case 26:Xt||wi(u,o),Xi(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Xt||wi(u,o);var p=Lt,b=nr;Os(u.type)&&(Lt=u.stateNode,nr=!1),Xi(s,o,u),lc(u.stateNode),Lt=p,nr=b;break;case 5:Xt||wi(u,o);case 6:if(p=Lt,b=nr,Lt=null,Xi(s,o,u),Lt=p,nr=b,Lt!==null)if(nr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(u.stateNode)}catch(v){Tt(u,o,v)}else try{Lt.removeChild(u.stateNode)}catch(v){Tt(u,o,v)}break;case 18:Lt!==null&&(nr?(s=Lt,X1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),gc(s)):X1(Lt,u.stateNode));break;case 4:p=Lt,b=nr,Lt=u.stateNode.containerInfo,nr=!0,Xi(s,o,u),Lt=p,nr=b;break;case 0:case 11:case 14:case 15:Xt||Ns(2,u,o),Xt||Ns(4,u,o),Xi(s,o,u);break;case 1:Xt||(wi(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&t1(u,o,p)),Xi(s,o,u);break;case 21:Xi(s,o,u);break;case 22:Xt=(p=Xt)||u.memoizedState!==null,Xi(s,o,u),Xt=p;break;default:Xi(s,o,u)}}function c1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gc(s)}catch(u){Tt(o,o.return,u)}}function O_(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new s1),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new s1),o;default:throw Error(r(435,s.tag))}}function dm(s,o){var u=O_(s);o.forEach(function(p){var b=F_.bind(null,s,p);u.has(p)||(u.add(p),p.then(b,b))})}function pr(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],v=s,N=o,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(Os(M.type)){Lt=M.stateNode,nr=!1;break e}break;case 5:Lt=M.stateNode,nr=!1;break e;case 3:case 4:Lt=M.stateNode.containerInfo,nr=!0;break e}M=M.return}if(Lt===null)throw Error(r(160));l1(v,N,b),Lt=null,nr=!1,v=b.alternate,v!==null&&(v.return=null),b.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)u1(o,s),o=o.sibling}var ii=null;function u1(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pr(o,s),mr(s),p&4&&(Ns(3,s,s.return),Ql(3,s),Ns(5,s,s.return));break;case 1:pr(o,s),mr(s),p&512&&(Xt||u===null||wi(u,u.return)),p&64&&Wi&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=ii;if(pr(o,s),mr(s),p&512&&(Xt||u===null||wi(u,u.return)),p&4){var v=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":v=b.getElementsByTagName("title")[0],(!v||v[Se]||v[H]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=b.createElement(p),b.head.insertBefore(v,b.querySelector("head > title"))),kn(v,p,u),v[H]=s,qe(v),p=v;break e;case"link":var N=iw("link","href",b).get(p+(u.href||""));if(N){for(var M=0;M<N.length;M++)if(v=N[M],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(M,1);break t}}v=b.createElement(p),kn(v,p,u),b.head.appendChild(v);break;case"meta":if(N=iw("meta","content",b).get(p+(u.content||""))){for(M=0;M<N.length;M++)if(v=N[M],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(M,1);break t}}v=b.createElement(p),kn(v,p,u),b.head.appendChild(v);break;default:throw Error(r(468,p))}v[H]=s,qe(v),p=v}s.stateNode=p}else sw(b,s.type,s.stateNode);else s.stateNode=rw(b,p,s.memoizedProps);else v!==p?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,p===null?sw(b,s.type,s.stateNode):rw(b,p,s.memoizedProps)):p===null&&s.stateNode!==null&&om(s,s.memoizedProps,u.memoizedProps)}break;case 27:pr(o,s),mr(s),p&512&&(Xt||u===null||wi(u,u.return)),u!==null&&p&4&&om(s,s.memoizedProps,u.memoizedProps);break;case 5:if(pr(o,s),mr(s),p&512&&(Xt||u===null||wi(u,u.return)),s.flags&32){b=s.stateNode;try{xi(b,"")}catch(Y){Tt(s,s.return,Y)}}p&4&&s.stateNode!=null&&(b=s.memoizedProps,om(s,b,u!==null?u.memoizedProps:b)),p&1024&&(um=!0);break;case 6:if(pr(o,s),mr(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(Y){Tt(s,s.return,Y)}}break;case 3:if(Cd=null,b=ii,ii=Md(o.containerInfo),pr(o,s),ii=b,mr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{gc(o.containerInfo)}catch(Y){Tt(s,s.return,Y)}um&&(um=!1,d1(s));break;case 4:p=ii,ii=Md(s.stateNode.containerInfo),pr(o,s),mr(s),ii=p;break;case 12:pr(o,s),mr(s);break;case 13:pr(o,s),mr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(bm=Ct()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,dm(s,p)));break;case 22:b=s.memoizedState!==null;var j=u!==null&&u.memoizedState!==null,G=Wi,re=Xt;if(Wi=G||b,Xt=re||j,pr(o,s),Xt=re,Wi=G,mr(s),p&8192)e:for(o=s.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||j||Wi||Xt||_a(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){j=u=o;try{if(v=j.stateNode,b)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=j.stateNode;var se=j.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;M.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){Tt(j,j.return,Y)}}}else if(o.tag===6){if(u===null){j=o;try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(Y){Tt(j,j.return,Y)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,dm(s,u))));break;case 19:pr(o,s),mr(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,dm(s,p)));break;case 30:break;case 21:break;default:pr(o,s),mr(s)}}function mr(s){var o=s.flags;if(o&2){try{for(var u,p=s.return;p!==null;){if(r1(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,v=lm(s);pd(s,v,b);break;case 5:var N=u.stateNode;u.flags&32&&(xi(N,""),u.flags&=-33);var M=lm(s);pd(s,M,N);break;case 3:case 4:var j=u.stateNode.containerInfo,G=lm(s);cm(s,G,j);break;default:throw Error(r(161))}}catch(re){Tt(s,s.return,re)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function d1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;d1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function ks(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)a1(s,o.alternate,o),o=o.sibling}function _a(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ns(4,o,o.return),_a(o);break;case 1:wi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&t1(o,o.return,u),_a(o);break;case 27:lc(o.stateNode);case 26:case 5:wi(o,o.return),_a(o);break;case 22:o.memoizedState===null&&_a(o);break;case 30:_a(o);break;default:_a(o)}s=s.sibling}}function Ts(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=s,v=o,N=v.flags;switch(v.tag){case 0:case 11:case 15:Ts(b,v,u),Ql(4,v);break;case 1:if(Ts(b,v,u),p=v,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(G){Tt(p,p.return,G)}if(p=v,b=p.updateQueue,b!==null){var M=p.stateNode;try{var j=b.shared.hiddenCallbacks;if(j!==null)for(b.shared.hiddenCallbacks=null,b=0;b<j.length;b++)Uy(j[b],M)}catch(G){Tt(p,p.return,G)}}u&&N&64&&e1(v),Jl(v,v.return);break;case 27:i1(v);case 26:case 5:Ts(b,v,u),u&&p===null&&N&4&&n1(v),Jl(v,v.return);break;case 12:Ts(b,v,u);break;case 13:Ts(b,v,u),u&&N&4&&c1(b,v);break;case 22:v.memoizedState===null&&Ts(b,v,u),Jl(v,v.return);break;case 30:break;default:Ts(b,v,u)}o=o.sibling}}function fm(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Bl(u))}function hm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Bl(s))}function Ei(s,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)f1(s,o,u,p),o=o.sibling}function f1(s,o,u,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(s,o,u,p),b&2048&&Ql(9,o);break;case 1:Ei(s,o,u,p);break;case 3:Ei(s,o,u,p),b&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Bl(s)));break;case 12:if(b&2048){Ei(s,o,u,p),s=o.stateNode;try{var v=o.memoizedProps,N=v.id,M=v.onPostCommit;typeof M=="function"&&M(N,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){Tt(o,o.return,j)}}else Ei(s,o,u,p);break;case 13:Ei(s,o,u,p);break;case 23:break;case 22:v=o.stateNode,N=o.alternate,o.memoizedState!==null?v._visibility&2?Ei(s,o,u,p):ec(s,o):v._visibility&2?Ei(s,o,u,p):(v._visibility|=2,To(s,o,u,p,(o.subtreeFlags&10256)!==0)),b&2048&&fm(N,o);break;case 24:Ei(s,o,u,p),b&2048&&hm(o.alternate,o);break;default:Ei(s,o,u,p)}}function To(s,o,u,p,b){for(b=b&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=s,N=o,M=u,j=p,G=N.flags;switch(N.tag){case 0:case 11:case 15:To(v,N,M,j,b),Ql(8,N);break;case 23:break;case 22:var re=N.stateNode;N.memoizedState!==null?re._visibility&2?To(v,N,M,j,b):ec(v,N):(re._visibility|=2,To(v,N,M,j,b)),b&&G&2048&&fm(N.alternate,N);break;case 24:To(v,N,M,j,b),b&&G&2048&&hm(N.alternate,N);break;default:To(v,N,M,j,b)}o=o.sibling}}function ec(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,p=o,b=p.flags;switch(p.tag){case 22:ec(u,p),b&2048&&fm(p.alternate,p);break;case 24:ec(u,p),b&2048&&hm(p.alternate,p);break;default:ec(u,p)}o=o.sibling}}var tc=8192;function Mo(s){if(s.subtreeFlags&tc)for(s=s.child;s!==null;)h1(s),s=s.sibling}function h1(s){switch(s.tag){case 26:Mo(s),s.flags&tc&&s.memoizedState!==null&&bR(ii,s.memoizedState,s.memoizedProps);break;case 5:Mo(s);break;case 3:case 4:var o=ii;ii=Md(s.stateNode.containerInfo),Mo(s),ii=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=tc,tc=16777216,Mo(s),tc=o):Mo(s));break;default:Mo(s)}}function p1(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function nc(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];mn=p,g1(p,s)}p1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m1(s),s=s.sibling}function m1(s){switch(s.tag){case 0:case 11:case 15:nc(s),s.flags&2048&&Ns(9,s,s.return);break;case 3:nc(s);break;case 12:nc(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,md(s)):nc(s);break;default:nc(s)}}function md(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];mn=p,g1(p,s)}p1(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ns(8,o,o.return),md(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,md(o));break;default:md(o)}s=s.sibling}}function g1(s,o){for(;mn!==null;){var u=mn;switch(u.tag){case 0:case 11:case 15:Ns(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Bl(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,mn=p;else e:for(u=s;mn!==null;){p=mn;var b=p.sibling,v=p.return;if(o1(p),p===u){mn=null;break e}if(b!==null){b.return=v,mn=b;break e}mn=v}}}var D_={getCacheForType:function(s){var o=Ln(un),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u}},j_=typeof WeakMap=="function"?WeakMap:Map,bt=0,At=null,st=null,lt=0,xt=0,gr=null,Ms=!1,Ao=!1,pm=!1,Zi=0,Ht=0,As=0,Ra=0,mm=0,Ir=0,Co=0,rc=null,rr=null,gm=!1,bm=0,gd=1/0,bd=null,Cs=null,Nn=0,_s=null,_o=null,Ro=0,xm=0,ym=null,b1=null,ic=0,vm=null;function br(){if((bt&2)!==0&&lt!==0)return lt&-lt;if(F.T!==null){var s=xo;return s!==0?s:Mm()}return D()}function x1(){Ir===0&&(Ir=(lt&536870912)===0||ht?Ii():536870912);var s=Lr.current;return s!==null&&(s.flags|=32),Ir}function xr(s,o,u){(s===At&&(xt===2||xt===9)||s.cancelPendingCommit!==null)&&(Oo(s,0),Rs(s,lt,Ir,!1)),gi(s,u),((bt&2)===0||s!==At)&&(s===At&&((bt&2)===0&&(Ra|=u),Ht===4&&Rs(s,lt,Ir,!1)),Si(s))}function y1(s,o,u){if((bt&6)!==0)throw Error(r(327));var p=!u&&(o&124)===0&&(o&s.expiredLanes)===0||Mr(s,o),b=p?P_(s,o):Sm(s,o,!0),v=p;do{if(b===0){Ao&&!p&&Rs(s,o,0,!1);break}else{if(u=s.current.alternate,v&&!L_(u)){b=Sm(s,o,!1),v=!1;continue}if(b===2){if(v=o,s.errorRecoveryDisabledLanes&v)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var M=s;b=rc;var j=M.current.memoizedState.isDehydrated;if(j&&(Oo(M,N).flags|=256),N=Sm(M,N,!1),N!==2){if(pm&&!j){M.errorRecoveryDisabledLanes|=v,Ra|=v,b=4;break e}v=rr,rr=b,v!==null&&(rr===null?rr=v:rr.push.apply(rr,v))}b=N}if(v=!1,b!==2)continue}}if(b===1){Oo(s,0),Rs(s,o,0,!0);break}e:{switch(p=s,v=b,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Rs(p,o,Ir,!Ms);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=bm+300-Ct(),10<b)){if(Rs(p,o,Ir,!Ms),Li(p,0,!0)!==0)break e;p.timeoutHandle=Y1(v1.bind(null,p,u,rr,bd,gm,o,Ir,Ra,Co,Ms,v,2,-0,0),b);break e}v1(p,u,rr,bd,gm,o,Ir,Ra,Co,Ms,v,0,-0,0)}}break}while(!0);Si(s)}function v1(s,o,u,p,b,v,N,M,j,G,re,se,K,Y){if(s.timeoutHandle=-1,se=o.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(dc={stylesheets:null,count:0,unsuspend:gR},h1(o),se=xR(),se!==null)){s.cancelPendingCommit=se(M1.bind(null,s,o,v,u,p,b,N,M,j,re,1,K,Y)),Rs(s,v,N,!G);return}M1(s,o,v,u,p,b,N,M,j)}function L_(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],v=b.getSnapshot;b=b.value;try{if(!fr(v(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Rs(s,o,u,p){o&=~mm,o&=~Ra,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var b=o;0<b;){var v=31-cn(b),N=1<<v;p[v]=-1,b&=~N}u!==0&&I(s,u,o)}function xd(){return(bt&6)===0?(sc(0),!1):!0}function wm(){if(st!==null){if(xt===0)var s=st.return;else s=st,Hi=ka=null,Bp(s),No=null,Wl=0,s=st;for(;s!==null;)Jv(s.alternate,s),s=s.return;st=null}}function Oo(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,J_(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),wm(),At=s,st=u=Ui(s.current,null),lt=o,xt=0,gr=null,Ms=!1,Ao=Mr(s,o),pm=!1,Co=Ir=mm=Ra=As=Ht=0,rr=rc=null,gm=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var b=31-cn(p),v=1<<b;o|=s[b],p&=~v}return Zi=o,Uu(),u}function w1(s,o){nt=null,F.H=sd,o===Ul||o===Wu?(o=By(),xt=3):o===Ly?(o=By(),xt=4):xt=o===zv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gr=o,st===null&&(Ht=1,ud(s,Rr(o,s.current)))}function E1(){var s=F.H;return F.H=sd,s===null?sd:s}function S1(){var s=F.A;return F.A=D_,s}function Em(){Ht=4,Ms||(lt&4194048)!==lt&&Lr.current!==null||(Ao=!0),(As&134217727)===0&&(Ra&134217727)===0||At===null||Rs(At,lt,Ir,!1)}function Sm(s,o,u){var p=bt;bt|=2;var b=E1(),v=S1();(At!==s||lt!==o)&&(bd=null,Oo(s,o)),o=!1;var N=Ht;e:do try{if(xt!==0&&st!==null){var M=st,j=gr;switch(xt){case 8:wm(),N=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(o=!0);var G=xt;if(xt=0,gr=null,Do(s,M,j,G),u&&Ao){N=0;break e}break;default:G=xt,xt=0,gr=null,Do(s,M,j,G)}}I_(),N=Ht;break}catch(re){w1(s,re)}while(!0);return o&&s.shellSuspendCounter++,Hi=ka=null,bt=p,F.H=b,F.A=v,st===null&&(At=null,lt=0,Uu()),N}function I_(){for(;st!==null;)N1(st)}function P_(s,o){var u=bt;bt|=2;var p=E1(),b=S1();At!==s||lt!==o?(bd=null,gd=Ct()+500,Oo(s,o)):Ao=Mr(s,o);e:do try{if(xt!==0&&st!==null){o=st;var v=gr;t:switch(xt){case 1:xt=0,gr=null,Do(s,o,v,1);break;case 2:case 9:if(Iy(v)){xt=0,gr=null,k1(o);break}o=function(){xt!==2&&xt!==9||At!==s||(xt=7),Si(s)},v.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Iy(v)?(xt=0,gr=null,k1(o)):(xt=0,gr=null,Do(s,o,v,7));break;case 5:var N=null;switch(st.tag){case 26:N=st.memoizedState;case 5:case 27:var M=st;if(!N||aw(N)){xt=0,gr=null;var j=M.sibling;if(j!==null)st=j;else{var G=M.return;G!==null?(st=G,yd(G)):st=null}break t}}xt=0,gr=null,Do(s,o,v,5);break;case 6:xt=0,gr=null,Do(s,o,v,6);break;case 8:wm(),Ht=6;break e;default:throw Error(r(462))}}B_();break}catch(re){w1(s,re)}while(!0);return Hi=ka=null,F.H=p,F.A=b,bt=u,st!==null?0:(At=null,lt=0,Uu(),Ht)}function B_(){for(;st!==null&&!Di();)N1(st)}function N1(s){var o=Zv(s.alternate,s,Zi);s.memoizedProps=s.pendingProps,o===null?yd(s):st=o}function k1(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=qv(u,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=qv(u,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:Bp(o);default:Jv(u,o),o=st=Ty(o,Zi),o=Zv(u,o,Zi)}s.memoizedProps=s.pendingProps,o===null?yd(s):st=o}function Do(s,o,u,p){Hi=ka=null,Bp(o),No=null,Wl=0;var b=o.return;try{if(M_(s,b,o,u,lt)){Ht=1,ud(s,Rr(u,s.current)),st=null;return}}catch(v){if(b!==null)throw st=b,v;Ht=1,ud(s,Rr(u,s.current)),st=null;return}o.flags&32768?(ht||p===1?s=!0:Ao||(lt&536870912)!==0?s=!1:(Ms=s=!0,(p===2||p===9||p===3||p===6)&&(p=Lr.current,p!==null&&p.tag===13&&(p.flags|=16384))),T1(o,s)):yd(o)}function yd(s){var o=s;do{if((o.flags&32768)!==0){T1(o,Ms);return}s=o.return;var u=C_(o.alternate,o,Zi);if(u!==null){st=u;return}if(o=o.sibling,o!==null){st=o;return}st=o=s}while(o!==null);Ht===0&&(Ht=5)}function T1(s,o){do{var u=__(s.alternate,s);if(u!==null){u.flags&=32767,st=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){st=s;return}st=s=u}while(s!==null);Ht=6,st=null}function M1(s,o,u,p,b,v,N,M,j){s.cancelPendingCommit=null;do vd();while(Nn!==0);if((bt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=hp,Jr(s,u,v,N,M,j),s===At&&(st=At=null,lt=0),_o=o,_s=s,Ro=u,xm=v,ym=b,b1=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,V_(pi,function(){return O1(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=F.T,F.T=null,b=ee.p,ee.p=2,N=bt,bt|=4;try{R_(s,o,u)}finally{bt=N,ee.p=b,F.T=p}}Nn=1,A1(),C1(),_1()}}function A1(){if(Nn===1){Nn=0;var s=_s,o=_o,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var p=ee.p;ee.p=2;var b=bt;bt|=4;try{u1(o,s);var v=Lm,N=gy(s.containerInfo),M=v.focusedElem,j=v.selectionRange;if(N!==M&&M&&M.ownerDocument&&my(M.ownerDocument.documentElement,M)){if(j!==null&&lp(M)){var G=j.start,re=j.end;if(re===void 0&&(re=G),"selectionStart"in M)M.selectionStart=G,M.selectionEnd=Math.min(re,M.value.length);else{var se=M.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var Y=K.getSelection(),He=M.textContent.length,Le=Math.min(j.start,He),Nt=j.end===void 0?Le:Math.min(j.end,He);!Y.extend&&Le>Nt&&(N=Nt,Nt=Le,Le=N);var V=py(M,Le),z=py(M,Nt);if(V&&z&&(Y.rangeCount!==1||Y.anchorNode!==V.node||Y.anchorOffset!==V.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var q=se.createRange();q.setStart(V.node,V.offset),Y.removeAllRanges(),Le>Nt?(Y.addRange(q),Y.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),Y.addRange(q))}}}}for(se=[],Y=M;Y=Y.parentNode;)Y.nodeType===1&&se.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<se.length;M++){var ie=se[M];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Od=!!jm,Lm=jm=null}finally{bt=b,ee.p=p,F.T=u}}s.current=o,Nn=2}}function C1(){if(Nn===2){Nn=0;var s=_s,o=_o,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var p=ee.p;ee.p=2;var b=bt;bt|=4;try{a1(s,o.alternate,o)}finally{bt=b,ee.p=p,F.T=u}}Nn=3}}function _1(){if(Nn===4||Nn===3){Nn=0,ot();var s=_s,o=_o,u=Ro,p=b1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Nn=5:(Nn=0,_o=_s=null,R1(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Cs=null),Be(u),o=o.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Yt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=F.T,b=ee.p,ee.p=2,F.T=null;try{for(var v=s.onRecoverableError,N=0;N<p.length;N++){var M=p[N];v(M.value,{componentStack:M.stack})}}finally{F.T=o,ee.p=b}}(Ro&3)!==0&&vd(),Si(s),b=s.pendingLanes,(u&4194090)!==0&&(b&42)!==0?s===vm?ic++:(ic=0,vm=s):ic=0,sc(0)}}function R1(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Bl(o)))}function vd(s){return A1(),C1(),_1(),O1()}function O1(){if(Nn!==5)return!1;var s=_s,o=xm;xm=0;var u=Be(Ro),p=F.T,b=ee.p;try{ee.p=32>u?32:u,F.T=null,u=ym,ym=null;var v=_s,N=Ro;if(Nn=0,_o=_s=null,Ro=0,(bt&6)!==0)throw Error(r(331));var M=bt;if(bt|=4,m1(v.current),f1(v,v.current,N,u),bt=M,sc(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Yt,v)}catch{}return!0}finally{ee.p=b,F.T=p,R1(s,o)}}function D1(s,o,u){o=Rr(u,o),o=Qp(s.stateNode,o,2),s=vs(s,o,2),s!==null&&(gi(s,2),Si(s))}function Tt(s,o,u){if(s.tag===3)D1(s,s,u);else for(;o!==null;){if(o.tag===3){D1(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Cs===null||!Cs.has(p))){s=Rr(u,s),u=Pv(2),p=vs(o,u,2),p!==null&&(Bv(u,p,o,s),gi(p,2),Si(p));break}}o=o.return}}function Nm(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new j_;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(u)||(pm=!0,b.add(u),s=z_.bind(null,s,o,u),o.then(s,s))}function z_(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,At===s&&(lt&u)===u&&(Ht===4||Ht===3&&(lt&62914560)===lt&&300>Ct()-bm?(bt&2)===0&&Oo(s,0):mm|=u,Co===lt&&(Co=0)),Si(s)}function j1(s,o){o===0&&(o=fa()),s=po(s,o),s!==null&&(gi(s,o),Si(s))}function U_(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),j1(s,u)}function F_(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,b=s.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),j1(s,u)}function V_(s,o){return Nr(s,o)}var wd=null,jo=null,km=!1,Ed=!1,Tm=!1,Oa=0;function Si(s){s!==jo&&s.next===null&&(jo===null?wd=jo=s:jo=jo.next=s),Ed=!0,km||(km=!0,$_())}function sc(s,o){if(!Tm&&Ed){Tm=!0;do for(var u=!1,p=wd;p!==null;){if(s!==0){var b=p.pendingLanes;if(b===0)var v=0;else{var N=p.suspendedLanes,M=p.pingedLanes;v=(1<<31-cn(42|s)+1)-1,v&=b&~(N&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,B1(p,v))}else v=lt,v=Li(p,p===At?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||Mr(p,v)||(u=!0,B1(p,v));p=p.next}while(u);Tm=!1}}function H_(){L1()}function L1(){Ed=km=!1;var s=0;Oa!==0&&(Q_()&&(s=Oa),Oa=0);for(var o=Ct(),u=null,p=wd;p!==null;){var b=p.next,v=I1(p,o);v===0?(p.next=null,u===null?wd=b:u.next=b,b===null&&(jo=u)):(u=p,(s!==0||(v&3)!==0)&&(Ed=!0)),p=b}sc(s)}function I1(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,b=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var N=31-cn(v),M=1<<N,j=b[N];j===-1?((M&u)===0||(M&p)!==0)&&(b[N]=fs(M,o)):j<=o&&(s.expiredLanes|=M),v&=~M}if(o=At,u=lt,u=Li(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,u===0||s===o&&(xt===2||xt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&wn(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Mr(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(p!==null&&wn(p),Be(u)){case 2:case 8:u=hi;break;case 32:u=pi;break;case 268435456:u=Ge;break;default:u=pi}return p=P1.bind(null,s),u=Nr(u,p),s.callbackPriority=o,s.callbackNode=u,o}return p!==null&&p!==null&&wn(p),s.callbackPriority=2,s.callbackNode=null,2}function P1(s,o){if(Nn!==0&&Nn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(vd()&&s.callbackNode!==u)return null;var p=lt;return p=Li(s,s===At?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(y1(s,p,o),I1(s,Ct()),s.callbackNode!=null&&s.callbackNode===u?P1.bind(null,s):null)}function B1(s,o){if(vd())return null;y1(s,o,!0)}function $_(){eR(function(){(bt&6)!==0?Nr(kr,H_):L1()})}function Mm(){return Oa===0&&(Oa=Ii()),Oa}function z1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ms(""+s)}function U1(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function q_(s,o,u,p,b){if(o==="submit"&&u&&u.stateNode===b){var v=z1((b[Q]||null).action),N=p.submitter;N&&(o=(o=N[Q]||null)?z1(o.formAction):N.getAttribute("formAction"),o!==null&&(v=o,N=null));var M=new Pu("action","action",null,p,b);s.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Oa!==0){var j=N?U1(b,N):new FormData(b);Kp(u,{pending:!0,data:j,method:b.method,action:v},null,j)}}else typeof v=="function"&&(M.preventDefault(),j=N?U1(b,N):new FormData(b),Kp(u,{pending:!0,data:j,method:b.method,action:v},v,j))},currentTarget:b}]})}}for(var Am=0;Am<fp.length;Am++){var Cm=fp[Am],G_=Cm.toLowerCase(),K_=Cm[0].toUpperCase()+Cm.slice(1);ri(G_,"on"+K_)}ri(yy,"onAnimationEnd"),ri(vy,"onAnimationIteration"),ri(wy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(u_,"onTransitionRun"),ri(d_,"onTransitionStart"),ri(f_,"onTransitionCancel"),ri(Ey,"onTransitionEnd"),jt("onMouseEnter",["mouseout","mouseover"]),jt("onMouseLeave",["mouseout","mouseover"]),jt("onPointerEnter",["pointerout","pointerover"]),jt("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function F1(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],b=p.event;p=p.listeners;e:{var v=void 0;if(o)for(var N=p.length-1;0<=N;N--){var M=p[N],j=M.instance,G=M.currentTarget;if(M=M.listener,j!==v&&b.isPropagationStopped())break e;v=M,b.currentTarget=G;try{v(b)}catch(re){cd(re)}b.currentTarget=null,v=j}else for(N=0;N<p.length;N++){if(M=p[N],j=M.instance,G=M.currentTarget,M=M.listener,j!==v&&b.isPropagationStopped())break e;v=M,b.currentTarget=G;try{v(b)}catch(re){cd(re)}b.currentTarget=null,v=j}}}}function at(s,o){var u=o[he];u===void 0&&(u=o[he]=new Set);var p=s+"__bubble";u.has(p)||(V1(o,s,2,!1),u.add(p))}function _m(s,o,u){var p=0;o&&(p|=4),V1(u,s,p,o)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Rm(s){if(!s[Sd]){s[Sd]=!0,pt.forEach(function(u){u!=="selectionchange"&&(Y_.has(u)||_m(u,!1,s),_m(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Sd]||(o[Sd]=!0,_m("selectionchange",!1,o))}}function V1(s,o,u,p){switch(fw(o)){case 2:var b=wR;break;case 8:b=ER;break;default:b=qm}u=b.bind(null,o,u,s),b=void 0,!Jh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?s.addEventListener(o,u,{capture:!0,passive:b}):s.addEventListener(o,u,!0):b!==void 0?s.addEventListener(o,u,{passive:b}):s.addEventListener(o,u,!1)}function Om(s,o,u,p,b){var v=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var M=p.stateNode.containerInfo;if(M===b)break;if(N===4)for(N=p.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;M!==null;){if(N=Xe(M),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){p=v=N;continue e}M=M.parentNode}}p=p.return}_r(function(){var G=v,re=me(u),se=[];e:{var K=Sy.get(s);if(K!==void 0){var Y=Pu,He=s;switch(s){case"keypress":if(Lu(u)===0)break e;case"keydown":case"keyup":Y=V2;break;case"focusin":He="focus",Y=rp;break;case"focusout":He="blur",Y=rp;break;case"beforeblur":case"afterblur":Y=rp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=_2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=q2;break;case yy:case vy:case wy:Y=D2;break;case Ey:Y=K2;break;case"scroll":case"scrollend":Y=A2;break;case"wheel":Y=W2;break;case"copy":case"cut":case"paste":Y=L2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ey;break;case"toggle":case"beforetoggle":Y=Z2}var Le=(o&4)!==0,Nt=!Le&&(s==="scroll"||s==="scrollend"),V=Le?K!==null?K+"Capture":null:K;Le=[];for(var z=G,q;z!==null;){var ie=z;if(q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||q===null||V===null||(ie=ga(z,V),ie!=null&&Le.push(oc(z,ie,q))),Nt)break;z=z.return}0<Le.length&&(K=new Y(K,He,null,u,re),se.push({event:K,listeners:Le}))}}if((o&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",K&&u!==ma&&(He=u.relatedTarget||u.fromElement)&&(Xe(He)||He[fe]))break e;if((Y||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(He=u.relatedTarget||u.toElement,Y=G,He=He?Xe(He):null,He!==null&&(Nt=a(He),Le=He.tag,He!==Nt||Le!==5&&Le!==27&&Le!==6)&&(He=null)):(Y=null,He=G),Y!==He)){if(Le=Qx,ie="onMouseLeave",V="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Le=ey,ie="onPointerLeave",V="onPointerEnter",z="pointer"),Nt=Y==null?K:Dt(Y),q=He==null?K:Dt(He),K=new Le(ie,z+"leave",Y,u,re),K.target=Nt,K.relatedTarget=q,ie=null,Xe(re)===G&&(Le=new Le(V,z+"enter",He,u,re),Le.target=q,Le.relatedTarget=Nt,ie=Le),Nt=ie,Y&&He)t:{for(Le=Y,V=He,z=0,q=Le;q;q=Lo(q))z++;for(q=0,ie=V;ie;ie=Lo(ie))q++;for(;0<z-q;)Le=Lo(Le),z--;for(;0<q-z;)V=Lo(V),q--;for(;z--;){if(Le===V||V!==null&&Le===V.alternate)break t;Le=Lo(Le),V=Lo(V)}Le=null}else Le=null;Y!==null&&H1(se,K,Y,Le,!1),He!==null&&Nt!==null&&H1(se,Nt,He,Le,!0)}}e:{if(K=G?Dt(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var we=ly;else if(ay(K))if(cy)we=o_;else{we=s_;var rt=i_}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&mt(G.elementType)&&(we=ly):we=a_;if(we&&(we=we(s,G))){oy(se,we,u,re);break e}rt&&rt(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&ps(K,"number",K.value)}switch(rt=G?Dt(G):window,s){case"focusin":(ay(rt)||rt.contentEditable==="true")&&(uo=rt,cp=G,Dl=null);break;case"focusout":Dl=cp=uo=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,by(se,u,re);break;case"selectionchange":if(c_)break;case"keydown":case"keyup":by(se,u,re)}var _e;if(sp)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else co?iy(s,u)&&(Ue="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(ty&&u.locale!=="ko"&&(co||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&co&&(_e=Xx()):(gs=re,ep="value"in gs?gs.value:gs.textContent,co=!0)),rt=Nd(G,Ue),0<rt.length&&(Ue=new Jx(Ue,s,null,u,re),se.push({event:Ue,listeners:rt}),_e?Ue.data=_e:(_e=sy(u),_e!==null&&(Ue.data=_e)))),(_e=J2?e_(s,u):t_(s,u))&&(Ue=Nd(G,"onBeforeInput"),0<Ue.length&&(rt=new Jx("onBeforeInput","beforeinput",null,u,re),se.push({event:rt,listeners:Ue}),rt.data=_e)),q_(se,s,G,u,re)}F1(se,o)})}function oc(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Nd(s,o){for(var u=o+"Capture",p=[];s!==null;){var b=s,v=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||v===null||(b=ga(s,u),b!=null&&p.unshift(oc(s,b,v)),b=ga(s,o),b!=null&&p.push(oc(s,b,v))),s.tag===3)return p;s=s.return}return[]}function Lo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H1(s,o,u,p,b){for(var v=o._reactName,N=[];u!==null&&u!==p;){var M=u,j=M.alternate,G=M.stateNode;if(M=M.tag,j!==null&&j===p)break;M!==5&&M!==26&&M!==27||G===null||(j=G,b?(G=ga(u,v),G!=null&&N.unshift(oc(u,G,j))):b||(G=ga(u,v),G!=null&&N.push(oc(u,G,j)))),u=u.return}N.length!==0&&s.push({event:o,listeners:N})}var W_=/\r\n?/g,X_=/\u0000|\uFFFD/g;function $1(s){return(typeof s=="string"?s:""+s).replace(W_,`
`).replace(X_,"")}function q1(s,o){return o=$1(o),$1(s)===o}function kd(){}function St(s,o,u,p,b,v){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||xi(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&xi(s,""+p);break;case"className":Qn(s,"class",p);break;case"tabIndex":Qn(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(s,u,p);break;case"style":tn(s,p,v);break;case"data":if(o!=="object"){Qn(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=ms(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&St(s,o,"name",b.name,b,null),St(s,o,"formEncType",b.formEncType,b,null),St(s,o,"formMethod",b.formMethod,b,null),St(s,o,"formTarget",b.formTarget,b,null)):(St(s,o,"encType",b.encType,b,null),St(s,o,"method",b.method,b,null),St(s,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=ms(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=kd);break;case"onScroll":p!=null&&at("scroll",s);break;case"onScrollEnd":p!=null&&at("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=ms(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":at("beforetoggle",s),at("toggle",s),ti(s,"popover",p);break;case"xlinkActuate":Ze(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ze(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ze(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ze(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ze(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ze(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ze(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ze(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ze(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ti(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=lo.get(u)||u,ti(s,u,p))}}function Dm(s,o,u,p,b,v){switch(u){case"style":tn(s,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof p=="string"?xi(s,p):(typeof p=="number"||typeof p=="bigint")&&xi(s,""+p);break;case"onScroll":p!=null&&at("scroll",s);break;case"onScrollEnd":p!=null&&at("scrollend",s);break;case"onClick":p!=null&&(s.onclick=kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),v=s[Q]||null,v=v!=null?v[u]:null,typeof v=="function"&&s.removeEventListener(o,v,b),typeof p=="function")){typeof v!="function"&&v!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,p,b);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):ti(s,u,p)}}}function kn(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",s),at("load",s);var p=!1,b=!1,v;for(v in u)if(u.hasOwnProperty(v)){var N=u[v];if(N!=null)switch(v){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:St(s,o,v,N,u,null)}}b&&St(s,o,"srcSet",u.srcSet,u,null),p&&St(s,o,"src",u.src,u,null);return;case"input":at("invalid",s);var M=v=N=b=null,j=null,G=null;for(p in u)if(u.hasOwnProperty(p)){var re=u[p];if(re!=null)switch(p){case"name":b=re;break;case"type":N=re;break;case"checked":j=re;break;case"defaultChecked":G=re;break;case"value":v=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:St(s,o,p,re,u,null)}}Ou(s,v,M,j,G,N,b,!1),ha(s);return;case"select":at("invalid",s),p=N=v=null;for(b in u)if(u.hasOwnProperty(b)&&(M=u[b],M!=null))switch(b){case"value":v=M;break;case"defaultValue":N=M;break;case"multiple":p=M;default:St(s,o,b,M,u,null)}o=v,u=N,s.multiple=!!p,o!=null?Bi(s,!!p,o,!1):u!=null&&Bi(s,!!p,u,!0);return;case"textarea":at("invalid",s),v=b=p=null;for(N in u)if(u.hasOwnProperty(N)&&(M=u[N],M!=null))switch(N){case"value":p=M;break;case"defaultValue":b=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:St(s,o,N,M,u,null)}Du(s,p,b,v),ha(s);return;case"option":for(j in u)if(u.hasOwnProperty(j)&&(p=u[j],p!=null))switch(j){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:St(s,o,j,p,u,null)}return;case"dialog":at("beforetoggle",s),at("toggle",s),at("cancel",s),at("close",s);break;case"iframe":case"object":at("load",s);break;case"video":case"audio":for(p=0;p<ac.length;p++)at(ac[p],s);break;case"image":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"embed":case"source":case"link":at("error",s),at("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in u)if(u.hasOwnProperty(G)&&(p=u[G],p!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:St(s,o,G,p,u,null)}return;default:if(mt(o)){for(re in u)u.hasOwnProperty(re)&&(p=u[re],p!==void 0&&Dm(s,o,re,p,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(p=u[M],p!=null&&St(s,o,M,p,u,null))}function Z_(s,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,v=null,N=null,M=null,j=null,G=null,re=null;for(Y in u){var se=u[Y];if(u.hasOwnProperty(Y)&&se!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=se;default:p.hasOwnProperty(Y)||St(s,o,Y,null,p,se)}}for(var K in p){var Y=p[K];if(se=u[K],p.hasOwnProperty(K)&&(Y!=null||se!=null))switch(K){case"type":v=Y;break;case"name":b=Y;break;case"checked":G=Y;break;case"defaultChecked":re=Y;break;case"value":N=Y;break;case"defaultValue":M=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,o));break;default:Y!==se&&St(s,o,K,Y,p,se)}}Nl(s,N,M,j,G,re,v,b);return;case"select":Y=N=M=K=null;for(v in u)if(j=u[v],u.hasOwnProperty(v)&&j!=null)switch(v){case"value":break;case"multiple":Y=j;default:p.hasOwnProperty(v)||St(s,o,v,null,p,j)}for(b in p)if(v=p[b],j=u[b],p.hasOwnProperty(b)&&(v!=null||j!=null))switch(b){case"value":K=v;break;case"defaultValue":M=v;break;case"multiple":N=v;default:v!==j&&St(s,o,b,v,p,j)}o=M,u=N,p=Y,K!=null?Bi(s,!!u,K,!1):!!p!=!!u&&(o!=null?Bi(s,!!u,o,!0):Bi(s,!!u,u?[]:"",!1));return;case"textarea":Y=K=null;for(M in u)if(b=u[M],u.hasOwnProperty(M)&&b!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:St(s,o,M,null,p,b)}for(N in p)if(b=p[N],v=u[N],p.hasOwnProperty(N)&&(b!=null||v!=null))switch(N){case"value":K=b;break;case"defaultValue":Y=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==v&&St(s,o,N,b,p,v)}dr(s,K,Y);return;case"option":for(var He in u)if(K=u[He],u.hasOwnProperty(He)&&K!=null&&!p.hasOwnProperty(He))switch(He){case"selected":s.selected=!1;break;default:St(s,o,He,null,p,K)}for(j in p)if(K=p[j],Y=u[j],p.hasOwnProperty(j)&&K!==Y&&(K!=null||Y!=null))switch(j){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:St(s,o,j,K,p,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in u)K=u[Le],u.hasOwnProperty(Le)&&K!=null&&!p.hasOwnProperty(Le)&&St(s,o,Le,null,p,K);for(G in p)if(K=p[G],Y=u[G],p.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,o));break;default:St(s,o,G,K,p,Y)}return;default:if(mt(o)){for(var Nt in u)K=u[Nt],u.hasOwnProperty(Nt)&&K!==void 0&&!p.hasOwnProperty(Nt)&&Dm(s,o,Nt,void 0,p,K);for(re in p)K=p[re],Y=u[re],!p.hasOwnProperty(re)||K===Y||K===void 0&&Y===void 0||Dm(s,o,re,K,p,Y);return}}for(var V in u)K=u[V],u.hasOwnProperty(V)&&K!=null&&!p.hasOwnProperty(V)&&St(s,o,V,null,p,K);for(se in p)K=p[se],Y=u[se],!p.hasOwnProperty(se)||K===Y||K==null&&Y==null||St(s,o,se,K,p,Y)}var jm=null,Lm=null;function Td(s){return s.nodeType===9?s:s.ownerDocument}function G1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Im(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pm=null;function Q_(){var s=window.event;return s&&s.type==="popstate"?s===Pm?!1:(Pm=s,!0):(Pm=null,!1)}var Y1=typeof setTimeout=="function"?setTimeout:void 0,J_=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(s){return W1.resolve(null).then(s).catch(tR)}:Y1;function tR(s){setTimeout(function(){throw s})}function Os(s){return s==="head"}function X1(s,o){var u=o,p=0,b=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<p&&8>p){u=p;var N=s.ownerDocument;if(u&1&&lc(N.documentElement),u&2&&lc(N.body),u&4)for(u=N.head,lc(u),N=u.firstChild;N;){var M=N.nextSibling,j=N.nodeName;N[Se]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=M}}if(b===0){s.removeChild(v),gc(o);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:p=u.charCodeAt(0)-48;else p=0;u=v}while(u);gc(o)}function Bm(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Bm(u),Ne(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function nR(s,o,u,p){for(;s.nodeType===1;){var b=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[Se])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function rR(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=si(s.nextSibling),s===null))return null;return s}function zm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function iR(s,o){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function si(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Um=null;function Z1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}function Q1(s,o,u){switch(o=Td(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lc(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ne(s)}var Pr=new Map,J1=new Set;function Md(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qi=ee.d;ee.d={f:sR,r:aR,D:oR,C:lR,L:cR,m:uR,X:fR,S:dR,M:hR};function sR(){var s=Qi.f(),o=xd();return s||o}function aR(s){var o=ft(s);o!==null&&o.tag===5&&o.type==="form"?yv(o):Qi.r(s)}var Io=typeof document>"u"?null:document;function ew(s,o,u){var p=Io;if(p&&typeof o=="string"&&o){var b=Jn(o);b='link[rel="'+s+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),J1.has(b)||(J1.add(b),s={rel:s,crossOrigin:u,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),kn(o,"link",s),qe(o),p.head.appendChild(o)))}}function oR(s){Qi.D(s),ew("dns-prefetch",s,null)}function lR(s,o){Qi.C(s,o),ew("preconnect",s,o)}function cR(s,o,u){Qi.L(s,o,u);var p=Io;if(p&&s&&o){var b='link[rel="preload"][as="'+Jn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Jn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Jn(u.imageSizes)+'"]')):b+='[href="'+Jn(s)+'"]';var v=b;switch(o){case"style":v=Po(s);break;case"script":v=Bo(s)}Pr.has(v)||(s=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Pr.set(v,s),p.querySelector(b)!==null||o==="style"&&p.querySelector(cc(v))||o==="script"&&p.querySelector(uc(v))||(o=p.createElement("link"),kn(o,"link",s),qe(o),p.head.appendChild(o)))}}function uR(s,o){Qi.m(s,o);var u=Io;if(u&&s){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Jn(p)+'"][href="'+Jn(s)+'"]',v=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Bo(s)}if(!Pr.has(v)&&(s=m({rel:"modulepreload",href:s},o),Pr.set(v,s),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(uc(v)))return}p=u.createElement("link"),kn(p,"link",s),qe(p),u.head.appendChild(p)}}}function dR(s,o,u){Qi.S(s,o,u);var p=Io;if(p&&s){var b=_t(p).hoistableStyles,v=Po(s);o=o||"default";var N=b.get(v);if(!N){var M={loading:0,preload:null};if(N=p.querySelector(cc(v)))M.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Pr.get(v))&&Fm(s,u);var j=N=p.createElement("link");qe(j),kn(j,"link",s),j._p=new Promise(function(G,re){j.onload=G,j.onerror=re}),j.addEventListener("load",function(){M.loading|=1}),j.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ad(N,o,p)}N={type:"stylesheet",instance:N,count:1,state:M},b.set(v,N)}}}function fR(s,o){Qi.X(s,o);var u=Io;if(u&&s){var p=_t(u).hoistableScripts,b=Bo(s),v=p.get(b);v||(v=u.querySelector(uc(b)),v||(s=m({src:s,async:!0},o),(o=Pr.get(b))&&Vm(s,o),v=u.createElement("script"),qe(v),kn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(b,v))}}function hR(s,o){Qi.M(s,o);var u=Io;if(u&&s){var p=_t(u).hoistableScripts,b=Bo(s),v=p.get(b);v||(v=u.querySelector(uc(b)),v||(s=m({src:s,async:!0,type:"module"},o),(o=Pr.get(b))&&Vm(s,o),v=u.createElement("script"),qe(v),kn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(b,v))}}function tw(s,o,u,p){var b=(b=Ce.current)?Md(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Po(u.href),u=_t(b).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Po(u.href);var v=_t(b).hoistableStyles,N=v.get(s);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,N),(v=b.querySelector(cc(s)))&&!v._p&&(N.instance=v,N.state.loading=5),Pr.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Pr.set(s,u),v||pR(b,s,u,N.state))),o&&p===null)throw Error(r(528,""));return N}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bo(u),u=_t(b).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Po(s){return'href="'+Jn(s)+'"'}function cc(s){return'link[rel="stylesheet"]['+s+"]"}function nw(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function pR(s,o,u,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),kn(o,"link",u),qe(o),s.head.appendChild(o))}function Bo(s){return'[src="'+Jn(s)+'"]'}function uc(s){return"script[async]"+s}function rw(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Jn(u.href)+'"]');if(p)return o.instance=p,qe(p),p;var b=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),qe(p),kn(p,"style",b),Ad(p,u.precedence,s),o.instance=p;case"stylesheet":b=Po(u.href);var v=s.querySelector(cc(b));if(v)return o.state.loading|=4,o.instance=v,qe(v),v;p=nw(u),(b=Pr.get(b))&&Fm(p,b),v=(s.ownerDocument||s).createElement("link"),qe(v);var N=v;return N._p=new Promise(function(M,j){N.onload=M,N.onerror=j}),kn(v,"link",p),o.state.loading|=4,Ad(v,u.precedence,s),o.instance=v;case"script":return v=Bo(u.src),(b=s.querySelector(uc(v)))?(o.instance=b,qe(b),b):(p=u,(b=Pr.get(v))&&(p=m({},u),Vm(p,b)),s=s.ownerDocument||s,b=s.createElement("script"),qe(b),kn(b,"link",p),s.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Ad(p,u.precedence,s));return o.instance}function Ad(s,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,v=b,N=0;N<p.length;N++){var M=p[N];if(M.dataset.precedence===o)v=M;else if(v!==b)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Fm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Vm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Cd=null;function iw(s,o,u){if(Cd===null){var p=new Map,b=Cd=new Map;b.set(u,p)}else b=Cd,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),b=0;b<u.length;b++){var v=u[b];if(!(v[Se]||v[H]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(o)||"";N=s+N;var M=p.get(N);M?M.push(v):p.set(N,[v])}}return p}function sw(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function mR(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function aw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var dc=null;function gR(){}function bR(s,o,u){if(dc===null)throw Error(r(475));var p=dc;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var b=Po(u.href),v=s.querySelector(cc(b));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=_d.bind(p),s.then(p,p)),o.state.loading|=4,o.instance=v,qe(v);return}v=s.ownerDocument||s,u=nw(u),(b=Pr.get(b))&&Fm(u,b),v=v.createElement("link"),qe(v);var N=v;N._p=new Promise(function(M,j){N.onload=M,N.onerror=j}),kn(v,"link",u),o.instance=v}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=_d.bind(p),s.addEventListener("load",o),s.addEventListener("error",o))}}function xR(){if(dc===null)throw Error(r(475));var s=dc;return s.stylesheets&&s.count===0&&Hm(s,s.stylesheets),0<s.count?function(o){var u=setTimeout(function(){if(s.stylesheets&&Hm(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u)}}:null}function _d(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Rd=null;function Hm(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Rd=new Map,o.forEach(yR,s),Rd=null,_d.call(s))}function yR(s,o){if(!(o.state.loading&4)){var u=Rd.get(s);if(u)var p=u.get(null);else{u=new Map,Rd.set(s,u);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<b.length;v++){var N=b[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),p=N)}p&&u.set(null,p)}b=o.instance,N=b.getAttribute("data-precedence"),v=u.get(N)||p,v===p&&u.set(null,b),u.set(N,b),this.count++,p=_d.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),v?v.parentNode.insertBefore(b,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),o.state.loading|=4}}var fc={$$typeof:A,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function vR(s,o,u,p,b,v,N,M){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function ow(s,o,u,p,b,v,N,M,j,G,re,se){return s=new vR(s,o,u,N,M,j,G,se),o=1,v===!0&&(o|=24),v=hr(3,null,null,o),s.current=v,v.stateNode=s,o=Np(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:p,isDehydrated:u,cache:o},Ap(v),s}function lw(s){return s?(s=mo,s):mo}function cw(s,o,u,p,b,v){b=lw(b),p.context===null?p.context=b:p.pendingContext=b,p=ys(o),p.payload={element:u},v=v===void 0?null:v,v!==null&&(p.callback=v),u=vs(s,p,o),u!==null&&(xr(u,s,o),Vl(u,s,o))}function uw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function $m(s,o){uw(s,o),(s=s.alternate)&&uw(s,o)}function dw(s){if(s.tag===13){var o=po(s,67108864);o!==null&&xr(o,s,67108864),$m(s,67108864)}}var Od=!0;function wR(s,o,u,p){var b=F.T;F.T=null;var v=ee.p;try{ee.p=2,qm(s,o,u,p)}finally{ee.p=v,F.T=b}}function ER(s,o,u,p){var b=F.T;F.T=null;var v=ee.p;try{ee.p=8,qm(s,o,u,p)}finally{ee.p=v,F.T=b}}function qm(s,o,u,p){if(Od){var b=Gm(p);if(b===null)Om(s,o,p,Dd,u),hw(s,p);else if(NR(b,s,o,u,p))p.stopPropagation();else if(hw(s,p),o&4&&-1<SR.indexOf(s)){for(;b!==null;){var v=ft(b);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=Qr(v.pendingLanes);if(N!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var j=1<<31-cn(N);M.entanglements[1]|=j,N&=~j}Si(v),(bt&6)===0&&(gd=Ct()+500,sc(0))}}break;case 13:M=po(v,2),M!==null&&xr(M,v,2),xd(),$m(v,2)}if(v=Gm(p),v===null&&Om(s,o,p,Dd,u),v===b)break;b=v}b!==null&&p.stopPropagation()}else Om(s,o,p,null,u)}}function Gm(s){return s=me(s),Km(s)}var Dd=null;function Km(s){if(Dd=null,s=Xe(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Dd=s,null}function fw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vn()){case kr:return 2;case hi:return 8;case pi:case cr:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var Ym=!1,Ds=null,js=null,Ls=null,hc=new Map,pc=new Map,Is=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(s,o){switch(s){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":hc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(o.pointerId)}}function mc(s,o,u,p,b,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:v,targetContainers:[b]},o!==null&&(o=ft(o),o!==null&&dw(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),s)}function NR(s,o,u,p,b){switch(o){case"focusin":return Ds=mc(Ds,s,o,u,p,b),!0;case"dragenter":return js=mc(js,s,o,u,p,b),!0;case"mouseover":return Ls=mc(Ls,s,o,u,p,b),!0;case"pointerover":var v=b.pointerId;return hc.set(v,mc(hc.get(v)||null,s,o,u,p,b)),!0;case"gotpointercapture":return v=b.pointerId,pc.set(v,mc(pc.get(v)||null,s,o,u,p,b)),!0}return!1}function pw(s){var o=Xe(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,U(s.priority,function(){if(u.tag===13){var p=br();p=de(p);var b=po(u,p);b!==null&&xr(b,u,p),$m(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Gm(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);ma=p,u.target.dispatchEvent(p),ma=null}else return o=ft(u),o!==null&&dw(o),s.blockedOn=u,!1;o.shift()}return!0}function mw(s,o,u){jd(s)&&u.delete(o)}function kR(){Ym=!1,Ds!==null&&jd(Ds)&&(Ds=null),js!==null&&jd(js)&&(js=null),Ls!==null&&jd(Ls)&&(Ls=null),hc.forEach(mw),pc.forEach(mw)}function Ld(s,o){s.blockedOn===o&&(s.blockedOn=null,Ym||(Ym=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kR)))}var Id=null;function gw(s){Id!==s&&(Id=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Id===s&&(Id=null);for(var o=0;o<s.length;o+=3){var u=s[o],p=s[o+1],b=s[o+2];if(typeof p!="function"){if(Km(p||u)===null)continue;break}var v=ft(u);v!==null&&(s.splice(o,3),o-=3,Kp(v,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function gc(s){function o(j){return Ld(j,s)}Ds!==null&&Ld(Ds,s),js!==null&&Ld(js,s),Ls!==null&&Ld(Ls,s),hc.forEach(o),pc.forEach(o);for(var u=0;u<Is.length;u++){var p=Is[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Is.length&&(u=Is[0],u.blockedOn===null);)pw(u),u.blockedOn===null&&Is.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],v=u[p+1],N=b[Q]||null;if(typeof v=="function")N||gw(u);else if(N){var M=null;if(v&&v.hasAttribute("formAction")){if(b=v,N=v[Q]||null)M=N.formAction;else if(Km(b)!==null)continue}else M=N.action;typeof M=="function"?u[p+1]=M:(u.splice(p,3),p-=3),gw(u)}}}function Wm(s){this._internalRoot=s}Pd.prototype.render=Wm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=br();cw(u,p,s,o,null,null)},Pd.prototype.unmount=Wm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;cw(s.current,2,null,s,null,null),xd(),o[fe]=null}};function Pd(s){this._internalRoot=s}Pd.prototype.unstable_scheduleHydration=function(s){if(s){var o=D();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Is.length&&o!==0&&o<Is[u].priority;u++);Is.splice(u,0,s),u===0&&pw(s)}};var bw=e.version;if(bw!=="19.1.1")throw Error(r(527,bw,"19.1.1"));ee.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var TR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Yt=Bd.inject(TR),vt=Bd}catch{}}return xc.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,p="",b=Dv,v=jv,N=Lv,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks)),o=ow(s,1,!1,null,null,u,p,b,v,N,M,null),s[fe]=o.current,Rm(s),new Wm(o)},xc.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var p=!1,b="",v=Dv,N=jv,M=Lv,j=null,G=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(j=u.unstable_transitionCallbacks),u.formState!==void 0&&(G=u.formState)),o=ow(s,1,!0,o,u??null,p,b,v,N,M,j,G),o.context=lw(null),u=o.current,p=br(),p=de(p),b=ys(p),b.callback=null,vs(u,b,p),u=p,o.current.lanes=u,gi(o,u),Si(o),s[fe]=o.current,Rm(s),new Pd(o)},xc.version="19.1.1",xc}var Mw;function LR(){if(Mw)return Qm.exports;Mw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qm.exports=jR(),Qm.exports}var IR=LR();const PR=yu(IR);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dk=t=>{throw TypeError(t)},BR=(t,e,n)=>e.has(t)||dk("Cannot "+n),ng=(t,e,n)=>(BR(t,e,"read from private field"),n?n.call(t):e.get(t)),zR=(t,e,n)=>e.has(t)?dk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Aw="popstate";function UR(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Xc("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return VR(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FR(){return Math.random().toString(36).substring(2,10)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Xc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||r||FR()}}function ra({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function VR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let S=m(),k=S==null?null:S-f;f=S,d&&d({action:c,location:E.location,delta:k})}function x(S,k){c="PUSH";let _=Xc(E.location,S,k);f=m()+1;let A=Cw(_,f),P=E.createHref(_);try{l.pushState(A,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}a&&d&&d({action:c,location:E.location,delta:1})}function y(S,k){c="REPLACE";let _=Xc(E.location,S,k);f=m();let A=Cw(_,f),P=E.createHref(_);l.replaceState(A,"",P),a&&d&&d({action:c,location:E.location,delta:0})}function w(S){return fk(S)}let E={get action(){return c},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Aw,g),d=S,()=>{i.removeEventListener(Aw,g),d=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:y,go(S){return l.go(S)}};return E}function fk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ra(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Ac,_w=class{constructor(t){if(zR(this,Ac,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(ng(this,Ac).has(t))return ng(this,Ac).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){ng(this,Ac).set(t,e)}};Ac=new WeakMap;var HR=new Set(["lazy","caseSensitive","path","id","index","children"]);function $R(t){return HR.has(t)}var qR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function GR(t){return qR.has(t)}function KR(t){return t.index===!0}function Zc(t,e,n=[],r={},i=!1){return t.map((a,l)=>{let c=[...n,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(it(a.index!==!0||!a.children,"Cannot specify children on an index route"),it(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),KR(a)){let f={...a,...e(a),id:d};return r[d]=f,f}else{let f={...a,...e(a),id:d,children:void 0};return r[d]=f,a.children&&(f.children=Zc(a.children,e,c,r,i)),f}})}function qs(t,e,n="/"){return pf(t,e,n,!1)}function pf(t,e,n,r){let i=typeof e=="string"?la(e):e,a=Xr(i.pathname||"/",n);if(a==null)return null;let l=hk(t);WR(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=aO(a);c=iO(l[d],f,r)}return c}function YR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function hk(t,e=[],n=[],r="",i=!1){let a=(l,c,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;it(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Ai([r,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(it(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),hk(l.children,e,x,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:nO(g,l.index),routesMeta:x})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of pk(l.path))a(l,c,!0,d)}),e}function pk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=pk(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function WR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XR=/^:[\w-]+$/,ZR=3,QR=2,JR=1,eO=10,tO=-2,Rw=t=>t==="*";function nO(t,e){let n=t.split("/"),r=n.length;return n.some(Rw)&&(r+=tO),e&&(r+=QR),n.filter(i=>!Rw(i)).reduce((i,a)=>i+(XR.test(a)?ZR:a===""?JR:eO),r)}function rO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iO(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=Af({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),x=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Af({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ai([a,g.pathname]),pathnameBase:uO(Ai([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Ai([a,g.pathnameBase]))}return l}function Af(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},x)=>{if(m==="*"){let w=c[x]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[x];return g&&!y?f[m]=void 0:f[m]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function sO(t,e=!1,n=!0){Kt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oO({basename:t,pathname:e}){return e==="/"?t:Ai([t,e])}function lO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?la(t):t;return{pathname:n?n.startsWith("/")?n:cO(n,e):e,search:dO(r),hash:fO(i)}}function cO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mh(t){let e=mk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ah(t,e,n,r=!1){let i;typeof t=="string"?i=la(t):(i={...t},it(!i.pathname||!i.pathname.includes("?"),rg("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),rg("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),rg("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}c=g>=0?e[g]:"/"}let d=lO(i,c),f=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ai=t=>t.join("/").replace(/\/\/+/g,"/"),uO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Cf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Qc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gk=["POST","PUT","PATCH","DELETE"],hO=new Set(gk),pO=["GET",...gk],mO=new Set(pO),gO=new Set([301,302,303,307,308]),bO=new Set([307,308]),ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gb=t=>yO.test(t),vO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bk="remix-router-transitions",xk=Symbol("ResetLoaderData");function wO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";it(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||vO,a={},l=Zc(t.routes,i,void 0,a),c,d=t.basename||"/",f=t.dataStrategy||TO,m={unstable_middleware:!1,...t.future},g=null,x=new Set,y=null,w=null,E=null,S=t.hydrationData!=null,k=qs(l,t.history.location,d),_=!1,A=null,P;if(k==null&&!t.patchRoutesOnNavigation){let D=Vr(404,{pathname:t.history.location.pathname}),{matches:U,route:B}=Hw(l);P=!0,k=U,A={[B.id]:D}}else if(k&&!t.hydrationData&&I(k,l,t.history.location.pathname).active&&(k=null),k)if(k.some(D=>D.route.lazy))P=!1;else if(!k.some(D=>D.route.loader))P=!0;else{let D=t.hydrationData?t.hydrationData.loaderData:null,U=t.hydrationData?t.hydrationData.errors:null;if(U){let B=k.findIndex(H=>U[H.route.id]!==void 0);P=k.slice(0,B+1).every(H=>!d0(H.route,D,U))}else P=k.every(B=>!d0(B.route,D,U))}else{P=!1,k=[];let D=I(null,l,t.history.location.pathname);D.active&&D.matches&&(_=!0,k=D.matches)}let O,C={historyAction:t.history.action,location:t.history.location,matches:k,initialized:P,navigation:ig,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},L="POP",$=!1,J,pe=!1,Te=new Map,Ae=null,Ee=!1,le=!1,ge=new Set,F=new Map,ee=0,X=-1,ue=new Map,R=new Set,W=new Map,Z=new Map,te=new Set,be=new Map,Fe,Ce=null;function Ft(){if(g=t.history.listen(({action:D,location:U,delta:B})=>{if(Fe){Fe(),Fe=void 0;return}Kt(be.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=fs({currentLocation:C.location,nextLocation:U,historyAction:D});if(H&&B!=null){let Q=new Promise(fe=>{Fe=fe});t.history.go(B*-1),Mr(H,{state:"blocked",location:U,proceed(){Mr(H,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),Q.then(()=>t.history.go(B))},reset(){let fe=new Map(C.blockers);fe.set(H,yc),gt({blockers:fe})}});return}return wn(D,U)}),n){BO(e,Te);let D=()=>zO(e,Te);e.addEventListener("pagehide",D),Ae=()=>e.removeEventListener("pagehide",D)}return C.initialized||wn("POP",C.location,{initialHydration:!0}),O}function ct(){g&&g(),Ae&&Ae(),x.clear(),J&&J.abort(),C.fetchers.forEach((D,U)=>cn(U)),C.blockers.forEach((D,U)=>Li(U))}function On(D){return x.add(D),()=>x.delete(D)}function gt(D,U={}){D.matches&&(D.matches=D.matches.map(Q=>{let fe=a[Q.route.id],he=Q.route;return he.element!==fe.element||he.errorElement!==fe.errorElement||he.hydrateFallbackElement!==fe.hydrateFallbackElement?{...Q,route:fe}:Q})),C={...C,...D};let B=[],H=[];C.fetchers.forEach((Q,fe)=>{Q.state==="idle"&&(te.has(fe)?B.push(fe):H.push(fe))}),te.forEach(Q=>{!C.fetchers.has(Q)&&!F.has(Q)&&B.push(Q)}),[...x].forEach(Q=>Q(C,{deletedFetchers:B,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),B.forEach(Q=>cn(Q)),H.forEach(Q=>C.fetchers.delete(Q))}function hn(D,U,{flushSync:B}={}){let H=C.actionData!=null&&C.navigation.formMethod!=null&&ir(C.navigation.formMethod)&&C.navigation.state==="loading"&&D.state?._isRedirect!==!0,Q;U.actionData?Object.keys(U.actionData).length>0?Q=U.actionData:Q=null:H?Q=C.actionData:Q=null;let fe=U.loaderData?Fw(C.loaderData,U.loaderData,U.matches||[],U.errors):C.loaderData,he=C.blockers;he.size>0&&(he=new Map(he),he.forEach((Se,Ne)=>he.set(Ne,yc)));let ye=Ee?!1:Jr(D,U.matches||C.matches),Me=$===!0||C.navigation.formMethod!=null&&ir(C.navigation.formMethod)&&D.state?._isRedirect!==!0;c&&(l=c,c=void 0),Ee||L==="POP"||(L==="PUSH"?t.history.push(D,D.state):L==="REPLACE"&&t.history.replace(D,D.state));let Re;if(L==="POP"){let Se=Te.get(C.location.pathname);Se&&Se.has(D.pathname)?Re={currentLocation:C.location,nextLocation:D}:Te.has(D.pathname)&&(Re={currentLocation:D,nextLocation:C.location})}else if(pe){let Se=Te.get(C.location.pathname);Se?Se.add(D.pathname):(Se=new Set([D.pathname]),Te.set(C.location.pathname,Se)),Re={currentLocation:C.location,nextLocation:D}}gt({...U,actionData:Q,loaderData:fe,historyAction:L,location:D,initialized:!0,navigation:ig,revalidation:"idle",restoreScrollPosition:ye,preventScrollReset:Me,blockers:he},{viewTransitionOpts:Re,flushSync:B===!0}),L="POP",$=!1,pe=!1,Ee=!1,le=!1,Ce?.resolve(),Ce=null}async function Sr(D,U){if(typeof D=="number"){t.history.go(D);return}let B=u0(C.location,C.matches,d,D,U?.fromRouteId,U?.relative),{path:H,submission:Q,error:fe}=Ow(!1,B,U),he=C.location,ye=Xc(C.location,H,U&&U.state);ye={...ye,...t.history.encodeLocation(ye)};let Me=U&&U.replace!=null?U.replace:void 0,Re="PUSH";Me===!0?Re="REPLACE":Me===!1||Q!=null&&ir(Q.formMethod)&&Q.formAction===C.location.pathname+C.location.search&&(Re="REPLACE");let Se=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Ne=(U&&U.flushSync)===!0,Xe=fs({currentLocation:he,nextLocation:ye,historyAction:Re});if(Xe){Mr(Xe,{state:"blocked",location:ye,proceed(){Mr(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Sr(D,U)},reset(){let ft=new Map(C.blockers);ft.set(Xe,yc),gt({blockers:ft})}});return}await wn(Re,ye,{submission:Q,pendingError:fe,preventScrollReset:Se,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Ne})}function Nr(){Ce||(Ce=UO()),ds(),gt({revalidation:"loading"});let D=Ce.promise;return C.navigation.state==="submitting"?D:C.navigation.state==="idle"?(wn(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),D):(wn(L||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:pe===!0}),D)}async function wn(D,U,B){J&&J.abort(),J=null,L=D,Ee=(B&&B.startUninterruptedRevalidation)===!0,gi(C.location,C.matches),$=(B&&B.preventScrollReset)===!0,pe=(B&&B.enableViewTransition)===!0;let H=c||l,Q=B&&B.overrideNavigation,fe=B?.initialHydration&&C.matches&&C.matches.length>0&&!_?C.matches:qs(H,U,d),he=(B&&B.flushSync)===!0;if(fe&&C.initialized&&!le&&DO(C.location,U)&&!(B&&B.submission&&ir(B.submission.formMethod))){hn(U,{matches:fe},{flushSync:he});return}let ye=I(fe,H,U.pathname);if(ye.active&&ye.matches&&(fe=ye.matches),!fe){let{error:_t,notFoundMatches:qe,route:pt}=Ii(U.pathname);hn(U,{matches:qe,loaderData:{},errors:{[pt.id]:_t}},{flushSync:he});return}J=new AbortController;let Me=Ho(t.history,U,J.signal,B&&B.submission),Re=t.unstable_getContext?await t.unstable_getContext():new _w,Se;if(B&&B.pendingError)Se=[Gs(fe).route.id,{type:"error",error:B.pendingError}];else if(B&&B.submission&&ir(B.submission.formMethod)){let _t=await Di(Me,U,B.submission,fe,Re,ye.active,B&&B.initialHydration===!0,{replace:B.replace,flushSync:he});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[qe,pt]=_t.pendingActionResult;if(yr(pt)&&Qc(pt.error)&&pt.error.status===404){J=null,hn(U,{matches:_t.matches,loaderData:{},errors:{[qe]:pt.error}});return}}fe=_t.matches||fe,Se=_t.pendingActionResult,Q=sg(U,B.submission),he=!1,ye.active=!1,Me=Ho(t.history,Me.url,Me.signal)}let{shortCircuited:Ne,matches:Xe,loaderData:ft,errors:Dt}=await ot(Me,U,fe,Re,ye.active,Q,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,he,Se);Ne||(J=null,hn(U,{matches:Xe||fe,...Vw(Se),loaderData:ft,errors:Dt}))}async function Di(D,U,B,H,Q,fe,he,ye={}){ds();let Me=IO(U,B);if(gt({navigation:Me},{flushSync:ye.flushSync===!0}),fe){let Ne=await ne(H,U.pathname,D.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let Xe=Gs(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,pendingActionResult:[Xe,{type:"error",error:Ne.error}]}}else if(Ne.matches)H=Ne.matches;else{let{notFoundMatches:Xe,error:ft,route:Dt}=Ii(U.pathname);return{matches:Xe,pendingActionResult:[Dt.id,{type:"error",error:ft}]}}}let Re,Se=mf(H,U);if(!Se.route.action&&!Se.route.lazy)Re={type:"error",error:Vr(405,{method:D.method,pathname:U.pathname,routeId:Se.route.id})};else{let Ne=rl(i,a,D,H,Se,he?[]:r,Q),Xe=await Ge(D,Ne,Q,null);if(Re=Xe[Se.route.id],!Re){for(let ft of H)if(Xe[ft.route.id]){Re=Xe[ft.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(Ba(Re)){let Ne;return ye&&ye.replace!=null?Ne=ye.replace:Ne=Bw(Re.response.headers.get("Location"),new URL(D.url),d)===C.location.pathname+C.location.search,await cr(D,Re,!0,{submission:B,replace:Ne}),{shortCircuited:!0}}if(yr(Re)){let Ne=Gs(H,Se.route.id);return(ye&&ye.replace)!==!0&&(L="PUSH"),{matches:H,pendingActionResult:[Ne.route.id,Re,Se.route.id]}}return{matches:H,pendingActionResult:[Se.route.id,Re]}}async function ot(D,U,B,H,Q,fe,he,ye,Me,Re,Se,Ne){let Xe=fe||sg(U,he),ft=he||ye||qw(Xe),Dt=!Ee&&!Re;if(Q){if(Dt){let ae=Ct(Ne);gt({navigation:Xe,...ae!==void 0?{actionData:ae}:{}},{flushSync:Se})}let Ze=await ne(B,U.pathname,D.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){let ae=Gs(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[ae]:Ze.error}}}else if(Ze.matches)B=Ze.matches;else{let{error:ae,notFoundMatches:ke,route:Ve}=Ii(U.pathname);return{matches:ke,loaderData:{},errors:{[Ve.id]:ae}}}}let _t=c||l,{dsMatches:qe,revalidatingFetchers:pt}=Dw(D,H,i,a,t.history,C,B,ft,U,Re?[]:r,Re===!0,le,ge,te,W,R,_t,d,t.patchRoutesOnNavigation!=null,Ne);if(X=++ee,!t.dataStrategy&&!qe.some(Ze=>Ze.shouldLoad)&&!qe.some(Ze=>Ze.route.unstable_middleware)&&pt.length===0){let Ze=ji();return hn(U,{matches:B,loaderData:{},errors:Ne&&yr(Ne[1])?{[Ne[0]]:Ne[1].error}:null,...Vw(Ne),...Ze?{fetchers:new Map(C.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(Dt){let Ze={};if(!Q){Ze.navigation=Xe;let ae=Ct(Ne);ae!==void 0&&(Ze.actionData=ae)}pt.length>0&&(Ze.fetchers=Vn(pt)),gt(Ze,{flushSync:Se})}pt.forEach(Ze=>{Tr(Ze.key),Ze.controller&&F.set(Ze.key,Ze.controller)});let Ar=()=>pt.forEach(Ze=>Tr(Ze.key));J&&J.signal.addEventListener("abort",Ar);let{loaderResults:Hn,fetcherResults:jt}=await Qe(qe,pt,D,H);if(D.signal.aborted)return{shortCircuited:!0};J&&J.signal.removeEventListener("abort",Ar),pt.forEach(Ze=>F.delete(Ze.key));let $n=zd(Hn);if($n)return await cr(D,$n.result,!0,{replace:Me}),{shortCircuited:!0};if($n=zd(jt),$n)return R.add($n.key),await cr(D,$n.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:Pi,errors:bi}=Uw(C,B,Hn,Ne,pt,jt);Re&&C.errors&&(bi={...C.errors,...bi});let ei=ji(),ti=mi(X),Qn=ei||ti||pt.length>0;return{matches:B,loaderData:Pi,errors:bi,...Qn?{fetchers:new Map(C.fetchers)}:{}}}function Ct(D){if(D&&!yr(D[1]))return{[D[0]]:D[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Vn(D){return D.forEach(U=>{let B=C.fetchers.get(U.key),H=vc(void 0,B?B.data:void 0);C.fetchers.set(U.key,H)}),new Map(C.fetchers)}async function kr(D,U,B,H){Tr(D);let Q=(H&&H.flushSync)===!0,fe=c||l,he=u0(C.location,C.matches,d,B,U,H?.relative),ye=qs(fe,he,d),Me=I(ye,fe,he);if(Me.active&&Me.matches&&(ye=Me.matches),!ye){vt(D,U,Vr(404,{pathname:he}),{flushSync:Q});return}let{path:Re,submission:Se,error:Ne}=Ow(!0,he,H);if(Ne){vt(D,U,Ne,{flushSync:Q});return}let Xe=t.unstable_getContext?await t.unstable_getContext():new _w,ft=(H&&H.preventScrollReset)===!0;if(Se&&ir(Se.formMethod)){await hi(D,U,Re,ye,Xe,Me.active,Q,ft,Se);return}W.set(D,{routeId:U,path:Re}),await pi(D,U,Re,ye,Xe,Me.active,Q,ft,Se)}async function hi(D,U,B,H,Q,fe,he,ye,Me){ds(),W.delete(D);let Re=C.fetchers.get(D);Yt(D,PO(Me,Re),{flushSync:he});let Se=new AbortController,Ne=Ho(t.history,B,Se.signal,Me);if(fe){let ze=await ne(H,new URL(Ne.url).pathname,Ne.signal,D);if(ze.type==="aborted")return;if(ze.type==="error"){vt(D,U,ze.error,{flushSync:he});return}else if(ze.matches)H=ze.matches;else{vt(D,U,Vr(404,{pathname:B}),{flushSync:he});return}}let Xe=mf(H,B);if(!Xe.route.action&&!Xe.route.lazy){let ze=Vr(405,{method:Me.formMethod,pathname:B,routeId:U});vt(D,U,ze,{flushSync:he});return}F.set(D,Se);let ft=ee,Dt=rl(i,a,Ne,H,Xe,r,Q),qe=(await Ge(Ne,Dt,Q,D))[Xe.route.id];if(Ne.signal.aborted){F.get(D)===Se&&F.delete(D);return}if(te.has(D)){if(Ba(qe)||yr(qe)){Yt(D,zs(void 0));return}}else{if(Ba(qe))if(F.delete(D),X>ft){Yt(D,zs(void 0));return}else return R.add(D),Yt(D,vc(Me)),cr(Ne,qe,!1,{fetcherSubmission:Me,preventScrollReset:ye});if(yr(qe)){vt(D,U,qe.error);return}}let pt=C.navigation.location||C.location,Ar=Ho(t.history,pt,Se.signal),Hn=c||l,jt=C.navigation.state!=="idle"?qs(Hn,C.navigation.location,d):C.matches;it(jt,"Didn't find any matches after fetcher action");let $n=++ee;ue.set(D,$n);let Pi=vc(Me,qe.data);C.fetchers.set(D,Pi);let{dsMatches:bi,revalidatingFetchers:ei}=Dw(Ar,Q,i,a,t.history,C,jt,Me,pt,r,!1,le,ge,te,W,R,Hn,d,t.patchRoutesOnNavigation!=null,[Xe.route.id,qe]);ei.filter(ze=>ze.key!==D).forEach(ze=>{let wt=ze.key,Dn=C.fetchers.get(wt),ur=vc(void 0,Dn?Dn.data:void 0);C.fetchers.set(wt,ur),Tr(wt),ze.controller&&F.set(wt,ze.controller)}),gt({fetchers:new Map(C.fetchers)});let ti=()=>ei.forEach(ze=>Tr(ze.key));Se.signal.addEventListener("abort",ti);let{loaderResults:Qn,fetcherResults:Ze}=await Qe(bi,ei,Ar,Q);if(Se.signal.aborted)return;if(Se.signal.removeEventListener("abort",ti),ue.delete(D),F.delete(D),ei.forEach(ze=>F.delete(ze.key)),C.fetchers.has(D)){let ze=zs(qe.data);C.fetchers.set(D,ze)}let ae=zd(Qn);if(ae)return cr(Ar,ae.result,!1,{preventScrollReset:ye});if(ae=zd(Ze),ae)return R.add(ae.key),cr(Ar,ae.result,!1,{preventScrollReset:ye});let{loaderData:ke,errors:Ve}=Uw(C,jt,Qn,void 0,ei,Ze);mi($n),C.navigation.state==="loading"&&$n>X?(it(L,"Expected pending action"),J&&J.abort(),hn(C.navigation.location,{matches:jt,loaderData:ke,errors:Ve,fetchers:new Map(C.fetchers)})):(gt({errors:Ve,loaderData:Fw(C.loaderData,ke,jt,Ve),fetchers:new Map(C.fetchers)}),le=!1)}async function pi(D,U,B,H,Q,fe,he,ye,Me){let Re=C.fetchers.get(D);Yt(D,vc(Me,Re?Re.data:void 0),{flushSync:he});let Se=new AbortController,Ne=Ho(t.history,B,Se.signal);if(fe){let pt=await ne(H,new URL(Ne.url).pathname,Ne.signal,D);if(pt.type==="aborted")return;if(pt.type==="error"){vt(D,U,pt.error,{flushSync:he});return}else if(pt.matches)H=pt.matches;else{vt(D,U,Vr(404,{pathname:B}),{flushSync:he});return}}let Xe=mf(H,B);F.set(D,Se);let ft=ee,Dt=rl(i,a,Ne,H,Xe,r,Q),qe=(await Ge(Ne,Dt,Q,D))[Xe.route.id];if(F.get(D)===Se&&F.delete(D),!Ne.signal.aborted){if(te.has(D)){Yt(D,zs(void 0));return}if(Ba(qe))if(X>ft){Yt(D,zs(void 0));return}else{R.add(D),await cr(Ne,qe,!1,{preventScrollReset:ye});return}if(yr(qe)){vt(D,U,qe.error);return}Yt(D,zs(qe.data))}}async function cr(D,U,B,{submission:H,fetcherSubmission:Q,preventScrollReset:fe,replace:he}={}){U.response.headers.has("X-Remix-Revalidate")&&(le=!0);let ye=U.response.headers.get("Location");it(ye,"Expected a Location header on the redirect Response"),ye=Bw(ye,new URL(D.url),d);let Me=Xc(C.location,ye,{_isRedirect:!0});if(n){let Dt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Dt=!0;else if(gb(ye)){const _t=fk(ye,!0);Dt=_t.origin!==e.location.origin||Xr(_t.pathname,d)==null}if(Dt){he?e.location.replace(ye):e.location.assign(ye);return}}J=null;let Re=he===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Se,formAction:Ne,formEncType:Xe}=C.navigation;!H&&!Q&&Se&&Ne&&Xe&&(H=qw(C.navigation));let ft=H||Q;if(bO.has(U.response.status)&&ft&&ir(ft.formMethod))await wn(Re,Me,{submission:{...ft,formAction:ye},preventScrollReset:fe||$,enableViewTransition:B?pe:void 0});else{let Dt=sg(Me,H);await wn(Re,Me,{overrideNavigation:Dt,fetcherSubmission:Q,preventScrollReset:fe||$,enableViewTransition:B?pe:void 0})}}async function Ge(D,U,B,H){let Q,fe={};try{Q=await MO(f,D,U,H,B,!1)}catch(he){return U.filter(ye=>ye.shouldLoad).forEach(ye=>{fe[ye.route.id]={type:"error",error:he}}),fe}if(D.signal.aborted)return fe;for(let[he,ye]of Object.entries(Q))if(jO(ye)){let Me=ye.result;fe[he]={type:"redirect",response:RO(Me,D,he,U,d)}}else fe[he]=await _O(ye);return fe}async function Qe(D,U,B,H){let Q=Ge(B,D,H,null),fe=Promise.all(U.map(async Me=>{if(Me.matches&&Me.match&&Me.request&&Me.controller){let Se=(await Ge(Me.request,Me.matches,H,Me.key))[Me.match.route.id];return{[Me.key]:Se}}else return Promise.resolve({[Me.key]:{type:"error",error:Vr(404,{pathname:Me.path})}})})),he=await Q,ye=(await fe).reduce((Me,Re)=>Object.assign(Me,Re),{});return{loaderResults:he,fetcherResults:ye}}function ds(){le=!0,W.forEach((D,U)=>{F.has(U)&&ge.add(U),Tr(U)})}function Yt(D,U,B={}){C.fetchers.set(D,U),gt({fetchers:new Map(C.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function vt(D,U,B,H={}){let Q=Gs(C.matches,U);cn(D),gt({errors:{[Q.route.id]:B},fetchers:new Map(C.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Zn(D){return Z.set(D,(Z.get(D)||0)+1),te.has(D)&&te.delete(D),C.fetchers.get(D)||xO}function cn(D){let U=C.fetchers.get(D);F.has(D)&&!(U&&U.state==="loading"&&ue.has(D))&&Tr(D),W.delete(D),ue.delete(D),R.delete(D),te.delete(D),ge.delete(D),C.fetchers.delete(D)}function El(D){let U=(Z.get(D)||0)-1;U<=0?(Z.delete(D),te.add(D)):Z.set(D,U),gt({fetchers:new Map(C.fetchers)})}function Tr(D){let U=F.get(D);U&&(U.abort(),F.delete(D))}function oo(D){for(let U of D){let B=Zn(U),H=zs(B.data);C.fetchers.set(U,H)}}function ji(){let D=[],U=!1;for(let B of R){let H=C.fetchers.get(B);it(H,`Expected fetcher: ${B}`),H.state==="loading"&&(R.delete(B),D.push(B),U=!0)}return oo(D),U}function mi(D){let U=[];for(let[B,H]of ue)if(H<D){let Q=C.fetchers.get(B);it(Q,`Expected fetcher: ${B}`),Q.state==="loading"&&(Tr(B),ue.delete(B),U.push(B))}return oo(U),U.length>0}function Qr(D,U){let B=C.blockers.get(D)||yc;return be.get(D)!==U&&be.set(D,U),B}function Li(D){C.blockers.delete(D),be.delete(D)}function Mr(D,U){let B=C.blockers.get(D)||yc;it(B.state==="unblocked"&&U.state==="blocked"||B.state==="blocked"&&U.state==="blocked"||B.state==="blocked"&&U.state==="proceeding"||B.state==="blocked"&&U.state==="unblocked"||B.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${B.state} -> ${U.state}`);let H=new Map(C.blockers);H.set(D,U),gt({blockers:H})}function fs({currentLocation:D,nextLocation:U,historyAction:B}){if(be.size===0)return;be.size>1&&Kt(!1,"A router only supports one blocker at a time");let H=Array.from(be.entries()),[Q,fe]=H[H.length-1],he=C.blockers.get(Q);if(!(he&&he.state==="proceeding")&&fe({currentLocation:D,nextLocation:U,historyAction:B}))return Q}function Ii(D){let U=Vr(404,{pathname:D}),B=c||l,{matches:H,route:Q}=Hw(B);return{notFoundMatches:H,route:Q,error:U}}function fa(D,U,B){if(y=D,E=U,w=B||null,!S&&C.navigation===ig){S=!0;let H=Jr(C.location,C.matches);H!=null&&gt({restoreScrollPosition:H})}return()=>{y=null,E=null,w=null}}function hs(D,U){return w&&w(D,U.map(H=>YR(H,C.loaderData)))||D.key}function gi(D,U){if(y&&E){let B=hs(D,U);y[B]=E()}}function Jr(D,U){if(y){let B=hs(D,U),H=y[B];if(typeof H=="number")return H}return null}function I(D,U,B){if(t.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:pf(U,B,d,!0)}}else return{active:!0,matches:pf(U,B,d,!0)||[]};return{active:!1,matches:null}}async function ne(D,U,B,H){if(!t.patchRoutesOnNavigation)return{type:"success",matches:D};let Q=D;for(;;){let fe=c==null,he=c||l,ye=a;try{await t.patchRoutesOnNavigation({signal:B,path:U,matches:Q,fetcherKey:H,patch:(Se,Ne)=>{B.aborted||jw(Se,Ne,he,ye,i,!1)}})}catch(Se){return{type:"error",error:Se,partialMatches:Q}}finally{fe&&!B.aborted&&(l=[...l])}if(B.aborted)return{type:"aborted"};let Me=qs(he,U,d);if(Me)return{type:"success",matches:Me};let Re=pf(he,U,d,!0);if(!Re||Q.length===Re.length&&Q.every((Se,Ne)=>Se.route.id===Re[Ne].route.id))return{type:"success",matches:null};Q=Re}}function de(D){a={},c=Zc(D,i,void 0,a)}function Be(D,U,B=!1){let H=c==null;jw(D,U,c||l,a,i,B),H&&(l=[...l],gt({}))}return O={get basename(){return d},get future(){return m},get state(){return C},get routes(){return l},get window(){return e},initialize:Ft,subscribe:On,enableScrollRestoration:fa,navigate:Sr,fetch:kr,revalidate:Nr,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Zn,deleteFetcher:El,dispose:ct,getBlocker:Qr,deleteBlocker:Li,patchRoutes:Be,_internalFetchControllers:F,_internalSetRoutes:de,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){gt(D)}},O}function EO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function u0(t,e,n,r,i,a){let l,c;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){c=f;break}}else l=e,c=e[e.length-1];let d=Ah(r||".",Mh(l),Xr(t.pathname,n)||t.pathname,a==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=bb(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let m=new URLSearchParams(d.search),g=m.getAll("index");m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();d.search=x?`?${x}`:""}}return n!=="/"&&(d.pathname=oO({basename:n,pathname:d.pathname})),ra(d)}function Ow(t,e,n){if(!n||!EO(n))return{path:e};if(n.formMethod&&!LO(n.formMethod))return{path:e,error:Vr(405,{method:n.formMethod})};let r=()=>({path:e,error:Vr(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=kk(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ir(a))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[y,w])=>`${x}${y}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!ir(a))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}it(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=h0(n.formData),d=n.formData;else if(n.body instanceof FormData)c=h0(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=zw(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=zw(c)}catch{return r()}let f={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ir(f.formMethod))return{path:e,submission:f};let m=la(e);return t&&m.search&&bb(m.search)&&c.append("index",""),m.search=`?${c}`,{path:ra(m),submission:f}}function Dw(t,e,n,r,i,a,l,c,d,f,m,g,x,y,w,E,S,k,_,A){let P=A?yr(A[1])?A[1].error:A[1].data:void 0,O=i.createURL(a.location),C=i.createURL(d),L;if(m&&a.errors){let Ee=Object.keys(a.errors)[0];L=l.findIndex(le=>le.route.id===Ee)}else if(A&&yr(A[1])){let Ee=A[0];L=l.findIndex(le=>le.route.id===Ee)-1}let $=A?A[1].statusCode:void 0,J=$&&$>=400,pe={currentUrl:O,currentParams:a.matches[0]?.params||{},nextUrl:C,nextParams:l[0].params,...c,actionResult:P,actionStatus:$},Te=l.map((Ee,le)=>{let{route:ge}=Ee,F=null;if(L!=null&&le>L?F=!1:ge.lazy?F=!0:ge.loader==null?F=!1:m?F=d0(ge,a.loaderData,a.errors):SO(a.loaderData,a.matches[le],Ee)&&(F=!0),F!==null)return f0(n,r,t,Ee,f,e,F);let ee=J?!1:g||O.pathname+O.search===C.pathname+C.search||O.search!==C.search||NO(a.matches[le],Ee),X={...pe,defaultShouldRevalidate:ee},ue=_f(Ee,X);return f0(n,r,t,Ee,f,e,ue,X)}),Ae=[];return w.forEach((Ee,le)=>{if(m||!l.some(Z=>Z.route.id===Ee.routeId)||y.has(le))return;let ge=a.fetchers.get(le),F=ge&&ge.state!=="idle"&&ge.data===void 0,ee=qs(S,Ee.path,k);if(!ee){if(_&&F)return;Ae.push({key:le,routeId:Ee.routeId,path:Ee.path,matches:null,match:null,request:null,controller:null});return}if(E.has(le))return;let X=mf(ee,Ee.path),ue=new AbortController,R=Ho(i,Ee.path,ue.signal),W=null;if(x.has(le))x.delete(le),W=rl(n,r,R,ee,X,f,e);else if(F)g&&(W=rl(n,r,R,ee,X,f,e));else{let Z={...pe,defaultShouldRevalidate:J?!1:g};_f(X,Z)&&(W=rl(n,r,R,ee,X,f,e,Z))}W&&Ae.push({key:le,routeId:Ee.routeId,path:Ee.path,matches:W,match:X,request:R,controller:ue})}),{dsMatches:Te,revalidatingFetchers:Ae}}function d0(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function SO(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function NO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function _f(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function jw(t,e,n,r,i,a){let l;if(t){let f=r[t];it(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],d=[];if(e.forEach(f=>{let m=l.find(g=>yk(f,g));m?d.push({existingRoute:m,newRoute:f}):c.push(f)}),c.length>0){let f=Zc(c,i,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(a&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:m,newRoute:g}=d[f],x=m,[y]=Zc([g],i,[],{},!0);Object.assign(x,{element:y.element?y.element:x.element,errorElement:y.errorElement?y.errorElement:x.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:x.hydrateFallbackElement})}}function yk(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>yk(n,i))):!1}var Lw=new WeakMap,vk=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(it(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let l=Lw.get(i);l||(l={},Lw.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let f=$R(t),g=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)Kt(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(g)Kt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await a();x!=null&&(Object.assign(i,{[t]:x}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},Iw=new WeakMap;function kO(t,e,n,r,i){let a=n[t.id];if(it(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let m=Iw.get(a);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let g=(async()=>{it(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),y={};for(let w in x){let E=x[w];if(E===void 0)continue;let S=GR(w),_=a[w]!==void 0&&w!=="hasErrorBoundary";S?Kt(!S,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):_?Kt(!_,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=E}Object.assign(a,y),Object.assign(a,{...r(a),lazy:void 0})})();return Iw.set(a,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(t.lazy),c=[],d;for(let m of l){if(i&&i.includes(m))continue;let g=vk({key:m,route:t,manifest:n,mapRouteProperties:r});g&&(c.push(g),m===e&&(d=g))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function Pw(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function TO(t){if(!t.matches.some(n=>n.route.unstable_middleware))return Pw(t);let e=!1;return Ek(t,()=>(e=!0,Pw(t)),(n,r)=>wk(n,r,t.matches,e))}function wk(t,e,n,r){if(r)return{[e]:{type:"error",result:t}};{let i=Math.min(n.findIndex(l=>l.route.id===e)||0,n.findIndex(l=>l.unstable_shouldCallHandler())||0);return{[Gs(n,n[i].route.id).route.id]:{type:"error",result:t}}}}async function Ek(t,e,n){let{matches:r,request:i,params:a,context:l}=t,c=r.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(m=>[f.route.id,m]):[]),d={};return await Sk({request:i,params:a,context:l},c,e,n,d),d}async function Sk(t,e,n,r,i={},a=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[a];if(!c){let x=await n();Object.assign(i,x);return}let[d,f]=c,m=!1,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");m=!0;try{let x=await Sk(t,e,n,r,i,a+1);Object.assign(i,x)}catch(x){let y=await r(x,d);Object.assign(i,y)}};try{let x=await f({request:t.request,params:t.params,context:t.context},g);typeof x<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",x),m||await g()}catch(x){let y=await r(x,d);Object.assign(i,y)}}function Nk(t,e,n,r,i){let a=vk({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=kO(r.route,ir(n.method)?"action":"loader",e,t,i);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function f0(t,e,n,r,i,a,l,c=null){let d=!1,f=Nk(t,e,n,r,i);return{...r,_lazyPromises:f,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(m){return d=!0,c?typeof m=="boolean"?_f(r,{...c,defaultShouldRevalidate:m}):_f(r,c):l},resolve(m){return d||l||m&&!ir(n.method)&&(r.route.lazy||r.route.loader)?AO({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:m,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function rl(t,e,n,r,i,a,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:Nk(t,e,n,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:f0(t,e,n,d,a,l,!0,c))}async function MO(t,e,n,r,i,a){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:f=>{let m=l,g=!1;return Ek(m,()=>(g=!0,f({...m,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(x,y)=>wk(x,y,n,g))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function AO({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let l,c,d=ir(t.method),f=d?"action":"loader",m=g=>{let x,y=new Promise((S,k)=>x=k);c=()=>x(),t.signal.addEventListener("abort",c);let w=S=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):g({request:t,params:e.params,context:a},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(k=>w(k)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,y])};try{let g=d?e.route.action:e.route.loader;if(n||r)if(g){let x,[y]=await Promise.all([m(g).catch(w=>{x=w}),n,r]);if(x!==void 0)throw x;l=y}else{await n;let x=d?e.route.action:e.route.loader;if(x)[l]=await Promise.all([m(x),r]);else if(f==="action"){let y=new URL(t.url),w=y.pathname+y.search;throw Vr(405,{method:t.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(g)l=await m(g);else{let x=new URL(t.url),y=x.pathname+x.search;throw Vr(404,{pathname:y})}}catch(g){return{type:"error",result:g}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function CO(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function _O(t){let{result:e,type:n}=t;if(Tk(e)){let r;try{r=await CO(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Cf(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?$w(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Cf(e.init?.status||500,void 0,e.data),statusCode:Qc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Qc(e)?e.status:void 0}:$w(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function RO(t,e,n,r,i){let a=t.headers.get("Location");if(it(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!gb(a)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=u0(new URL(e.url),l,i,a),t.headers.set("Location",a)}return t}function Bw(t,e,n){if(gb(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Xr(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function Ho(t,e,n,r){let i=t.createURL(kk(e)).toString(),a={signal:n};if(r&&ir(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=h0(r.formData):a.body=r.formData}return new Request(i,a)}function h0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function OO(t,e,n,r=!1,i=!1){let a={},l=null,c,d=!1,f={},m=n&&yr(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let x=g.route.id,y=e[x];if(it(!Ba(y),"Cannot handle redirect results in processLoaderData"),yr(y)){let w=y.error;if(m!==void 0&&(w=m,m=void 0),l=l||{},i)l[x]=w;else{let E=Gs(t,x);l[E.route.id]==null&&(l[E.route.id]=w)}r||(a[x]=xk),d||(d=!0,c=Qc(y.error)?y.error.status:500),y.headers&&(f[x]=y.headers)}else a[x]=y.data,y.statusCode&&y.statusCode!==200&&!d&&(c=y.statusCode),y.headers&&(f[x]=y.headers)}),m!==void 0&&n&&(l={[n[0]]:m},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:f}}function Uw(t,e,n,r,i,a){let{loaderData:l,errors:c}=OO(e,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:m,controller:g}=d;if(g&&g.signal.aborted)return;let x=a[f];if(it(x,"Did not find corresponding fetcher result"),yr(x)){let y=Gs(t.matches,m?.route.id);c&&c[y.route.id]||(c={...c,[y.route.id]:x.error}),t.fetchers.delete(f)}else if(Ba(x))it(!1,"Unhandled fetcher revalidation redirect");else{let y=zs(x.data);t.fetchers.set(f,y)}}),{loaderData:l,errors:c}}function Fw(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==xk).reduce((a,[l,c])=>(a[l]=c,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function Vw(t){return t?yr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Gs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Hw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Vr(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Cf(t||500,l,new Error(c),!0)}function zd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ba(i))return{key:r,result:i}}}function kk(t){let e=typeof t=="string"?la(t):t;return ra({...e,hash:""})}function DO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jO(t){return Tk(t.result)&&gO.has(t.result.status)}function yr(t){return t.type==="error"}function Ba(t){return(t&&t.type)==="redirect"}function $w(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Tk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function LO(t){return mO.has(t.toUpperCase())}function ir(t){return hO.has(t.toUpperCase())}function bb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function mf(t,e){let n=typeof e=="string"?la(e).search:e.search;if(t[t.length-1].route.index&&bb(n||""))return t[t.length-1];let r=mk(t);return r[r.length-1]}function qw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function sg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function PO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function zs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function BO(t,e){try{let n=t.sessionStorage.getItem(bk);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function zO(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(bk,JSON.stringify(n))}catch(r){Kt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function UO(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ro=T.createContext(null);ro.displayName="DataRouter";var wu=T.createContext(null);wu.displayName="DataRouterState";T.createContext(!1);var xb=T.createContext({isTransitioning:!1});xb.displayName="ViewTransition";var Mk=T.createContext(new Map);Mk.displayName="Fetchers";var FO=T.createContext(null);FO.displayName="Await";var di=T.createContext(null);di.displayName="Navigation";var Ch=T.createContext(null);Ch.displayName="Location";var Zr=T.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var yb=T.createContext(null);yb.displayName="RouteError";function VO(t,{relative:e}={}){it(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(di),{hash:i,pathname:a,search:l}=Eu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Ai([n,a])),r.createHref({pathname:c,search:l,hash:i})}function ml(){return T.useContext(Ch)!=null}function fi(){return it(ml(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ch).location}var Ak="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ck(t){T.useContext(di).static||T.useLayoutEffect(t)}function Jt(){let{isDataRoute:t}=T.useContext(Zr);return t?rD():HO()}function HO(){it(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ro),{basename:e,navigator:n}=T.useContext(di),{matches:r}=T.useContext(Zr),{pathname:i}=fi(),a=JSON.stringify(Mh(r)),l=T.useRef(!1);return Ck(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(Kt(l.current,Ak),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=Ah(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ai([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,a,i,t])}var $O=T.createContext(null);function qO(t){let e=T.useContext(Zr).outlet;return e&&T.createElement($O.Provider,{value:t},e)}function gl(){let{matches:t}=T.useContext(Zr),e=t[t.length-1];return e?e.params:{}}function Eu(t,{relative:e}={}){let{matches:n}=T.useContext(Zr),{pathname:r}=fi(),i=JSON.stringify(Mh(n));return T.useMemo(()=>Ah(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function GO(t,e,n,r){it(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(di),{matches:a}=T.useContext(Zr),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let k=m&&m.path||"";_k(d,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=fi(),x;x=g;let y=x.pathname||"/",w=y;if(f!=="/"){let k=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=qs(t,{pathname:w});return Kt(m||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kt(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ZO(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Ai([f,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:Ai([f,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r)}function KO(){let t=nD(),e=Qc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var YO=T.createElement(KO,null),WO=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(Zr.Provider,{value:this.props.routeContext},T.createElement(yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XO({routeContext:t,match:e,children:n}){let r=T.useContext(ro);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Zr.Provider,{value:t},n)}function ZO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);it(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,x=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,x=!1,y=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||YO,l&&(c<0&&m===0?(_k("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,m+1)),S=()=>{let k;return g?k=y:x?k=w:f.route.Component?k=T.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,T.createElement(XO,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?T.createElement(WO,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function vb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QO(t){let e=T.useContext(ro);return it(e,vb(t)),e}function JO(t){let e=T.useContext(wu);return it(e,vb(t)),e}function eD(t){let e=T.useContext(Zr);return it(e,vb(t)),e}function wb(t){let e=eD(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function tD(){return wb("useRouteId")}function nD(){let t=T.useContext(yb),e=JO("useRouteError"),n=wb("useRouteError");return t!==void 0?t:e.errors?.[n]}function rD(){let{router:t}=QO("useNavigate"),e=wb("useNavigate"),n=T.useRef(!1);return Ck(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{Kt(n.current,Ak),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Gw={};function _k(t,e,n){!e&&!Gw[t]&&(Gw[t]=!0,Kt(!1,n))}var Kw={};function Yw(t,e){!t&&!Kw[e]&&(Kw[e]=!0,console.warn(e))}function iD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Kt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Kt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Kt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var sD=["HydrateFallback","hydrateFallbackElement"],aD=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function oD({router:t,flushSync:e}){let[n,r]=T.useState(t.state),[i,a]=T.useState(),[l,c]=T.useState({isTransitioning:!1}),[d,f]=T.useState(),[m,g]=T.useState(),[x,y]=T.useState(),w=T.useRef(new Map),E=T.useCallback((A,{deletedFetchers:P,flushSync:O,viewTransitionOpts:C})=>{A.fetchers.forEach(($,J)=>{$.data!==void 0&&w.current.set(J,$.data)}),P.forEach($=>w.current.delete($)),Yw(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Yw(C==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!L){e&&O?e(()=>r(A)):T.startTransition(()=>r(A));return}if(e&&O){e(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let $=t.window.document.startViewTransition(()=>{e(()=>r(A))});$.finished.finally(()=>{e(()=>{f(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),e(()=>g($));return}m?(d&&d.resolve(),m.skipTransition(),y({state:A,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(a(A),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[t.window,e,m,d]);T.useLayoutEffect(()=>t.subscribe(E),[t,E]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new aD)},[l]),T.useEffect(()=>{if(d&&i&&t.window){let A=i,P=d.promise,O=t.window.document.startViewTransition(async()=>{T.startTransition(()=>r(A)),await P});O.finished.finally(()=>{f(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(O)}},[i,d,t.window]),T.useEffect(()=>{d&&i&&n.location.key===i.location.key&&d.resolve()},[d,m,n.location,i]),T.useEffect(()=>{!l.isTransitioning&&x&&(a(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),y(void 0))},[l.isTransitioning,x]);let S=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,P,O)=>t.navigate(A,{state:P,preventScrollReset:O?.preventScrollReset}),replace:(A,P,O)=>t.navigate(A,{replace:!0,state:P,preventScrollReset:O?.preventScrollReset})}),[t]),k=t.basename||"/",_=T.useMemo(()=>({router:t,navigator:S,static:!1,basename:k}),[t,S,k]);return T.createElement(T.Fragment,null,T.createElement(ro.Provider,{value:_},T.createElement(wu.Provider,{value:n},T.createElement(Mk.Provider,{value:w.current},T.createElement(xb.Provider,{value:l},T.createElement(uD,{basename:k,location:n.location,navigationType:n.historyAction,navigator:S},T.createElement(lD,{routes:t.routes,future:t.future,state:n})))))),null)}var lD=T.memo(cD);function cD({routes:t,future:e,state:n}){return GO(t,void 0,n,e)}function Jc({to:t,replace:e,state:n,relative:r}){it(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(di);Kt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Zr),{pathname:l}=fi(),c=Jt(),d=Ah(t,Mh(a),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function _h(t){return qO(t.context)}function uD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){it(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=la(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=n,y=T.useMemo(()=>{let w=Xr(d,l);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:x},navigationType:r}},[l,d,f,m,g,x,r]);return Kt(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:T.createElement(di.Provider,{value:c},T.createElement(Ch.Provider,{children:e,value:y}))}var gf="get",bf="application/x-www-form-urlencoded";function Rh(t){return t!=null&&typeof t.tagName=="string"}function dD(t){return Rh(t)&&t.tagName.toLowerCase()==="button"}function fD(t){return Rh(t)&&t.tagName.toLowerCase()==="form"}function hD(t){return Rh(t)&&t.tagName.toLowerCase()==="input"}function pD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mD(t,e){return t.button===0&&(!e||e==="_self")&&!pD(t)}function p0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function gD(t,e){let n=p0(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Ud=null;function bD(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var xD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(t){return t!=null&&!xD.has(t)?(Kt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function yD(t,e){let n,r,i,a,l;if(fD(t)){let c=t.getAttribute("action");r=c?Xr(c,e):null,n=t.getAttribute("method")||gf,i=ag(t.getAttribute("enctype"))||bf,a=new FormData(t)}else if(dD(t)||hD(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Xr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||gf,i=ag(t.getAttribute("formenctype"))||ag(c.getAttribute("enctype"))||bf,a=new FormData(c,t),!bD()){let{name:f,type:m,value:g}=t;if(m==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,g)}}else{if(Rh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,r=null,i=bf,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function wD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ED(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SD(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await wD(a,n);return l.links?l.links():[]}return[]}));return MD(r.flat(1).filter(ED).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ww(t,e,n,r,i,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ND(t,e,{includeHydrateFallback:n}={}){return kD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function kD(t){return[...new Set(t)]}function TD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function MD(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(TD(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Rk(){let t=T.useContext(ro);return Eb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AD(){let t=T.useContext(wu);return Eb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sb=T.createContext(void 0);Sb.displayName="FrameworkContext";function Ok(){let t=T.useContext(Sb);return Eb(t,"You must render this element inside a <HydratedRouter> element"),t}function CD(t,e){let n=T.useContext(Sb),[r,i]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,x=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=k=>{k.forEach(_=>{l(_.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:wc(c,y),onBlur:wc(d,w),onMouseEnter:wc(f,y),onMouseLeave:wc(m,w),onTouchStart:wc(g,y)}]:[!1,x,{}]}function wc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _D({page:t,...e}){let{router:n}=Rk(),r=T.useMemo(()=>qs(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(OD,{page:t,matches:r,...e}):null}function RD(t){let{manifest:e,routeModules:n}=Ok(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return SD(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function OD({page:t,matches:e,...n}){let r=fi(),{manifest:i,routeModules:a}=Ok(),{basename:l}=Rk(),{loaderData:c,matches:d}=AD(),f=T.useMemo(()=>Ww(t,e,d,i,r,"data"),[t,e,d,i,r]),m=T.useMemo(()=>Ww(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(k=>{let _=i.routes[k.route.id];!_||!_.hasLoader||(!f.some(A=>A.route.id===k.route.id)&&k.route.id in c&&a[k.route.id]?.shouldRevalidate||_.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let S=vD(t,l,"data");return E&&w.size>0&&S.searchParams.set("_routes",e.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[l,c,r,i,f,e,t,a]),x=T.useMemo(()=>ND(m,i),[m,i]),y=RD(m);return T.createElement(T.Fragment,null,g.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:E})=>T.createElement("link",{key:w,nonce:n.nonce,...E})))}function DD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dk&&(window.__reactRouterVersion="7.8.1")}catch{}function jD(t,e){return wO({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:UR({window:e?.window}),hydrationData:LD(),routes:t,mapRouteProperties:iD,hydrationRouteProperties:sD,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function LD(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:ID(t.errors)}),t}function ID(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Cf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var jk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g,...x},y){let{basename:w}=T.useContext(di),E=typeof f=="string"&&jk.test(f),S,k=!1;if(typeof f=="string"&&E&&(S=f,Dk))try{let J=new URL(window.location.href),pe=f.startsWith("//")?new URL(J.protocol+f):new URL(f),Te=Xr(pe.pathname,w);pe.origin===J.origin&&Te!=null?f=Te+pe.search+pe.hash:k=!0}catch{Kt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=VO(f,{relative:i}),[A,P,O]=CD(r,x),C=zD(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function L(J){e&&e(J),J.defaultPrevented||C(J)}let $=T.createElement("a",{...x,...O,href:S||_,onClick:k||a?e:L,ref:DD(y,P),target:d,"data-discover":!E&&n==="render"?"true":void 0});return A&&!E?T.createElement(T.Fragment,null,$,T.createElement(_D,{page:_})):$});Ot.displayName="Link";var m0=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},m){let g=Eu(l,{relative:f.relative}),x=fi(),y=T.useContext(wu),{navigator:w,basename:E}=T.useContext(di),S=y!=null&&$D(g)&&c===!0,k=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,_=x.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&E&&(A=Xr(A,E)||A);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=_===k||!i&&_.startsWith(k)&&_.charAt(P)==="/",C=A!=null&&(A===k||!i&&A.startsWith(k)&&A.charAt(k.length)==="/"),L={isActive:O,isPending:C,isTransitioning:S},$=O?e:void 0,J;typeof r=="function"?J=r(L):J=[r,O?"active":null,C?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let pe=typeof a=="function"?a(L):a;return T.createElement(Ot,{...f,"aria-current":$,className:J,ref:m,style:pe,to:l,viewTransition:c},typeof d=="function"?d(L):d)});m0.displayName="NavLink";var PD=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=gf,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,...x},y)=>{let w=VD(),E=HD(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&jk.test(c),_=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,O=P?.getAttribute("formmethod")||l;w(P||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:g})};return T.createElement("form",{ref:y,method:S,action:E,onSubmit:r?d:_,...x,"data-discover":!k&&t==="render"?"true":void 0})});PD.displayName="Form";function BD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lk(t){let e=T.useContext(ro);return it(e,BD(t)),e}function zD(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Jt(),d=fi(),f=Eu(t,{relative:a});return T.useCallback(m=>{if(mD(m,e)){m.preventDefault();let g=n!==void 0?n:ra(d)===ra(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,n,r,e,t,i,a,l])}function Su(t){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(p0(t)),n=T.useRef(!1),r=fi(),i=T.useMemo(()=>gD(r.search,n.current?null:e.current),[r.search]),a=Jt(),l=T.useCallback((c,d)=>{const f=p0(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,a("?"+f,d)},[a,i]);return[i,l]}var UD=0,FD=()=>`__${String(++UD)}__`;function VD(){let{router:t}=Lk("useSubmit"),{basename:e}=T.useContext(di),n=tD();return T.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=yD(r,e);if(i.navigate===!1){let m=i.fetcherKey||FD();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function HD(t,{relative:e}={}){let{basename:n}=T.useContext(di),r=T.useContext(Zr);it(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Eu(t||".",{relative:e})},l=fi();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ai([n,a.pathname])),ra(a)}function $D(t,{relative:e}={}){let n=T.useContext(xb);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Lk("useViewTransitionState"),i=Eu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Af(i.pathname,l)!=null||Af(i.pathname,a)!=null}var Nb=uk();const qD=yu(Nb);function GD(t){return T.createElement(oD,{flushSync:Nb.flushSync,...t})}const Ik=T.createContext(null),zo="https://api.jovirealty.com/v1";function KD({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(()=>localStorage.getItem("accessToken")||null),[a,l]=T.useState(!0),c=T.useRef(!1),d=T.useRef([]),f=T.useCallback(async()=>{await fetch(`${zo}/auth/logout`,{method:"POST",credentials:"include"}),n(null),i(null),localStorage.removeItem("accessToken"),d.current=[]},[]);T.useEffect(()=>{(async()=>{try{const E=await fetch(`${zo}/auth/refresh`,{method:"POST",credentials:"include"});if(!E.ok)return;const S=await E.json();if(!S?.accessToken)return;i(S.accessToken),localStorage.setItem("accessToken",S.accessToken);const k=await fetch(`${zo}/auth/me`,{credentials:"include",headers:{Authorization:`Bearer ${S.accessToken}`}});if(k.ok){const _=await k.json();n(_||null)}}finally{l(!1)}})()},[]);const m=T.useCallback((E,S=null)=>{d.current.forEach(k=>{E?k.reject(E):k.resolve(S)}),d.current=[]},[]),g=T.useCallback(async()=>{if(c.current)return new Promise((E,S)=>{d.current.push({resolve:E,reject:S})});c.current=!0,m(null);try{const E=await fetch(`${zo}/auth/refresh`,{method:"POST",credentials:"include"});if(!E.ok)throw new Error("Refresh failed");const S=await E.json();if(!S?.accessToken)throw new Error("No access token in refresh");const k=S.accessToken;i(k),localStorage.setItem("accessToken",k);const _=await fetch(`${zo}/auth/me`,{credentials:"include",headers:{Authorization:`Bearer ${k}`}});if(_.ok){const A=await _.json();n(A||null)}return m(null,k),k}catch(E){throw m(E,null),await f(),E}finally{c.current=!1}},[m,f]);T.useEffect(()=>{if(r)try{const k=JSON.parse(atob(r.split(".")[1])).exp*1e3-Date.now()-6e4;if(k>0){const _=setTimeout(async()=>{try{await g()}catch(A){console.error("Proactive refresh failed:",A)}},k);return()=>clearTimeout(_)}}catch(E){console.warn("Invalid JWT for proactive refresh:",E)}},[r,g]);const x=T.useCallback(()=>r?{Authorization:`Bearer ${r}`}:{},[r]),y=T.useCallback(async(E,S={})=>{const k={...S.headers,...x(),"Content-Type":"application/json"},_={...S,headers:k,credentials:"include"};let A=await fetch(E,_);if(A.status===401&&!S._retry)try{const P=await g(),O={...k,Authorization:`Bearer ${P}`};A=await fetch(E,{..._,headers:O,_retry:!0})}catch(P){throw P}return A},[r,g,x]),w=async(E,S)=>{const k=await fetch(`${zo}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:E,password:S})});if(!k.ok)throw new Error((await k.json()).error||"Login failed");const _=await k.json();return Nb.flushSync(()=>{i(_.accessToken),localStorage.setItem("accessToken",_.accessToken),n(_.user)}),_.user};return h.jsx(Ik.Provider,{value:{user:e,loading:a,login:w,logout:f,authHeader:x,authenticatedFetch:y},children:t})}const io=()=>T.useContext(Ik);function YD(){const{user:t,loading:e}=io();if(e)return null;if(!t)return h.jsx(_h,{});const r=t?.roles?.includes("superadmin")?"/admin/dashboard":"/agent/dashboard";return h.jsx(Jc,{to:r,replace:!0})}function kb({allow:t=[]}){const{user:e,loading:n}=io();return n?null:e?t.length===0||e.roles?.some(i=>t.includes(i))?h.jsx(_h,{}):h.jsx(Jc,{to:"/403",replace:!0}):h.jsx(Jc,{to:"/login",replace:!0})}const WD="/assets/jovi%20reality%20logo%201-BEGkZoyY.svg",XD=[{title:"Property Management",body:"Easily list, update, and monitor all your properties from a centralized dashboard with real-time status updates and photo galleries."},{title:"Lead & Client Tracking",body:"Capture leads seamlessly, nurture client relationships with automated emails, and track interactions, preferences, and viewing histories in one place."},{title:"Advanced Analytics",body:"Dive into customizable reports, market trend insights, and performance metrics to make data-driven decisions and optimize your real estate strategy."}];function ZD(){const{login:t,user:e,loading:n}=io(),r=Jt(),[i,a]=T.useState(""),[l,c]=T.useState(""),[d,f]=T.useState(!1),[m,g]=T.useState(!1),[x,y]=T.useState("");T.useEffect(()=>{const E=localStorage.getItem("rememberedEmail");E&&(a(E),f(!0))},[]),T.useEffect(()=>{if(!n&&e){const E=e.roles?.includes("superadmin");r(E?"/admin":"/agent",{replace:!0})}},[n,e,r]);async function w(E){E.preventDefault(),y("");try{const S=await t(i,l),k=S.roles?.includes("superadmin"),_=S.roles?.includes("agent");if(!k&&!_){y("staff access required.");return}d?localStorage.setItem("rememberedEmail",i):localStorage.removeItem("rememberedEmail"),r(k?"/admin":"/agent",{replace:!0})}catch(S){y(S.message||"Failed to login")}}return h.jsx("div",{className:"relative min-h-screen bg-gray-50 dark:bg-neutral-900",children:h.jsx("div",{className:"mx-auto w-full max-w-none",children:h.jsxs("div",{className:"grid grid-cols-1 gap-0 lg:grid-cols-2 lg:gap-0 items-stretch",children:[h.jsxs("section",{className:"relative min-h-[50vh] lg:min-h-screen overflow-hidden hidden md:block",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Modern luxury property",className:"absolute inset-0 h-full w-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),h.jsx("div",{className:"relative z-10 flex h-full flex-col justify-center p-6 text-white lg:p-8",children:h.jsxs("div",{className:"max-w-md",children:[h.jsx("h2",{className:"mb-4 text-3xl font-bold lg:text-4xl",children:"Find your dream home"}),h.jsx("p",{className:"mb-8 text-lg opacity-90 lg:text-xl",children:"Discover exceptional properties and schedule visits in just a few clicks."}),h.jsx("ul",{className:"space-y-6",children:XD.map(E=>h.jsxs("li",{className:"flex items-start gap-4",children:[h.jsx("span",{className:"mt-2 inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/20 text-white",children:h.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5","aria-hidden":"true",children:h.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold leading-snug",children:E.title}),h.jsx("p",{className:"mt-1 text-white/90",children:E.body})]})]},E.title))})]})})]}),h.jsxs("section",{className:"flex flex-col justify-center p-6 lg:p-8 pt-12",children:[h.jsx("div",{className:"mb-8 self-end",children:h.jsxs("a",{href:"https://jovirealty.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-md border border-neutral-300 px-4 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-50 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-800",children:["Visit Jovi website",h.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}),h.jsx("div",{className:"mb-8 flex justify-center",children:h.jsx("img",{src:WD,alt:"Jovi Reality",className:"h-16 w-auto lg:h-20"})}),h.jsxs("div",{className:"rounded-2xl bg-white p-6 md:p-8 shadow-sm ring-1 ring-black/5 dark:bg-neutral-950",children:[h.jsx("h2",{className:"mb-6 text-3xl font-semibold text-neutral-900 dark:text-neutral-50",children:"Welcome back to Jovi Reality!"}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Email"}),h.jsx("input",{id:"email",name:"email",type:"email",value:i,onChange:E=>a(E.target.value),required:!0,placeholder:"Enter your email",className:"w-full rounded-lg border-0 bg-neutral-100 px-3 py-2.5 text-sm text-neutral-900 placeholder:text-neutral-400 ring-1 ring-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:bg-neutral-900 dark:text-neutral-100 dark:ring-neutral-800"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:"password",name:"password",type:m?"text":"password",value:l,onChange:E=>c(E.target.value),required:!0,placeholder:"",className:"w-full rounded-lg border-0 bg-neutral-100 px-3 py-2.5 pr-10 text-sm text-neutral-900 placeholder:text-neutral-400 ring-1 ring-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:bg-neutral-900 dark:text-neutral-100 dark:ring-neutral-800"}),h.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:text-neutral-500 dark:hover:text-neutral-300",children:m?h.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):h.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),h.jsx("div",{className:"flex items-center justify-between pt-1",children:h.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300",children:[h.jsx("input",{type:"checkbox",name:"remember",checked:d,onChange:E=>f(E.target.checked),className:"h-4 w-4 rounded border-neutral-300 text-neutral-900 focus:ring-neutral-400 dark:border-neutral-700"}),"Remember me"]})}),x&&h.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:x}),h.jsx("button",{type:"submit",disabled:n,className:"w-full cursor-pointer rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-500 dark:hover:bg-blue-600",children:n?"Signing in...":"Login"})]})]}),h.jsx("div",{className:"mt-8 flex justify-center lg:justify-end",children:h.jsxs("nav",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-neutral-500 dark:text-neutral-400",children:[h.jsx(Ot,{to:"/about",className:"hover:text-neutral-700 dark:hover:text-neutral-200",children:"About"}),h.jsx(Ot,{to:"/terms",className:"hover:text-neutral-700 dark:hover:text-neutral-200",children:"Terms & Conditions"}),h.jsx(Ot,{to:"/contact",className:"hover:text-neutral-700 dark:hover:text-neutral-200",children:"Contact"})]})})]})]})})})}function eu({title:t="Page"}){return h.jsxs("section",{className:"rounded-xl bg-white shadow-sm ring-1 ring-black/5 p-6 dark:bg-neutral-950",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2 text-neutral-900 dark:text-neutral-100",children:t}),h.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:"Content coming soon"})]})}function Tb(){const t=Jt(),{pathname:e}=fi();return h.jsx("section",{className:"min-h-[60vh] grid place-items-center",children:h.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-white shadow-sm ring-1 ring-black/5 p-10 dark:bg-neutral-950",children:[h.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[h.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-blue-400",children:[h.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-600 dark:bg-blue-400"}),"404"]}),h.jsx("code",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate max-w-[60%]",children:e})]}),h.jsx("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight text-neutral-900 dark:text-neutral-50",children:"Page not found"}),h.jsx("p",{className:"mt-3 text-neutral-600 dark:text-neutral-300",children:"Sorry, we couldnt find the page youre looking for."}),h.jsxs("div",{className:"mt-8 flex flex-wrap items-center gap-3",children:[h.jsx(Ot,{to:"/",className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium bg-neutral-900 text-white hover:opacity-90 dark:bg-white dark:text-neutral-900",children:" Back to dashboard"}),h.jsx("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm ring-1 ring-black/10 hover:bg-neutral-50 dark:text-neutral-200 dark:hover:bg-neutral-800",children:"Go back"})]})]})})}const QD={superadmin:[{to:"/admin/dashboard",icon:"home",label:"Dashboard"},{to:"/admin/administrators",icon:"users",label:"Administrators"},{to:"/admin/property",icon:"property",label:"Property"},{to:"/admin/resources",icon:"blog",label:"Resources"},{to:"/admin/inquiry",icon:"inquiry",label:"Inquiry"}],agent:[{to:"/agent/dashboard",icon:"home",label:"Dashboard"},{to:"/agent/tipsandguides",icon:"",label:"Tips & Guides"},{to:"/agent/marketing-material",icon:"marketing",label:"Marketing Material"},{to:"/agent/agent-support",icon:"support",label:"Agent Support"}]},JD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAAAnCAYAAAB5cRjAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAArXSURBVHgB7VxNctvIFX6vQdicaORhFhNTycLwCUJlJFcqiwhKPFXZST6BoRNIOoGlE1g6gakTmN5mZopUFqmU5YmVEwizSFl2FsZE5oQ2ie681wAo/gGgRNEmRviqKJHoRgPsfv36e99rECDHzOHz8pI9V/7qIeRIhIAcOTKKAuS4Esx9uVxBQ5U6UHBbp/9wIcfUkRvvhJgvLzuA8BgUlIDemOCDWV5qtKGwkRvxdJFsvHa9ZJpgKT0wAJ0OHENj1YMcGtpwAZ6Q4Q4AbRNkvViqLHrecd5fU8Kw8ZLBClM8RKXWaUxsv2dgBNe+3zhGgXv+X1cOkhrmoAMBHiXVkT5uN/9zdAwZBSJsKhVXqqz2TZODrn3IMRX0GW/hft2WiORJlKXiz6koqari68aOlGobvlutjaqEIC0Aw4YEoAFfQIZBhltJrIAp5TkmQldtMP5UdyRgnZZAa6wzqZ5AfCru13cgR45PAG28xp/r60qQx70U8BEZ8BZcTzSSi2VKeY5JIOAvdYsM9zFMBHzE7cA1gzRgm6hBXEDmNk+/P4AcU4MQPhneuFQhHiXdzjVD899Hx4ZqL6peD4zKU6B2jFZ7EXJMFQUKOiyMKaRBqSkUe+AbLhi+JaRkTdMZWVeCDdcQ3umxS/9W+X1x4Q93Wq/+/gPk+CgoqI56oApiU5C36C2g4G0Hvl3Z7Tn0gwQ4hPuH7oi6ZOByF6aIYvn3VgE6VvRZ+eiZ7TnX8xozo6PmhtuPQC6VltGStWno3YUw6bAr7fqBMGjpJ89K3tiF71ZGGyMZtLrfYA3X5uWSjH8DGrYLU8D8wlfroMSmlpyUrzNYEUhmowWhCbduLx/TpGp00NgfzGjdKt/bUSBX4to3Wp0HaZ06/6t76yDkJlwCbbzhfGyDLlmVkt8qPB0qUOBJFDUfxOHHyvwhIOnchtP6rFinyGAKxhuhseqSEWzA13+r0jddTzpJIdYUe+Zv/ngIUwDPWAHiiSK9ObggJNwLVMikK5SW3TLLy9U2GLvR4Pio3gqFdty5YyURDHgICW3MHFpFmuS+PXQcOTpX6wKka3y5/OBTJocoM/mkd5wui+FdZWyQ365sJ571zcr+tAyXvSXN2DoFPRZcHI5OyxLF4A/mzfZBghoAApMnKXsxykQk1plhuGenRxi9DGjf1Q6H+lUIqJdKlRJ8OjhEAS8pzZ5jprZEBsu8mlC1UFZkwJ577ClFfDwWaCcNot8yk1cgUA3ICDiwfHf6nKlglSZ0KVx1Mo2Z2VXGm1wmN9wIbMCdJy1SAQrFD/tkhDtxNTvFAvPZ0fwecQ3iNy+4EEhkNmQK/iHz0MHUdYkme0f5mwJBT1gaC6KRoto8fT6kVc/9ZrkifNjE8Lsn1e3FfHmpHr1HhZXoM+9xoWytpWMLBXtnr188Gzr39tJTGg+PVpGN6NjMeF6Eq9aJ0WbuzN4XEjJhGGN8PJhJlEGC3IEMQqKh95OgOqdTbIw++i8RYUsSzZI8Mcm4iSNXmZ/2ns/9IiSw0TndutTXXPfW7aWUTCtawYsgVPcz73ExfvGhwe3QdYfa4HEkwx0ai5kwXr65NI5LnU0BhnTaaPKmIZsCtb20dqNdbdR2goyHNm8kHzzqjwp6+sunwvmniVLJLhkKtXEolDpgY2M0fHzKagT367tXR4vvTo9Wz169+GXAkcGZK9/rUgz63rwFtNQmDh3VpUzjYtAmJqoy5DXv8kvXpfGMPlMbh+dOJnA6vecFqgUF2NDuG8fZoA16eY4vZm5JS8lqzyGWnw7pSz7j4C6hYc1pvdMXjfmFZQ/CfclDtQy1Rv8Go+8kTlhtEYek68PMgr4r3d/5aqaw5Iumw8e5P6PUdThJLVpJHDrWNyGZI1O/bQlFySmAkBLIKrW113qtkzManGm8VV52aQgtmOiW1S6y91XI49HgY1r6ew/rpDw1Wqfn12TMhPFiytbCDnQ2Rh1/x0ZJ8hi9deLO9W8WWOd9xoEbDiRXutcH5PO7s5q9UZLnlX4G9uhSUIaB54w+a8mRPN5e4X3n3IOFvJ4kxXXqS3uoGYVe79bPMzJ69uDz5d9RjCLu0DWYXpUmNVwGjydPAnrrkNPZZQ0+DJp5wlUH688EbcCEL04z7nhwxvWfLJ9BAiQq7W05cEuoZvUuVUmGq71WFjbQhzQgekHE+1F5fYkZFfRPyCmdwZemc3i+Yt1aWNryi823FPQ9wYCf2tqK8GqSEJSt1WpIGEgzeAUcucnpUp43TCLYPsBJWoQ5MVI6hTyqh5AO5lTzC/dqsUFYz1IFCZRhlAeYSVC/MZeMPpbKlQ0fzBPypFvk1fZ7DNjlPxxLpGUD9YqkfN6B6EqJ6803R/+KyshjntAkmVg71urQe3MLlXDoegehI6mOqju252WDZR2WbzJMIjwSSsUGTVFUOyn0spRUHnrWcaCU3I+/TkA9SkGCw46pltltjqzz6iCXvJpfNLtbYEkx0KtIQX1wBs/hvqAxP/k8lLTa6K/pc0hpab553jVcphEKJzdcfZ+szWtjVZYODqE/UGNlZG5heZN1/FTjZdJPpP1tZLB93IZuOE4eEeoCj8Ake1crMRukxBokNi3c6D1zKoiTzVAHOHaKytCADKNwk4wg6GsnokmchaSJ67JH7lUV2Eikkk+ZNkSrjVD+j/o/CDuqx+3I4k8vo2B43Mwd67yxdZWKqCCrUN1AjYM3lunItvZM1XmcarxB9Bc/q0hOeTQoNfEXh4QgKkKh1dazV6YYBQVdI1OJoZd0ks7tQLtvKSRPU4utHFCHWMowKNVkDezVMJQNIxmRj/kGPCD+6oW6ruIXJSFeKlQV3pscrTZGUdYwoBlOVC90ao1IuvQ/M08oobCWcisNvQJwXXKMvJW0t7DXycTRNBanUjkvDzZZuh1bgW5CGPCSo35eglCCRS8H0uF2eZeeaRgvcCNHwkvUSbDLP+rBh26QtEPC+maixMbB3uv+YI89DXGqnVETMqQOIydqrweYaRRbnmoVdjgWGFX831cv9shbakrHSy9vjmGpizjxqg/ClmDoXXg6iUFjT4bU5c1s6FE9QLEmg3ijytyavWKnVeB0vOVjJ6AUFEzTZ7f4v59+bPXcgwHtjY4yN4nyWdxGsdVf3gXdQ/P1OU0Lr7/YpmubLXmQGusEOpt5kuR9LwOpYKv5+qjLQUPCb8EVItQuhzjq5wvLj2lwtuACGNUWU6o+OWoA4wRBoxAmbe5c18eIQqnyhN5We9PBg0ilDb1LzRXC9bHdJ3FJUBtwtYgPrs451eRt5bhykOFqSpOmp4+lNvBSoxI8zIUh5fbgEsw85wqv4RI/XY0rTAzcRiCr+xiyCo6zmPKl6eljS2WcKrwK4yIR2jl7831titfQhpvKT4VK3RsRIYv7GLIKpgySU9AI22l1L5RhC4xLrYYR54XAAY802otpSY1gz6m/cZlrUJRR46d2xwmsjBudwzGzQtVMBGo/E3gUQNLKuBuujom4cIYtbPTu/K9JDqEsC/DTCApHB3P8GLjeDYY7vVFrGs5O/1mlf9Ugf248xKQ9s3wNqVOKtXevxr8Gc3lKdbKnT9wJpWKyO7oMpYfKcCHHJ8E4mdVUsK6LPnwR/D4Z8PM1XlvdOL6qhw9ZzO4Uzd+ioGyaDDJqipIPHTTdn+MTu9ddbciRYeQ/6z8e8p/1z5FZ5MabI7PIjTdHZvF/WG9TC+VWro8AAAAASUVORK5CYII=";function ej({open:t=!1,onClose:e}){const{user:n}=io(),r=n?.roles?.includes("superadmin")?"superadmin":"agent",i=QD[r]??[];return h.jsxs(h.Fragment,{children:[h.jsxs("aside",{className:["fixed inset-y-0 left-0 z-40 w-64","bg-white dark:bg-neutral-950","shadow-lg md:shadow-none md:ring-1 md:ring-black/5","transform transition-transform duration-200",t?"translate-x-0":"-translate-x-full","md:translate-x-0"].join(" "),children:[h.jsx("div",{className:"h-16 mt-2 flex items-center gap-2 px-4",children:h.jsx("img",{src:JD,alt:"Jovi"})}),h.jsx("nav",{className:"p-3 mt-2 space-y-1 overflow-y-auto h-[calc(100%-4rem)]",children:i.map(a=>a.children?h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"px-2 pt-4 text-xs font-semibold text-neutral-500 dark:text-neutral-400",children:a.label}),a.children.map(l=>h.jsx(m0,{to:l.to,className:({isActive:c})=>"block rounded-lg px-3 py-2 text-sm "+(c?"bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800"),onClick:e,children:l.label},l.to))]},a.label):h.jsx(m0,{to:a.to,className:({isActive:l})=>"block rounded-lg px-3 py-2 text-sm "+(l?"bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800"),onClick:e,children:a.label},a.to))})]}),t&&h.jsx("div",{onClick:e,className:"fixed inset-0 z-30 bg-black/30 backdrop-blur-[1px] md:hidden"})]})}function tj(t,e){T.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e?.()}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])}function nj(){const{user:t}=io(),e=Jt(),[n,r]=T.useState(!1),i=T.useRef(null);tj(i,()=>r(!1));const a=t?.email??"-";return h.jsxs("div",{className:"relative",ref:i,children:[h.jsxs("button",{onClick:()=>r(l=>!l),className:"flex items-center gap-2 rounded-full ring-1 ring-black/10 px-2 py-1 bg-white/80 dark:bg-neutral-900",children:[h.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:a}),h.jsx("div",{className:"h-8 w-8 rounded-full bg-emerald-500 text-white grid place-items-center",children:a?.[0]?.toUpperCase()||"A"})]}),n&&h.jsxs("div",{className:"absolute right-0 mt-2 w-60 overflow-hidden rounded-xl bg-white shadow-lg ring-1 ring-black/10 dark:bg-neutral-900",children:[h.jsx("a",{className:"block px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800",href:"#",target:"_blank",rel:"noreferrer",children:"Contribute to Jovi Admin"}),h.jsx("button",{onClick:()=>e("/logout"),className:"block w-full text-left px-4 py-3 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800",children:"Log out"})]})]})}function rj(){const t=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)").matches,[e,n]=T.useState(()=>{const r=localStorage.getItem("theme");return r?r==="dark":t});return T.useEffect(()=>{const r=document.documentElement;e?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("theme",e?"dark":"light")},[e]),{dark:e,setDark:n}}const ij=t=>t==="/"?"Dashboard":t.replace(/^\/|\/$/g,"").split("/").map(e=>e[0]?.toUpperCase()+e.slice(1)).join("  ");function sj({onMenuClick:t}){const{pathname:e}=fi(),{dark:n,setDark:r}=rj();return h.jsx("header",{className:"fixed top-0 left-0 md:left-64 right-0 h-16 bg-white/80 dark:bg-neutral-950/70 backdrop-blur shadow-sm z-20",children:h.jsxs("div",{className:"h-full flex items-center justify-between px-3 md:px-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:t,className:"md:hidden rounded-md p-2 ring-1 ring-black/10 hover:bg-neutral-50 dark:hover:bg-neutral-800","aria-label":"Open sidebar",children:""}),h.jsx("h1",{className:"text-base md:text-lg font-semibold text-neutral-800 dark:text-neutral-100",children:ij(e)})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>r(i=>!i),className:"hidden sm:inline-flex rounded-md px-3 py-2 text-sm ring-1 ring-black/10 hover:bg-neutral-50 dark:text-neutral-200 dark:hover:bg-neutral-800","aria-label":"Toggle theme",children:n?"":""}),h.jsx(nj,{})]})]})})}function aj(){const t=new Date().getFullYear();return h.jsxs("div",{className:"mx-auto mt-8 max-w-6xl flex flex-col sm:flex-row justify-between items-center text-center text-xs text-gray-500 space-y-2 sm:space-y-0",children:[h.jsx("div",{className:"flex items-center justify-center",children:h.jsxs("span",{children:[" ",t," Jovi Realty. All rights reserved."]})}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-6",children:[h.jsx(Ot,{to:"/agent/terms",className:"text-blue-500 hover:text-blue-600 transition-colors duration-200 font-medium",children:"Terms & Conditions"}),h.jsx(Ot,{to:"/agent/privacy",className:"text-blue-500 hover:text-blue-600 transition-colors duration-200 font-medium",children:"Privacy Policy"})]})]})}function Pk(){const[t,e]=T.useState(!1);return h.jsxs("div",{className:"min-h-full bg-gray-50 dark:bg-neutral-900",children:[h.jsx(ej,{open:t,onClose:()=>e(!1)}),h.jsx(sj,{onMenuClick:()=>e(!0)}),h.jsx("main",{className:"p-4 md:p-6 md:pl-64 pt-20 mt-16",children:h.jsx("div",{className:"mx-auto max-w-[1400px] space-y-6",children:h.jsx(_h,{})})}),h.jsx(aj,{})]})}const Mb=T.createContext({});function Ab(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cb=typeof window<"u",Bk=Cb?T.useLayoutEffect:T.useEffect,Oh=T.createContext(null);function _b(t,e){t.indexOf(e)===-1&&t.push(e)}function Rb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ls=(t,e,n)=>n>e?e:n<t?t:n;let Ob=()=>{};const cs={},zk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Uk(t){return typeof t=="object"&&t!==null}const Fk=t=>/^0[^.\s]+$/u.test(t);function Db(t){let e;return()=>(e===void 0&&(e=t()),e)}const Kr=t=>t,oj=(t,e)=>n=>e(t(n)),Nu=(...t)=>t.reduce(oj),tu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class jb{constructor(){this.subscriptions=[]}add(e){return _b(this.subscriptions,e),()=>Rb(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=t=>t*1e3,qr=t=>t/1e3;function Vk(t,e){return e?t*(1e3/e):0}const Hk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lj=1e-7,cj=12;function uj(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=Hk(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>lj&&++c<cj);return l}function ku(t,e,n,r){if(t===e&&n===r)return Kr;const i=a=>uj(a,0,1,t,n);return a=>a===0||a===1?a:Hk(i(a),e,r)}const $k=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qk=t=>e=>1-t(1-e),Gk=ku(.33,1.53,.69,.99),Lb=qk(Gk),Kk=$k(Lb),Yk=t=>(t*=2)<1?.5*Lb(t):.5*(2-Math.pow(2,-10*(t-1))),Ib=t=>1-Math.sin(Math.acos(t)),Wk=qk(Ib),Xk=$k(Ib),dj=ku(.42,0,1,1),fj=ku(0,0,.58,1),Zk=ku(.42,0,.58,1),hj=t=>Array.isArray(t)&&typeof t[0]!="number",Qk=t=>Array.isArray(t)&&typeof t[0]=="number",pj={linear:Kr,easeIn:dj,easeInOut:Zk,easeOut:fj,circIn:Ib,circInOut:Xk,circOut:Wk,backIn:Lb,backInOut:Kk,backOut:Gk,anticipate:Yk},mj=t=>typeof t=="string",Xw=t=>{if(Qk(t)){Ob(t.length===4);const[e,n,r,i]=t;return ku(e,n,r,i)}else if(mj(t))return pj[t];return t},Fd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gj(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,g=!1,x=!1)=>{const w=x&&i?n:r;return g&&l.add(m),w.has(m)||w.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const bj=40;function Jk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Fd.reduce((A,P)=>(A[P]=gj(a),A),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:m,update:g,preRender:x,render:y,postRender:w}=l,E=()=>{const A=cs.useManualTiming?i.timestamp:performance.now();n=!1,cs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,bj),1)),i.timestamp=A,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),m.process(i),g.process(i),x.process(i),y.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},S=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:Fd.reduce((A,P)=>{const O=l[P];return A[P]=(C,L=!1,$=!1)=>(n||S(),O.schedule(C,L,$)),A},{}),cancel:A=>{for(let P=0;P<Fd.length;P++)l[Fd[P]].cancel(A)},state:i,steps:l}}const{schedule:Pt,cancel:ia,state:An,steps:og}=Jk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kr,!0);let xf;function xj(){xf=void 0}const ar={now:()=>(xf===void 0&&ar.set(An.isProcessing||cs.useManualTiming?An.timestamp:performance.now()),xf),set:t=>{xf=t,queueMicrotask(xj)}},eT=t=>e=>typeof e=="string"&&e.startsWith(t),Pb=eT("--"),yj=eT("var(--"),Bb=t=>yj(t)?vj.test(t.split("/*")[0].trim()):!1,vj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nu={...bl,transform:t=>ls(0,1,t)},Vd={...bl,default:1},jc=t=>Math.round(t*1e5)/1e5,zb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wj(t){return t==null}const Ej=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ub=(t,e)=>n=>!!(typeof n=="string"&&Ej.test(n)&&n.startsWith(t)||e&&!wj(n)&&Object.prototype.hasOwnProperty.call(n,e)),tT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(zb);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Sj=t=>ls(0,255,t),lg={...bl,transform:t=>Math.round(Sj(t))},za={test:Ub("rgb","red"),parse:tT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lg.transform(t)+", "+lg.transform(e)+", "+lg.transform(n)+", "+jc(nu.transform(r))+")"};function Nj(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const g0={test:Ub("#"),parse:Nj,transform:za.transform},Tu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Us=Tu("deg"),_i=Tu("%"),$e=Tu("px"),kj=Tu("vh"),Tj=Tu("vw"),Zw={..._i,parse:t=>_i.parse(t)/100,transform:t=>_i.transform(t*100)},Zo={test:Ub("hsl","hue"),parse:tT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_i.transform(jc(e))+", "+_i.transform(jc(n))+", "+jc(nu.transform(r))+")"},an={test:t=>za.test(t)||g0.test(t)||Zo.test(t),parse:t=>za.test(t)?za.parse(t):Zo.test(t)?Zo.parse(t):g0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?za.transform(t):Zo.transform(t),getAnimatableNone:t=>{const e=an.parse(t);return e.alpha=0,an.transform(e)}},Mj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Aj(t){return isNaN(t)&&typeof t=="string"&&(t.match(zb)?.length||0)+(t.match(Mj)?.length||0)>0}const nT="number",rT="color",Cj="var",_j="var(",Qw="${}",Rj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ru(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(Rj,d=>(an.test(d)?(r.color.push(a),i.push(rT),n.push(an.parse(d))):d.startsWith(_j)?(r.var.push(a),i.push(Cj),n.push(d)):(r.number.push(a),i.push(nT),n.push(parseFloat(d))),++a,Qw)).split(Qw);return{values:n,split:c,indexes:r,types:i}}function iT(t){return ru(t).values}function sT(t){const{split:e,types:n}=ru(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===nT?a+=jc(i[l]):c===rT?a+=an.transform(i[l]):a+=i[l]}return a}}const Oj=t=>typeof t=="number"?0:an.test(t)?an.getAnimatableNone(t):t;function Dj(t){const e=iT(t);return sT(t)(e.map(Oj))}const sa={test:Aj,parse:iT,createTransformer:sT,getAnimatableNone:Dj};function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=cg(d,c,t+1/3),a=cg(d,c,t),l=cg(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Rf(t,e){return n=>n>0?e:t}const zt=(t,e,n)=>t+(e-t)*n,ug=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Lj=[g0,za,Zo],Ij=t=>Lj.find(e=>e.test(t));function Jw(t){const e=Ij(t);if(!e)return!1;let n=e.parse(t);return e===Zo&&(n=jj(n)),n}const eE=(t,e)=>{const n=Jw(t),r=Jw(e);if(!n||!r)return Rf(t,e);const i={...n};return a=>(i.red=ug(n.red,r.red,a),i.green=ug(n.green,r.green,a),i.blue=ug(n.blue,r.blue,a),i.alpha=zt(n.alpha,r.alpha,a),za.transform(i))},b0=new Set(["none","hidden"]);function Pj(t,e){return b0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Bj(t,e){return n=>zt(t,e,n)}function Fb(t){return typeof t=="number"?Bj:typeof t=="string"?Bb(t)?Rf:an.test(t)?eE:Fj:Array.isArray(t)?aT:typeof t=="object"?an.test(t)?eE:zj:Rf}function aT(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Fb(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function zj(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Fb(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Uj(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=t.values[l]??0;n[i]=c,r[a]++}return n}const Fj=(t,e)=>{const n=sa.createTransformer(e),r=ru(t),i=ru(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?b0.has(t)&&!i.values.length||b0.has(e)&&!r.values.length?Pj(t,e):Nu(aT(Uj(r,i),i.values),n):Rf(t,e)};function oT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zt(t,e,n):Fb(t)(t,e)}const Vj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Pt.update(e,n),stop:()=>ia(e),now:()=>An.isProcessing?An.timestamp:ar.now()}},lT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Of=2e4;function Vb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Of;)e+=n,r=t.next(e);return e>=Of?1/0:e}function Hj(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Vb(r),Of);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:qr(i)}}const $j=5;function cT(t,e,n){const r=Math.max(e-$j,0);return Vk(n-t(r),e-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dg=.001;function qj({duration:t=qt.duration,bounce:e=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let i,a,l=1-e;l=ls(qt.minDamping,qt.maxDamping,l),t=ls(qt.minDuration,qt.maxDuration,qr(t)),l<1?(i=f=>{const m=f*l,g=m*t,x=m-n,y=x0(f,l),w=Math.exp(-g);return dg-x/y*w},a=f=>{const g=f*l*t,x=g*n+n,y=Math.pow(l,2)*Math.pow(f,2)*t,w=Math.exp(-g),E=x0(Math.pow(f,2),l);return(-i(f)+dg>0?-1:1)*((x-y)*w)/E}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-dg+m*g},a=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const c=5/t,d=Kj(i,a,c);if(t=Ci(t),isNaN(d))return{stiffness:qt.stiffness,damping:qt.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const Gj=12;function Kj(t,e,n){let r=n;for(let i=1;i<Gj;i++)r=r-t(r)/e(r);return r}function x0(t,e){return t*Math.sqrt(1-e*e)}const Yj=["duration","bounce"],Wj=["stiffness","damping","mass"];function tE(t,e){return e.some(n=>t[n]!==void 0)}function Xj(t){let e={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...t};if(!tE(t,Wj)&&tE(t,Yj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ls(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:qt.mass,stiffness:i,damping:a}}else{const n=qj(t);e={...e,...n,mass:qt.mass},e.isResolvedFromDuration=!0}return e}function Df(t=qt.visualDuration,e=qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:m,duration:g,velocity:x,isResolvedFromDuration:y}=Xj({...n,velocity:-qr(n.velocity||0)}),w=x||0,E=f/(2*Math.sqrt(d*m)),S=l-a,k=qr(Math.sqrt(d/m)),_=Math.abs(S)<5;r||(r=_?qt.restSpeed.granular:qt.restSpeed.default),i||(i=_?qt.restDelta.granular:qt.restDelta.default);let A;if(E<1){const O=x0(k,E);A=C=>{const L=Math.exp(-E*k*C);return l-L*((w+E*k*S)/O*Math.sin(O*C)+S*Math.cos(O*C))}}else if(E===1)A=O=>l-Math.exp(-k*O)*(S+(w+k*S)*O);else{const O=k*Math.sqrt(E*E-1);A=C=>{const L=Math.exp(-E*k*C),$=Math.min(O*C,300);return l-L*((w+E*k*S)*Math.sinh($)+O*S*Math.cosh($))/O}}const P={calculatedDuration:y&&g||null,next:O=>{const C=A(O);if(y)c.done=O>=g;else{let L=O===0?w:0;E<1&&(L=O===0?Ci(w):cT(A,O,C));const $=Math.abs(L)<=r,J=Math.abs(l-C)<=i;c.done=$&&J}return c.value=c.done?l:C,c},toString:()=>{const O=Math.min(Vb(P),Of),C=lT(L=>P.next(O*L).value,O,30);return O+"ms "+C},toTransition:()=>{}};return P}Df.applyToOptions=t=>{const e=Hj(t,100,Df);return t.ease=e.ease,t.duration=Ci(e.duration),t.type="keyframes",t};function y0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:m}){const g=t[0],x={done:!1,value:g},y=$=>c!==void 0&&$<c||d!==void 0&&$>d,w=$=>c===void 0?d:d===void 0||Math.abs(c-$)<Math.abs(d-$)?c:d;let E=n*e;const S=g+E,k=l===void 0?S:l(S);k!==S&&(E=k-g);const _=$=>-E*Math.exp(-$/r),A=$=>k+_($),P=$=>{const J=_($),pe=A($);x.done=Math.abs(J)<=f,x.value=x.done?k:pe};let O,C;const L=$=>{y(x.value)&&(O=$,C=Df({keyframes:[x.value,w(x.value)],velocity:cT(A,$,x.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return L(0),{calculatedDuration:null,next:$=>{let J=!1;return!C&&O===void 0&&(J=!0,P($),L($)),O!==void 0&&$>=O?C.next($-O):(!J&&P($),x)}}}function Zj(t,e,n){const r=[],i=n||cs.mix||oT,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Kr:e;c=Nu(d,c)}r.push(c)}return r}function Qj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Ob(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Zj(e,r,i),d=c.length,f=m=>{if(l&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const x=tu(t[g],t[g+1],m);return c[g](x)};return n?m=>f(ls(t[0],t[a-1],m)):f}function Jj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=tu(0,e,r);t.push(zt(n,1,i))}}function eL(t){const e=[0];return Jj(e,t.length-1),e}function tL(t,e){return t.map(n=>n*e)}function nL(t,e){return t.map(()=>e||Zk).splice(0,t.length-1)}function Lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=hj(r)?r.map(Xw):Xw(r),a={done:!1,value:e[0]},l=tL(n&&n.length===e.length?n:eL(e),t),c=Qj(l,e,{ease:Array.isArray(i)?i:nL(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const rL=t=>t!==null;function Hb(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(rL),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const iL={decay:y0,inertia:y0,tween:Lc,keyframes:Lc,spring:Df};function uT(t){typeof t.type=="string"&&(t.type=iL[t.type])}class $b{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const sL=t=>t/100;class qb extends $b{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uT(e);const{type:n=Lc,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Lc;d!==Lc&&typeof c[0]!="number"&&(this.mixKeyframes=Nu(sL,oT(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Vb(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:x,repeatDelay:y,type:w,onUpdate:E,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,P=r;if(g){const $=Math.min(this.currentTime,i)/c;let J=Math.floor($),pe=$%1;!pe&&$>=1&&(pe=1),pe===1&&J--,J=Math.min(J,g+1),!!(J%2)&&(x==="reverse"?(pe=1-pe,y&&(pe-=y/c)):x==="mirror"&&(P=l)),A=ls(0,1,pe)*c}const O=_?{done:!1,value:m[0]}:P.next(A);a&&(O.value=a(O.value));let{done:C}=O;!_&&d!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return L&&w!==y0&&(O.value=Hb(m,this.options,S,this.speed)),E&&E(O.value),L&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return qr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qr(e)}get time(){return qr(this.currentTime)}set time(e){e=Ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ar.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Vj,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function aL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ua=t=>t*180/Math.PI,v0=t=>{const e=Ua(Math.atan2(t[1],t[0]));return w0(e)},oL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:v0,rotateZ:v0,skewX:t=>Ua(Math.atan(t[1])),skewY:t=>Ua(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},w0=t=>(t=t%360,t<0&&(t+=360),t),nE=v0,rE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),iE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rE,scaleY:iE,scale:t=>(rE(t)+iE(t))/2,rotateX:t=>w0(Ua(Math.atan2(t[6],t[5]))),rotateY:t=>w0(Ua(Math.atan2(-t[2],t[0]))),rotateZ:nE,rotate:nE,skewX:t=>Ua(Math.atan(t[4])),skewY:t=>Ua(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function E0(t){return t.includes("scale")?1:0}function S0(t,e){if(!t||t==="none")return E0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=lL,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=oL,i=c}if(!i)return E0(e);const a=r[e],l=i[1].split(",").map(uL);return typeof a=="function"?a(l):l[a]}const cL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return S0(n,e)};function uL(t){return parseFloat(t.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yl=new Set(xl),sE=t=>t===bl||t===$e,dL=new Set(["x","y","z"]),fL=xl.filter(t=>!dL.has(t));function hL(t){const e=[];return fL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>S0(e,"x"),y:(t,{transform:e})=>S0(e,"y")};qa.translateX=qa.x;qa.translateY=qa.y;const Ga=new Set;let N0=!1,k0=!1,T0=!1;function dT(){if(k0){const t=Array.from(Ga).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=hL(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}k0=!1,N0=!1,Ga.forEach(t=>t.complete(T0)),Ga.clear()}function fT(){Ga.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(k0=!0)})}function pL(){T0=!0,fT(),dT(),T0=!1}class Gb{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ga.add(this),N0||(N0=!0,Pt.read(fT),Pt.resolveKeyframes(dT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}aL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ga.delete(this)}cancel(){this.state==="scheduled"&&(Ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mL=t=>t.startsWith("--");function gL(t,e,n){mL(e)?t.style.setProperty(e,n):t.style[e]=n}const bL=Db(()=>window.ScrollTimeline!==void 0),xL={};function yL(t,e){const n=Db(t);return()=>xL[e]??n()}const hT=yL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,aE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function pT(t,e){if(t)return typeof t=="function"?hT()?lT(t,e):"ease-out":Qk(t)?Cc(t):Array.isArray(t)?t.map(n=>pT(n,e)||aE.easeOut):aE[t]}function vL(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const m={[e]:n};d&&(m.offset=d);const g=pT(c,i);Array.isArray(g)&&(m.easing=g);const x={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(m,x)}function mT(t){return typeof t=="function"&&"applyToOptions"in t}function wL({type:t,...e}){return mT(t)&&hT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class EL extends $b{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Ob(typeof e.type!="string");const f=wL(e);this.animation=vL(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Hb(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):gL(n,r,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return qr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qr(e)}get time(){return qr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&bL()?(this.animation.timeline=e,Kr):n(this)}}const gT={anticipate:Yk,backInOut:Kk,circInOut:Xk};function SL(t){return t in gT}function NL(t){typeof t.ease=="string"&&SL(t.ease)&&(t.ease=gT[t.ease])}const oE=10;class kL extends EL{constructor(e){NL(e),uT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new qb({...l,autoplay:!1}),d=Ci(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-oE).value,c.sample(d).value,oE),c.stop()}}const lE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sa.test(t)||t==="0")&&!t.startsWith("url("));function TL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ML(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=lE(i,e),c=lE(a,e);return!l||!c?!1:TL(t)||(n==="spring"||mT(n))&&r}function M0(t){t.duration=0,t.type="keyframes"}const AL=new Set(["opacity","clipPath","filter","transform"]),CL=Db(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _L(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return CL()&&n&&AL.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const RL=40;class OL extends $b{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ar.now();const x={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:d,motionValue:f,element:m,...g},y=m?.KeyframeResolver||Gb;this.keyframeResolver=new y(c,(w,E,S)=>this.onKeyframesResolved(w,E,x,!S),d,f,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=ar.now(),ML(e,a,l,c)||((cs.instantAnimations||!d)&&m?.(Hb(e,r,n)),e[0]=e[e.length-1],M0(r),r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>RL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!f&&_L(x)?new kL({...x,element:x.motionValue.owner.current}):new qb(x);y.finished.then(()=>this.notifyFinished()).catch(Kr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jL(t){const e=DL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function bT(t,e,n=1){const[r,i]=jL(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return zk(l)?parseFloat(l):l}return Bb(i)?bT(i,e,n+1):i}function Kb(t,e){return t?.[e]??t?.default??t}const xT=new Set(["width","height","top","left","right","bottom",...xl]),LL={test:t=>t==="auto",parse:t=>t},yT=t=>e=>e.test(t),vT=[bl,$e,_i,Us,Tj,kj,LL],cE=t=>vT.find(yT(t));function IL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fk(t):!0}const PL=new Set(["brightness","contrast","saturate","opacity"]);function BL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zb)||[];if(!r)return t;const i=n.replace(r,"");let a=PL.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const zL=/\b([a-z-]*)\(.*?\)/gu,A0={...sa,getAnimatableNone:t=>{const e=t.match(zL);return e?e.map(BL).join(" "):t}},uE={...bl,transform:Math.round},UL={rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:Vd,scaleX:Vd,scaleY:Vd,scaleZ:Vd,skew:Us,skewX:Us,skewY:Us,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:nu,originX:Zw,originY:Zw,originZ:$e},Yb={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...UL,zIndex:uE,fillOpacity:nu,strokeOpacity:nu,numOctaves:uE},FL={...Yb,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:A0,WebkitFilter:A0},wT=t=>FL[t];function ET(t,e){let n=wT(t);return n!==A0&&(n=sa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VL=new Set(["auto","none","0"]);function HL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!VL.has(a)&&ru(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=ET(n,i)}class $L extends Gb{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),Bb(f))){const m=bT(f,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!xT.has(r)||e.length!==2)return;const[i,a]=e,l=cE(i),c=cE(a);if(l!==c)if(sE(l)&&sE(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else qa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||IL(e[i]))&&r.push(i);r.length&&HL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function qL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const ST=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NT(t){return Uk(t)&&"offsetHeight"in t}const dE=30,GL=t=>!isNaN(parseFloat(t));class KL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jb);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dE);return Vk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new KL(t,e)}const{schedule:Wb}=Jk(queueMicrotask,!1),ai={x:!1,y:!1};function kT(){return ai.x||ai.y}function YL(t){return t==="x"||t==="y"?ai[t]?null:(ai[t]=!0,()=>{ai[t]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function TT(t,e){const n=qL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function fE(t){return!(t.pointerType==="touch"||kT())}function WL(t,e,n={}){const[r,i,a]=TT(t,n),l=c=>{if(!fE(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const m=g=>{fE(g)&&(f(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const MT=(t,e)=>e?t===e?!0:MT(t,e.parentElement):!1,Xb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZL(t){return XL.has(t.tagName)||t.tabIndex!==-1}const yf=new WeakSet;function hE(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=hE(()=>{if(yf.has(n))return;fg(n,"down");const i=hE(()=>{fg(n,"up")}),a=()=>fg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function pE(t){return Xb(t)&&!kT()}function JL(t,e,n={}){const[r,i,a]=TT(t,n),l=c=>{const d=c.currentTarget;if(!pE(c))return;yf.add(d);const f=e(d,c),m=(y,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),yf.has(d)&&yf.delete(d),pE(y)&&typeof f=="function"&&f(y,{success:w})},g=y=>{m(y,d===window||d===document||n.useGlobalTarget||MT(d,y.target))},x=y=>{m(y,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",x,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),NT(c)&&(c.addEventListener("focus",f=>QL(f,i)),!ZL(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function AT(t){return Uk(t)&&"ownerSVGElement"in t}function e3(t){return AT(t)&&t.tagName==="svg"}const Bn=t=>!!(t&&t.getVelocity),t3=[...vT,an,sa],n3=t=>t3.find(yT(t)),Zb=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function r3(...t){return e=>{let n=!1;const r=t.map(i=>{const a=mE(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():mE(t[i],null)}}}}function i3(...t){return T.useCallback(r3(...t),t)}class s3 extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=NT(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function a3({children:t,isPresent:e,anchorX:n,root:r}){const i=T.useId(),a=T.useRef(null),l=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=T.useContext(Zb),d=i3(a,t?.ref);return T.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:x,right:y}=l.current;if(e||!a.current||!f||!m)return;const w=n==="left"?`left: ${x}`:`right: ${y}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");c&&(E.nonce=c);const S=r??document.head;return S.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(E)&&S.removeChild(E)}},[e]),h.jsx(s3,{isPresent:e,childRef:a,sizeRef:l,children:T.cloneElement(t,{ref:d})})}const o3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:c,root:d})=>{const f=Ab(l3),m=T.useId();let g=!0,x=T.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:y=>{f.set(y,!0);for(const w of f.values())if(!w)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[n,f,r]);return a&&g&&(x={...x}),T.useMemo(()=>{f.forEach((y,w)=>f.set(w,!1))},[n]),T.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx(a3,{isPresent:n,anchorX:c,root:d,children:t})),h.jsx(Oh.Provider,{value:x,children:t})};function l3(){return new Map}function CT(t=!0){const e=T.useContext(Oh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=T.useId();T.useEffect(()=>{if(t)return i(a)},[t]);const l=T.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Hd=t=>t.key||"";function gE(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const c3=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[f,m]=CT(l),g=T.useMemo(()=>gE(t),[t]),x=l&&!f?[]:g.map(Hd),y=T.useRef(!0),w=T.useRef(g),E=Ab(()=>new Map),[S,k]=T.useState(g),[_,A]=T.useState(g);Bk(()=>{y.current=!1,w.current=g;for(let C=0;C<_.length;C++){const L=Hd(_[C]);x.includes(L)?E.delete(L):E.get(L)!==!0&&E.set(L,!1)}},[_,x.length,x.join("-")]);const P=[];if(g!==S){let C=[...g];for(let L=0;L<_.length;L++){const $=_[L],J=Hd($);x.includes(J)||(C.splice(L,0,$),P.push($))}return a==="wait"&&P.length&&(C=P),A(gE(C)),k(g),null}const{forceRender:O}=T.useContext(Mb);return h.jsx(h.Fragment,{children:_.map(C=>{const L=Hd(C),$=l&&!f?!1:g===_||x.includes(L),J=()=>{if(E.has(L))E.set(L,!0);else return;let pe=!0;E.forEach(Te=>{Te||(pe=!1)}),pe&&(O?.(),A(w.current),l&&m?.(),r&&r())};return h.jsx(o3,{isPresent:$,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:$?void 0:J,anchorX:c,children:C},L)})})},_T=T.createContext({strict:!1}),bE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in bE)ll[t]={isEnabled:e=>bE[t].some(n=>!!e[n])};function u3(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const d3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d3.has(t)}let RT=t=>!jf(t);function f3(t){typeof t=="function"&&(RT=e=>e.startsWith("on")?!jf(e):t(e))}try{f3(require("@emotion/is-prop-valid").default)}catch{}function h3(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(RT(i)||n===!0&&jf(i)||!e&&!jf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Dh=T.createContext({});function jh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function iu(t){return typeof t=="string"||Array.isArray(t)}const Qb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jb=["initial",...Qb];function Lh(t){return jh(t.animate)||Jb.some(e=>iu(t[e]))}function OT(t){return!!(Lh(t)||t.variants)}function p3(t,e){if(Lh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||iu(n)?n:void 0,animate:iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function m3(t){const{initial:e,animate:n}=p3(t,T.useContext(Dh));return T.useMemo(()=>({initial:e,animate:n}),[xE(e),xE(n)])}function xE(t){return Array.isArray(t)?t.join(" "):t}const su={};function g3(t){for(const e in t)su[e]=t[e],Pb(e)&&(su[e].isCSSVariable=!0)}function DT(t,{layout:e,layoutId:n}){return yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!su[t]||t==="opacity")}const b3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x3=xl.length;function y3(t,e,n){let r="",i=!0;for(let a=0;a<x3;a++){const l=xl[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=ST(c,Yb[l]);if(!d){i=!1;const m=b3[l]||l;r+=`${m}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function ex(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const f=e[d];if(yl.has(d)){l=!0;continue}else if(Pb(d)){i[d]=f;continue}else{const m=ST(f,Yb[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=y3(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${f} ${m}`}}const tx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jT(t,e,n){for(const r in e)!Bn(e[r])&&!DT(r,n)&&(t[r]=e[r])}function v3({transformTemplate:t},e){return T.useMemo(()=>{const n=tx();return ex(n,e,t),Object.assign({},n.vars,n.style)},[e])}function w3(t,e){const n=t.style||{},r={};return jT(r,n,t),Object.assign(r,v3(t,e)),r}function E3(t,e){const n={},r=w3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const S3={offset:"stroke-dashoffset",array:"stroke-dasharray"},N3={offset:"strokeDashoffset",array:"strokeDasharray"};function k3(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?S3:N3;t[a.offset]=$e.transform(-r);const l=$e.transform(e),c=$e.transform(n);t[a.array]=`${l} ${c}`}function LT(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,f,m){if(ex(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&k3(g,i,a,l,!1)}const IT=()=>({...tx(),attrs:{}}),PT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T3(t,e,n,r){const i=T.useMemo(()=>{const a=IT();return LT(a,e,PT(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};jT(a,t.style,t),i.style={...a,...i.style}}return i}const M3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nx(t){return typeof t!="string"||t.includes("-")?!1:!!(M3.indexOf(t)>-1||/[A-Z]/u.test(t))}function A3(t,e,n,{latestValues:r},i,a=!1){const c=(nx(t)?T3:E3)(e,r,i,t),d=h3(e,typeof t=="string",a),f=t!==T.Fragment?{...d,...c,ref:n}:{},{children:m}=e,g=T.useMemo(()=>Bn(m)?m.get():m,[m]);return T.createElement(t,{...f,children:g})}function yE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function rx(t,e,n,r){if(typeof e=="function"){const[i,a]=yE(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=yE(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function vf(t){return Bn(t)?t.get():t}function C3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_3(n,r,i,t),renderState:e()}}function _3(t,e,n,r){const i={},a=r(t,{});for(const x in a)i[x]=vf(a[x]);let{initial:l,animate:c}=t;const d=Lh(t),f=OT(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!jh(g)){const x=Array.isArray(g)?g:[g];for(let y=0;y<x.length;y++){const w=rx(t,x[y]);if(w){const{transitionEnd:E,transition:S,...k}=w;for(const _ in k){let A=k[_];if(Array.isArray(A)){const P=m?A.length-1:0;A=A[P]}A!==null&&(i[_]=A)}for(const _ in E)i[_]=E[_]}}}return i}const BT=t=>(e,n)=>{const r=T.useContext(Dh),i=T.useContext(Oh),a=()=>C3(t,e,r,i);return n?a():Ab(a)};function ix(t,e,n){const{style:r}=t,i={};for(const a in r)(Bn(r[a])||e.style&&Bn(e.style[a])||DT(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const R3=BT({scrapeMotionValuesFromProps:ix,createRenderState:tx});function zT(t,e,n){const r=ix(t,e,n);for(const i in t)if(Bn(t[i])||Bn(e[i])){const a=xl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const O3=BT({scrapeMotionValuesFromProps:zT,createRenderState:IT}),D3=Symbol.for("motionComponentSymbol");function Qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j3(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qo(n)&&(n.current=r))},[e])}const sx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L3="framerAppearId",UT="data-"+sx(L3),FT=T.createContext({});function I3(t,e,n,r,i){const{visualElement:a}=T.useContext(Dh),l=T.useContext(_T),c=T.useContext(Oh),d=T.useContext(Zb).reducedMotion,f=T.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,g=T.useContext(FT);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&P3(f.current,n,i,g);const x=T.useRef(!1);T.useInsertionEffect(()=>{m&&x.current&&m.update(n,c)});const y=n[UT],w=T.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return Bk(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),w.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),w.current=!1),m.enteringChildren=void 0)}),m}function P3(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VT(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Qo(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function VT(t){if(t)return t.options.allowProjection!==!1?t.projection:VT(t.parent)}function hg(t,{forwardMotionProps:e=!1}={},n,r){n&&u3(n);const i=nx(t)?O3:R3;function a(c,d){let f;const m={...T.useContext(Zb),...c,layoutId:B3(c)},{isStatic:g}=m,x=m3(c),y=i(c,g);if(!g&&Cb){z3();const w=U3(m);f=w.MeasureLayout,x.visualElement=I3(t,y,m,r,w.ProjectionNode)}return h.jsxs(Dh.Provider,{value:x,children:[f&&x.visualElement?h.jsx(f,{visualElement:x.visualElement,...m}):null,A3(t,c,j3(y,x.visualElement,d),y,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=T.forwardRef(a);return l[D3]=t,l}function B3({layoutId:t}){const e=T.useContext(Mb).id;return e&&t!==void 0?e+"-"+t:t}function z3(t,e){T.useContext(_T).strict}function U3(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function F3(t,e){if(typeof Proxy>"u")return hg;const n=new Map,r=(a,l)=>hg(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,hg(l,void 0,t,e)),n.get(l))})}function HT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function V3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pg(t){return t===void 0||t===1}function C0({scale:t,scaleX:e,scaleY:n}){return!pg(t)||!pg(e)||!pg(n)}function Ia(t){return C0(t)||$T(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $T(t){return vE(t.x)||vE(t.y)}function vE(t){return t&&t!=="0%"}function Lf(t,e,n){const r=t-n,i=e*r;return n+i}function wE(t,e,n,r,i){return i!==void 0&&(t=Lf(t,i,r)),Lf(t,n,r)+e}function _0(t,e=0,n=1,r,i){t.min=wE(t.min,e,n,r,i),t.max=wE(t.max,e,n,r,i)}function qT(t,{x:e,y:n}){_0(t.x,e.translate,e.scale,e.originPoint),_0(t.y,n.translate,n.scale,n.originPoint)}const EE=.999999999999,SE=1.0000000000001;function $3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&el(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,qT(t,l)),r&&Ia(a.latestValues)&&el(t,a.latestValues))}e.x<SE&&e.x>EE&&(e.x=1),e.y<SE&&e.y>EE&&(e.y=1)}function Jo(t,e){t.min=t.min+e,t.max=t.max+e}function NE(t,e,n,r,i=.5){const a=zt(t.min,t.max,i);_0(t,e,n,a,r)}function el(t,e){NE(t.x,e.x,e.scaleX,e.scale,e.originX),NE(t.y,e.y,e.scaleY,e.scale,e.originY)}function GT(t,e){return HT(H3(t.getBoundingClientRect(),e))}function q3(t,e,n){const r=GT(t,n),{scroll:i}=e;return i&&(Jo(r.x,i.offset.x),Jo(r.y,i.offset.y)),r}const kE=()=>({translate:0,scale:1,origin:0,originPoint:0}),tl=()=>({x:kE(),y:kE()}),TE=()=>({min:0,max:0}),Zt=()=>({x:TE(),y:TE()}),R0={current:null},KT={current:!1};function G3(){if(KT.current=!0,!!Cb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>R0.current=t.matches;t.addEventListener("change",e),e()}else R0.current=!1}const K3=new WeakMap;function Y3(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Bn(i))t.addValue(r,i);else if(Bn(a))t.addValue(r,ol(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ol(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ME=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ar.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Pt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Lh(n),this.isVariantNode=OT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const y=g[x];d[x]!==void 0&&Bn(y)&&y.set(d[x])}}mount(e){this.current=e,K3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KT.current||G3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:R0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ia(this.notifyUpdate),ia(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=yl.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ME.length;r++){const i=ME[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Y3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ol(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(zk(r)||Fk(r))?r=parseFloat(r):!n3(r)&&sa.test(n)&&(r=ET(e,n)),this.setBaseTarget(e,Bn(r)?r.get():r)),Bn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=rx(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Bn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wb.render(this.render)}}class YT extends W3{constructor(){super(...arguments),this.KeyframeResolver=$L}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WT(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function X3(t){return window.getComputedStyle(t)}class Z3 extends YT{constructor(){super(...arguments),this.type="html",this.renderInstance=WT}readValueFromInstance(e,n){if(yl.has(n))return this.projection?.isProjecting?E0(n):cL(e,n);{const r=X3(e),i=(Pb(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GT(e,n)}build(e,n,r){ex(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ix(e,n,r)}}const XT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q3(t,e,n,r){WT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(XT.has(i)?i:sx(i),e.attrs[i])}class J3 extends YT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yl.has(n)){const r=wT(n);return r&&r.default||0}return n=XT.has(n)?n:sx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return zT(e,n,r)}build(e,n,r){LT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Q3(e,n,r,i)}mount(e){this.isSVGTag=PT(e.tagName),super.mount(e)}}const eI=(t,e)=>nx(t)?new J3(e):new Z3(e,{allowProjection:t!==T.Fragment});function il(t,e,n){const r=t.getProps();return rx(r,e,n!==void 0?n:r.custom,t)}const O0=t=>Array.isArray(t);function tI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function nI(t){return O0(t)?t[t.length-1]||0:t}function rI(t,e){const n=il(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=nI(a[l]);tI(t,l,c)}}function iI(t){return!!(Bn(t)&&t.add)}function D0(t,e){const n=t.getValue("willChange");if(iI(n))return n.add(e);if(!n&&cs.WillChange){const r=new cs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ZT(t){return t.props[UT]}const sI=t=>t!==null;function aI(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(sI),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const oI={type:"spring",stiffness:500,damping:25,restSpeed:10},lI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cI={type:"keyframes",duration:.8},uI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dI=(t,{keyframes:e})=>e.length>2?cI:yl.has(t)?t.startsWith("scale")?lI(e[1]):oI:uI;function fI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const ax=(t,e,n,r={},i,a)=>l=>{const c=Kb(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ci(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};fI(c)||Object.assign(m,dI(t,m)),m.duration&&(m.duration=Ci(m.duration)),m.repeatDelay&&(m.repeatDelay=Ci(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(M0(m),m.delay===0&&(g=!0)),(cs.instantAnimations||cs.skipAnimations)&&(g=!0,M0(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!a&&e.get()!==void 0){const x=aI(m.keyframes,c);if(x!==void 0){Pt.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new qb(m):new OL(m)};function hI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function QT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const g=t.getValue(m,t.latestValues[m]??null),x=c[m];if(x===void 0||f&&hI(f,m))continue;const y={delay:n,...Kb(a||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===w&&!y.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const k=ZT(t);if(k){const _=window.MotionHandoffAnimation(k,m,Pt);_!==null&&(y.startTime=_,E=!0)}}D0(t,m),g.start(ax(m,g,x,t.shouldReduceMotion&&xT.has(m)?{type:!1}:y,t,E));const S=g.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{Pt.update(()=>{l&&rI(t,l)})}),d}function JT(t,e,n,r=0,i=1){const a=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:c-a*r}function j0(t,e,n={}){const r=il(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(QT(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=i;return pI(t,e,d,f,m,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function pI(t,e,n=0,r=0,i=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(j0(d,e,{...l,delay:n+(typeof r=="function"?0:r)+JT(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function mI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>j0(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=j0(t,e,n);else{const i=typeof e=="function"?il(t,e,n.custom):e;r=Promise.all(QT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function eM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gI=Jb.length;function tM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?tM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gI;n++){const r=Jb[n],i=t.props[r];(iu(i)||i===!1)&&(e[r]=i)}return e}const bI=[...Qb].reverse(),xI=Qb.length;function yI(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mI(t,n,r)))}function vI(t){let e=yI(t),n=AE(),r=!0;const i=d=>(f,m)=>{const g=il(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:x,transitionEnd:y,...w}=g;f={...f,...w,...y}}return f};function a(d){e=d(t)}function l(d){const{props:f}=t,m=tM(t.parent)||{},g=[],x=new Set;let y={},w=1/0;for(let S=0;S<xI;S++){const k=bI[S],_=n[k],A=f[k]!==void 0?f[k]:m[k],P=iu(A),O=k===d?_.isActive:null;O===!1&&(w=S);let C=A===m[k]&&A!==f[k]&&P;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...y},!_.isActive&&O===null||!A&&!_.prevProp||jh(A)||typeof A=="boolean")continue;const L=wI(_.prevProp,A);let $=L||k===d&&_.isActive&&!C&&P||S>w&&P,J=!1;const pe=Array.isArray(A)?A:[A];let Te=pe.reduce(i(k),{});O===!1&&(Te={});const{prevResolvedValues:Ae={}}=_,Ee={...Ae,...Te},le=ee=>{$=!0,x.has(ee)&&(J=!0,x.delete(ee)),_.needsAnimating[ee]=!0;const X=t.getValue(ee);X&&(X.liveStyle=!1)};for(const ee in Ee){const X=Te[ee],ue=Ae[ee];if(y.hasOwnProperty(ee))continue;let R=!1;O0(X)&&O0(ue)?R=!eM(X,ue):R=X!==ue,R?X!=null?le(ee):x.add(ee):X!==void 0&&x.has(ee)?le(ee):_.protectedKeys[ee]=!0}_.prevProp=A,_.prevResolvedValues=Te,_.isActive&&(y={...y,...Te}),r&&t.blockInitialAnimation&&($=!1);const ge=C&&L;$&&(!ge||J)&&g.push(...pe.map(ee=>{const X={type:k};if(typeof ee=="string"&&r&&!ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,R=il(ue,ee);if(ue.enteringChildren&&R){const{delayChildren:W}=R.transition||{};X.delay=JT(ue.enteringChildren,t,W)}}return{animation:ee,options:X}}))}if(x.size){const S={};if(typeof f.initial!="boolean"){const k=il(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(S.transition=k.transition)}x.forEach(k=>{const _=t.getBaseTarget(k),A=t.getValue(k);A&&(A.liveStyle=!0),S[k]=_??null}),g.push({animation:S})}let E=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),n[d].isActive=f;const m=l(d);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=AE()}}}function wI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eM(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AE(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EI extends ca{constructor(e){super(e),e.animationState||(e.animationState=vI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SI=0;class NI extends ca{constructor(){super(...arguments),this.id=SI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kI={animation:{Feature:EI},exit:{Feature:NI}};function au(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mu(t){return{point:{x:t.pageX,y:t.pageY}}}const TI=t=>e=>Xb(e)&&t(e,Mu(e));function Ic(t,e,n,r){return au(t,e,TI(n),r)}const nM=1e-4,MI=1-nM,AI=1+nM,rM=.01,CI=0-rM,_I=0+rM;function Kn(t){return t.max-t.min}function RI(t,e,n){return Math.abs(t-e)<=n}function CE(t,e,n,r=.5){t.origin=r,t.originPoint=zt(e.min,e.max,t.origin),t.scale=Kn(n)/Kn(e),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MI&&t.scale<=AI||isNaN(t.scale))&&(t.scale=1),(t.translate>=CI&&t.translate<=_I||isNaN(t.translate))&&(t.translate=0)}function Pc(t,e,n,r){CE(t.x,e.x,n.x,r?r.originX:void 0),CE(t.y,e.y,n.y,r?r.originY:void 0)}function _E(t,e,n){t.min=n.min+e.min,t.max=t.min+Kn(e)}function OI(t,e,n){_E(t.x,e.x,n.x),_E(t.y,e.y,n.y)}function RE(t,e,n){t.min=e.min-n.min,t.max=t.min+Kn(e)}function Bc(t,e,n){RE(t.x,e.x,n.x),RE(t.y,e.y,n.y)}function Ur(t){return[t("x"),t("y")]}const iM=({current:t})=>t?t.ownerDocument.defaultView:null,OE=(t,e)=>Math.abs(t-e);function DI(t,e){const n=OE(t.x,e.x),r=OE(t.y,e.y);return Math.sqrt(n**2+r**2)}class sM{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gg(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=DI(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:E}=x,{timestamp:S}=An;this.history.push({...E,timestamp:S});const{onStart:k,onMove:_}=this.handlers;y||(k&&k(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=mg(y,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=gg(x.type==="pointercancel"?this.lastMoveEventInfo:mg(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,k),E&&E(x,k)},!Xb(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=Mu(e),d=mg(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=An;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,gg(d,this.history)),this.removeListeners=Nu(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ia(this.updatePoint)}}function mg(t,e){return e?{point:e(t.point)}:t}function DE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gg({point:t},e){return{point:t,delta:DE(t,aM(e)),offset:DE(t,jI(e)),velocity:LI(e,.1)}}function jI(t){return t[0]}function aM(t){return t[t.length-1]}function LI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=aM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ci(e)));)n--;if(!r)return{x:0,y:0};const a=qr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function II(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zt(n,t,r.max):Math.min(t,n)),t}function jE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PI(t,{top:e,left:n,bottom:r,right:i}){return{x:jE(t.x,n,i),y:jE(t.y,e,r)}}function LE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function BI(t,e){return{x:LE(t.x,e.x),y:LE(t.y,e.y)}}function zI(t,e){let n=.5;const r=Kn(t),i=Kn(e);return i>r?n=tu(e.min,e.max-r,t.min):r>i&&(n=tu(t.min,t.max-i,e.min)),ls(0,1,n)}function UI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const L0=.35;function FI(t=L0){return t===!1?t=0:t===!0&&(t=L0),{x:IE(t,"left","right"),y:IE(t,"top","bottom")}}function IE(t,e,n){return{min:PE(t,e),max:PE(t,n)}}function PE(t,e){return typeof t=="number"?t:t[e]||0}const VI=new WeakMap;class HI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mu(g).point)},l=(g,x)=>{const{drag:y,dragPropagation:w,onDragStart:E}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=YL(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(k=>{let _=this.getAxisMotionValue(k).get()||0;if(_i.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const P=A.layout.layoutBox[k];P&&(_=Kn(P)*(parseFloat(_)/100))}}this.originPoint[k]=_}),E&&Pt.postRender(()=>E(g,x)),D0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:E,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=x;if(w&&this.currentDirection===null){this.currentDirection=$I(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",x.point,k),this.updateAxis("y",x.point,k),this.visualElement.render(),S&&S(g,x)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ur(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new sM(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:iM(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Pt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!$d(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=II(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=PI(r.layoutBox,e):this.constraints=!1,this.elastic=FI(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ur(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=UI(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=q3(r,i.root,this.visualElement.getTransformPagePoint());let l=BI(i.layout.layoutBox,a);if(n){const c=n(V3(l));this.hasMutatedConstraints=!!c,c&&(l=HT(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Ur(m=>{if(!$d(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const x=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:r?e[m]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return D0(this.visualElement,e),r.start(ax(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ur(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ur(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ur(n=>{const{drag:r}=this.getProps();if(!$d(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-zt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ur(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=zI({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ur(l=>{if(!$d(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(zt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;VI.set(this.visualElement,this);const e=this.visualElement.current,n=Ic(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Qo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pt.read(r);const l=au(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ur(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=L0,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function $d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $I(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qI extends ca{constructor(e){super(e),this.removeGroupControls=Kr,this.removeListeners=Kr,this.controls=new HI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BE=t=>(e,n)=>{t&&Pt.postRender(()=>t(e,n))};class GI extends ca{constructor(){super(...arguments),this.removePointerDownListener=Kr}onPointerDown(e){this.session=new sM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:BE(e),onStart:BE(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Pt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ec={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=zE(t,e.target.x),r=zE(t,e.target.y);return`${n}% ${r}%`}},KI={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=sa.parse(t);if(i.length>5)return r;const a=sa.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const f=zt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};let bg=!1;class YI extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;g3(WI),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),bg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,bg=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Pt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;bg=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oM(t){const[e,n]=CT(),r=T.useContext(Mb);return h.jsx(YI,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(FT),isPresent:e,safeToRemove:n})}const WI={borderRadius:{...Ec,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ec,borderTopRightRadius:Ec,borderBottomLeftRadius:Ec,borderBottomRightRadius:Ec,boxShadow:KI};function XI(t,e,n){const r=Bn(t)?t:ol(t);return r.start(ax("",r,e,n)),r.animation}const ZI=(t,e)=>t.depth-e.depth;class QI{constructor(){this.children=[],this.isDirty=!1}add(e){_b(this.children,e),this.isDirty=!0}remove(e){Rb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZI),this.isDirty=!1,this.children.forEach(e)}}function JI(t,e){const n=ar.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ia(r),t(a-e))};return Pt.setup(r,!0),()=>ia(r)}const lM=["TopLeft","TopRight","BottomLeft","BottomRight"],e4=lM.length,UE=t=>typeof t=="string"?parseFloat(t):t,FE=t=>typeof t=="number"||$e.test(t);function t4(t,e,n,r,i,a){i?(t.opacity=zt(0,n.opacity??1,n4(r)),t.opacityExit=zt(e.opacity??1,0,r4(r))):a&&(t.opacity=zt(e.opacity??1,n.opacity??1,r));for(let l=0;l<e4;l++){const c=`border${lM[l]}Radius`;let d=VE(e,c),f=VE(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||FE(d)===FE(f)?(t[c]=Math.max(zt(UE(d),UE(f),r),0),(_i.test(f)||_i.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,r))}function VE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const n4=cM(0,.5,Wk),r4=cM(.5,.95,Kr);function cM(t,e,n){return r=>r<t?0:r>e?1:n(tu(t,e,r))}function HE(t,e){t.min=e.min,t.max=e.max}function Br(t,e){HE(t.x,e.x),HE(t.y,e.y)}function $E(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qE(t,e,n,r,i){return t-=e,t=Lf(t,1/n,r),i!==void 0&&(t=Lf(t,1/i,r)),t}function i4(t,e=0,n=1,r=.5,i,a=t,l=t){if(_i.test(e)&&(e=parseFloat(e),e=zt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=zt(a.min,a.max,r);t===a&&(c-=e),t.min=qE(t.min,e,n,c,i),t.max=qE(t.max,e,n,c,i)}function GE(t,e,[n,r,i],a,l){i4(t,e[n],e[r],e[i],e.scale,a,l)}const s4=["x","scaleX","originX"],a4=["y","scaleY","originY"];function KE(t,e,n,r){GE(t.x,e,s4,n?n.x:void 0,r?r.x:void 0),GE(t.y,e,a4,n?n.y:void 0,r?r.y:void 0)}function YE(t){return t.translate===0&&t.scale===1}function uM(t){return YE(t.x)&&YE(t.y)}function WE(t,e){return t.min===e.min&&t.max===e.max}function o4(t,e){return WE(t.x,e.x)&&WE(t.y,e.y)}function XE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dM(t,e){return XE(t.x,e.x)&&XE(t.y,e.y)}function ZE(t){return Kn(t.x)/Kn(t.y)}function QE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class l4{constructor(){this.members=[]}add(e){_b(this.members,e),e.scheduleRender()}remove(e){if(Rb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c4(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:x,skewX:y,skewY:w}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),x&&(r+=`rotateY(${x}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const xg=["","X","Y","Z"],u4=1e3;let d4=0;function yg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fM(r)}function hM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=d4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p4),this.nodes.forEach(x4),this.nodes.forEach(y4),this.nodes.forEach(m4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new QI)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new jb),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=AT(l)&&!e3(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,g=0;const x=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{g=window.innerWidth}),t(l,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,m&&m(),m=JI(x,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(tS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||N4,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=f.getProps(),k=!this.targetLayout||!dM(this.targetLayout,y),_=!g&&x;if(this.options.layoutRoot||this.resumeFrom||_||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Kb(w,"layout"),onPlay:E,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(m,_)}else g||tS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(b4),this.nodes.forEach(f4),this.nodes.forEach(h4)):this.nodes.forEach(eS),this.clearAllSnapshots();const c=ar.now();An.delta=ls(0,1e3/60,c-An.timestamp),An.timestamp=c,An.isProcessing=!0,og.update.process(An),og.preRender.process(An),og.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g4),this.sharedNodes.forEach(w4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kn(this.snapshot.measuredBox.x)&&!Kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!uM(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ia(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),k4(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Zt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(T4))){const{scroll:f}=this.root;f&&(Jo(c.x,f.offset.x),Jo(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Zt();if(Br(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Br(c,l),Jo(c.x,m.offset.x),Jo(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const d=Zt();Br(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&el(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ia(m.latestValues)&&el(d,m.latestValues)}return Ia(this.latestValues)&&el(d,this.latestValues),d}removeTransform(l){const c=Zt();Br(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ia(f.latestValues))continue;C0(f.latestValues)&&f.updateSnapshot();const m=Zt(),g=f.measurePageBox();Br(m,g),KE(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ia(this.latestValues)&&KE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Bc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),qT(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Bc(this.relativeTargetOrigin,this.target,x.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||C0(this.parent.latestValues)||$T(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===An.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Br(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;$3(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Zt());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($E(this.prevProjectionDelta.x,this.projectionDelta.x),$E(this.prevProjectionDelta.y,this.projectionDelta.y)),Pc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tl(),this.projectionDelta=tl(),this.projectionDeltaWithTransform=tl()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Zt(),y=d?d.source:void 0,w=this.layout?this.layout.source:void 0,E=y!==w,S=this.getStack(),k=!S||S.members.length<=1,_=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(S4));this.animationProgress=0;let A;this.mixTargetDelta=P=>{const O=P/1e3;nS(g.x,l.x,O),nS(g.y,l.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E4(this.relativeTarget,this.relativeTargetOrigin,x,O),A&&o4(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Zt()),Br(A,this.relativeTarget)),E&&(this.animationValues=m,t4(m,f,this.latestValues,O,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=XI(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&pM(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Zt();const g=Kn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const x=Kn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Br(c,d),el(c,m),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new l4),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&yg("z",l,f,this.animationValues);for(let m=0;m<xg.length;m++)yg(`rotate${xg[m]}`,l,f,this.animationValues),yg(`skew${xg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=vf(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=vf(c?.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=c4(this.projectionDeltaWithTransform,this.treeScale,m);d&&(g=d(m,g)),l.transform=g;const{x,y}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in su){if(m[w]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:k}=su[w],_=g==="none"?m[w]:E(m[w],f);if(S){const A=S.length;for(let P=0;P<A;P++)l[S[P]]=_}else k?this.options.visualElement.renderState.vars[w]=_:l[w]=_}this.options.layoutId&&(l.pointerEvents=f===this?vf(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(JE),this.root.sharedNodes.clear()}}}function f4(t){t.updateLayout()}function h4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Ur(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=Kn(g);g.min=n[m].min,g.max=g.min+x}):pM(i,e.layoutBox,n)&&Ur(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=Kn(n[m]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const l=tl();Pc(l,n,e.layoutBox);const c=tl();a?Pc(c,t.applyTransform(r,!0),e.measuredBox):Pc(c,n,e.layoutBox);const d=!uM(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const y=Zt();Bc(y,e.layoutBox,g.layoutBox);const w=Zt();Bc(w,n,x.layoutBox),dM(y,w)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function p4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function m4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function g4(t){t.clearSnapshot()}function JE(t){t.clearMeasurements()}function eS(t){t.isLayoutDirty=!1}function b4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function x4(t){t.resolveTargetDelta()}function y4(t){t.calcProjection()}function v4(t){t.resetSkewAndRotation()}function w4(t){t.removeLeadSnapshot()}function nS(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rS(t,e,n,r){t.min=zt(e.min,n.min,r),t.max=zt(e.max,n.max,r)}function E4(t,e,n,r){rS(t.x,e.x,n.x,r),rS(t.y,e.y,n.y,r)}function S4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const N4={duration:.45,ease:[.4,0,.1,1]},iS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sS=iS("applewebkit/")&&!iS("chrome/")?Math.round:Kr;function aS(t){t.min=sS(t.min),t.max=sS(t.max)}function k4(t){aS(t.x),aS(t.y)}function pM(t,e,n){return t==="position"||t==="preserve-aspect"&&!RI(ZE(e),ZE(n),.2)}function T4(t){return t!==t.root&&t.scroll?.wasRoot}const M4=hM({attachResizeListener:(t,e)=>au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vg={current:void 0},mM=hM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vg.current){const t=new M4({});t.mount(window),t.setOptions({layoutScroll:!0}),vg.current=t}return vg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A4={pan:{Feature:GI},drag:{Feature:qI,ProjectionNode:mM,MeasureLayout:oM}};function oS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Pt.postRender(()=>a(e,Mu(e)))}class C4 extends ca{mount(){const{current:e}=this.node;e&&(this.unmount=WL(e,(n,r)=>(oS(this.node,r,"Start"),i=>oS(this.node,i,"End"))))}unmount(){}}class _4 extends ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Pt.postRender(()=>a(e,Mu(e)))}class R4 extends ca{mount(){const{current:e}=this.node;e&&(this.unmount=JL(e,(n,r)=>(lS(this.node,r,"Start"),(i,{success:a})=>lS(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const I0=new WeakMap,wg=new WeakMap,O4=t=>{const e=I0.get(t.target);e&&e(t)},D4=t=>{t.forEach(O4)};function j4({root:t,...e}){const n=t||document;wg.has(n)||wg.set(n,{});const r=wg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(D4,{root:t,...e})),r[i]}function L4(t,e,n){const r=j4(e);return I0.set(t,n),r.observe(t),()=>{I0.delete(t),r.unobserve(t)}}const I4={some:0,all:1};class P4 extends ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:I4[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),x=f?m:g;x&&x(d)};return L4(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B4(e,n))&&this.startObserver()}unmount(){}}function B4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const z4={inView:{Feature:P4},tap:{Feature:R4},focus:{Feature:_4},hover:{Feature:C4}},U4={layout:{ProjectionNode:mM,MeasureLayout:oM}},F4={...kI,...z4,...A4,...U4},Rn=F3(F4,eI),gM={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:{duration:.35}}},qd={hidden:{},show:{transition:{staggerChildren:.06}}},bM={whileHover:{y:-2,scale:1.01}},If={blue:{card:"border-blue-200 bg-blue-50/60 dark:bg-blue-900/20 dark:border-blue-800/30",icon:"bg-blue-100 dark:bg-blue-900/50",bar:"bg-blue-500",stroke:"text-blue-500"},indigo:{card:"border-indigo-200 bg-indigo-50/60 dark:bg-indigo-900/20 dark:border-indigo-800/30",icon:"bg-indigo-100 dark:bg-indigo-900/50",bar:"bg-indigo-500",stroke:"text-indigo-500"},green:{card:"border-green-200 bg-green-50/60 dark:bg-green-900/20 dark:border-green-800/30",icon:"bg-green-100 dark:bg-green-900/50",bar:"bg-green-500",stroke:"text-green-500"},purple:{card:"border-purple-200 bg-purple-50/60 dark:bg-purple-900/20 dark:border-purple-800/30",icon:"bg-purple-100 dark:bg-purple-900/50",bar:"bg-purple-500",stroke:"text-purple-500"},yellow:{card:"border-yellow-200 bg-yellow-50/60 dark:bg-yellow-900/20 dark:border-yellow-800/30",icon:"bg-yellow-100 dark:bg-yellow-900/50",bar:"bg-yellow-500",stroke:"text-yellow-500"},pink:{card:"border-pink-200 bg-pink-50/60 dark:bg-pink-900/20 dark:border-pink-800/30",icon:"bg-pink-100 dark:bg-pink-900/50",bar:"bg-pink-500",stroke:"text-pink-500"},teal:{card:"border-teal-200 bg-teal-50/60 dark:bg-teal-900/20 dark:border-teal-800/30",icon:"bg-teal-100 dark:bg-teal-900/50",bar:"bg-teal-500",stroke:"text-teal-500"},gray:{card:"border-neutral-200 bg-neutral-50/60 dark:bg-neutral-900/30 dark:border-neutral-700",icon:"bg-neutral-100 dark:bg-neutral-800",bar:"bg-neutral-500",stroke:"text-neutral-500"}},ja=({icon:t,label:e,value:n,sub:r,color:i="gray"})=>{const a=If[i]??If.gray;return h.jsx(Rn.div,{variants:gM,...bM,className:["flex flex-col rounded-xl p-4 border",a.card,"min-w-0"].join(" "),role:"region","aria-label":e,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${a.icon}`,"aria-hidden":!0,children:h.jsx("span",{className:"text-lg",children:t})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-xs font-medium tracking-wide uppercase text-neutral-500 dark:text-neutral-400",children:e}),h.jsx("div",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:n}),r&&h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:r})]})]})})},Gd=({title:t,description:e,action:n,children:r})=>h.jsxs(Rn.section,{variants:gM,...bM,className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-4 md:p-5",role:"region","aria-labelledby":`${t.replace(/\s+/g,"-").toLowerCase()}-title`,children:[h.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("h3",{id:`${t.replace(/\s+/g,"-").toLowerCase()}-title`,className:"text-sm font-semibold tracking-wide uppercase text-neutral-600 dark:text-neutral-300",children:t}),e&&h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:e})]}),n]}),r]}),Kd=({title:t,subtitle:e,right:n,avatar:r})=>h.jsxs("li",{className:"flex items-center justify-between gap-3 py-2",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-200 dark:bg-neutral-800 overflow-hidden flex-shrink-0"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-sm text-neutral-900 dark:text-neutral-100 truncate",children:t}),e&&h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:e})]})]}),n&&h.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:n})]}),V4=({data:t,color:e="blue"})=>{const n=If[e]??If.blue;return h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"flex items-end justify-between h-24 gap-1",children:t.map((r,i)=>h.jsx(Rn.div,{initial:{height:0},animate:{height:`${r.height}%`},transition:{delay:i*.05,duration:.4},className:`w-3 rounded ${n.bar}`},r.label+i))}),h.jsx("div",{className:"flex justify-between text-[10px] text-neutral-500 dark:text-neutral-400",children:t.map((r,i)=>h.jsx("span",{children:r.label},r.label+i))})]})},H4=({data:t,color:e="neutral"})=>h.jsx("div",{className:"relative h-24",children:h.jsx("svg",{viewBox:"0 0 200 24",className:"w-full h-full",children:h.jsx("polyline",{points:t.map((n,r)=>`${r*(200/(t.length-1))}, ${24-n*20}`).join(" "),fill:"none",stroke:"currentColor",strokeWidth:"2",className:e==="neutral"?"text-neutral-900 dark:text-neutral-100":"text-blue-500"})})}),cS=({value:t=48,max:e=74})=>{const n=Math.round(t/e*100);return h.jsxs("div",{className:"relative w-28 h-28 mx-auto",children:[h.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36","aria-label":`${n}%`,children:[h.jsx("path",{className:"text-neutral-200 dark:text-neutral-700",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),h.jsx("path",{className:"text-blue-500",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${n}, 100`})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("span",{className:"text-base font-semibold text-neutral-900 dark:text-neutral-100",children:[n,"%"]})})]})},uS=[{name:"Li Ping Shen",email:"lisasweethome@yahoo.com",addedAt:"2025-10-30"},{name:"Rebecca P Y Chen",email:"chen.rebecca@gmail.com",addedAt:"2025-10-28"},{name:"Andre Yu Chi Au-Yeung",email:"andreauyeung@jovirealty.com",addedAt:"2025-10-02"}],dS=[{address:"1, asd123",type:"Residential",price:123,offMarket:!0,date:"2025-10-26"},{address:"Vancouver",type:"Land",price:21312,offMarket:!1,date:"2025-10-22"},{address:"Vancouver",type:"Residential",price:213,offMarket:!0,date:"2025-10-19"},{address:"Vancouver",type:"Residential Lease",price:123,offMarket:!1,date:"2025-10-18"}],$4=[{title:"Sample Blog Title 1",kind:"Blog",status:"Draft",date:"2025-10-25"},{title:"Sample News Title 2",kind:"News",status:"Published",date:"2025-10-23"},{title:"Sample Podcast Title 4",kind:"Podcast",status:"Published",date:"2025-10-19"},{title:"Sample Ebook Title 3",kind:"Ebook",status:"Draft",date:"2025-10-21"}],Yd=[{name:"John Appleseed",subject:"Request showing  Vancouver",status:"In progress",date:"2025-10-26"},{name:"Maria Gomez",subject:"Financing question",status:"Completed",date:"2025-10-24"},{name:"Chen Wei",subject:"Schedule call",status:"In progress",date:"2025-10-23"},{name:"Alex Kim",subject:"Property details",status:"New",date:"2025-10-22"}];function q4(){const[t,e]=T.useState("March 2025"),[n,r]=T.useState("2025"),i=T.useMemo(()=>({total:4,recentlyAdded:uS.length}),[]),a=T.useMemo(()=>{const m=dS.filter(x=>x.offMarket).length,g=dS.toSorted((x,y)=>x.date<y.date?1:-1).slice(0,3);return{total:7,offMarket:m,recent:g}},[]),l=T.useMemo(()=>({total:45,recent:$4.toSorted((g,x)=>g.date<x.date?1:-1).slice(0,3)}),[]),c=T.useMemo(()=>{const f=Yd.length,m=Yd.filter(y=>y.status==="Completed").length,g=Yd.filter(y=>y.status==="In progress").length,x=Yd.toSorted((y,w)=>y.date<w.date?1:-1).slice(0,3);return{total:f,completed:m,inProgress:g,recent:x}},[]),d=[{height:40,label:"16/10"},{height:80,label:"17/10"},{height:100,label:"18/10"},{height:60,label:"19/10"},{height:90,label:"20/10"},{height:70,label:"21/10"},{height:50,label:"22/10"}];return h.jsxs("section",{className:"p-4 md:p-6 space-y-6",children:[h.jsxs(Rn.div,{variants:qd,initial:"hidden",animate:"show",className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-8 gap-3",children:[h.jsx(ja,{icon:"",label:"Agents",value:"25",sub:"+3 agents",color:"indigo"}),h.jsx(ja,{icon:"",label:"Properties",value:"150",sub:"All listings",color:"blue"}),h.jsx(ja,{icon:"",label:"OffMarket",value:a.offMarket,sub:"Total offmarket",color:"teal"}),h.jsx(ja,{icon:"",label:"Resources",value:l.total,sub:"All content",color:"yellow"}),h.jsx(ja,{icon:"",label:"Inquiries",value:c.total,sub:"Mock",color:"green"}),h.jsx(ja,{icon:"",label:"Matrix Users",value:"100",sub:"Active",color:"pink"}),h.jsx(ja,{icon:"",label:"Matrix Rooms",value:"20",sub:"Bookings",color:"purple"})]}),h.jsxs(Rn.div,{variants:qd,initial:"hidden",animate:"show",className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[h.jsxs(Gd,{title:"Administrators",description:"Total agents and recently added.",action:h.jsx("a",{href:"/admin/administrators",className:"text-sm px-3 py-1.5 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100",children:"Manage"}),children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Total Agents"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:"25"}),h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"+3 this month"})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Recently Added"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:i.recentlyAdded}),h.jsx("a",{href:"/admin/administrators/create",className:"inline-block mt-2 text-xs font-medium text-blue-600 hover:underline",children:"Create Agent"})]})]}),h.jsx("ul",{className:"mt-3 divide-y divide-neutral-200 dark:divide-neutral-800",children:uS.map(f=>h.jsx(Kd,{title:f.name,subtitle:f.email,right:f.addedAt},f.email))})]}),h.jsxs(Gd,{title:"Property",description:"Totals and latest listings.",action:h.jsx("a",{href:"/admin/property",className:"text-sm px-3 py-1.5 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100",children:"View All"}),children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Total Listings"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:a.total})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"OffMarket"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:a.offMarket})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Create Listing"}),h.jsx("a",{href:"/admin/property/create",className:"inline-block mt-2 text-xs font-medium text-blue-600 hover:underline",children:"Add Property"})]})]}),h.jsx("ul",{className:"mt-3 divide-y divide-neutral-200 dark:divide-neutral-800",children:a.recent.map(f=>h.jsx(Kd,{title:f.address,subtitle:`${f.type}  $${f.price.toLocaleString()}`,right:f.date},`${f.address}-${f.date}`))})]}),h.jsxs(Gd,{title:"Resources",description:"Published & draft content.",action:h.jsx("a",{href:"/admin/resources",className:"text-sm px-3 py-1.5 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100",children:"Browse"}),children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Total"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:l.total})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Create"}),h.jsx("a",{href:"/admin/resources/create",className:"inline-block mt-2 text-xs font-medium text-blue-600 hover:underline",children:"New Resource"})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Published"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:""}),h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Hook to API later"})]})]}),h.jsx("ul",{className:"mt-3 divide-y divide-neutral-200 dark:divide-neutral-800",children:l.recent.map(f=>h.jsx(Kd,{title:f.title,subtitle:`${f.kind}  ${f.status}`,right:f.date},`${f.title}-${f.date}`))})]}),h.jsxs(Gd,{title:"Inquiry",description:"Snapshot from mock data.",action:h.jsx("a",{href:"/admin/inquiry",className:"text-sm px-3 py-1.5 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-100",children:"View Inquiries"}),children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Total"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:c.total})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"Completed"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:c.completed})]}),h.jsxs("div",{className:"rounded-lg bg-neutral-50 dark:bg-neutral-950/40 border border-neutral-200 dark:border-neutral-800 p-3",children:[h.jsx("p",{className:"text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400",children:"In Progress"}),h.jsx("p",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100 mt-1",children:c.inProgress})]})]}),h.jsx("ul",{className:"mt-3 divide-y divide-neutral-200 dark:divide-neutral-800",children:c.recent.map(f=>h.jsx(Kd,{title:f.subject,subtitle:f.name,right:f.status},`${f.name}-${f.date}`))})]})]}),h.jsxs(Rn.div,{variants:qd,initial:"hidden",animate:"show",className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[h.jsxs("section",{className:"xl:col-span-2 bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-neutral-600 dark:text-neutral-300",children:"Revenue Updates"}),h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Overview of Profit"})]}),h.jsxs("select",{value:t,onChange:f=>e(f.target.value),className:"text-sm border border-neutral-300 rounded px-2 py-1 dark:bg-neutral-800 dark:border-neutral-600",children:[h.jsx("option",{children:"March 2025"}),h.jsx("option",{children:"April 2025"})]})]}),h.jsx(V4,{data:d,color:"blue"}),h.jsx("a",{href:"/admin/reports",className:"inline-block mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"View Full Report"})]}),h.jsxs("section",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-5",children:[h.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-neutral-600 dark:text-neutral-300 mb-3",children:"Total Earnings"}),h.jsxs("div",{className:"space-y-2 mb-3",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Earnings this month"}),h.jsx("span",{className:"font-semibold",children:"$48,820"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Expense this month"}),h.jsx("span",{className:"font-semibold",children:"$26,498"})]})]}),h.jsx(cS,{value:48,max:74})]})]}),h.jsxs(Rn.div,{variants:qd,initial:"hidden",animate:"show",className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[h.jsxs("section",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-neutral-600 dark:text-neutral-300",children:"Yearly Breakup"}),h.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"text-sm border border-neutral-300 rounded px-2 py-1 dark:bg-neutral-800 dark:border-neutral-600",children:[h.jsx("option",{children:"2025"}),h.jsx("option",{children:"2024"})]})]}),h.jsx("div",{className:"text-3xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"$34,658"}),h.jsx(cS,{value:65,max:100}),h.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[h.jsx("span",{children:"Earnings"}),h.jsx("span",{children:"Expenses"})]})]}),h.jsxs("section",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"text-sm font-semibold tracking-wide uppercase text-neutral-600 dark:text-neutral-300",children:"Monthly Earnings"}),h.jsx("button",{className:"text-sm text-blue-500",children:"$"})]}),h.jsx("div",{className:"text-3xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"$6,820"}),h.jsx(H4,{data:[.2,.5,.8,.6,.9,.7]}),h.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-2",children:"9% last year"})]})]})]})}function ou({label:t="Loading"}){return h.jsx("div",{className:"flex items-center justify-center py-14",children:h.jsxs("div",{className:"flex items-center gap-3 text-neutral-600 dark:text-neutral-300",children:[h.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-neutral-300 border-t-blue-600 dark:border-neutral-700 dark:border-t-blue-500"}),h.jsx("span",{className:"text-sm",children:t})]})})}function G4(){const[t,e]=T.useState(!1),[n,r]=T.useState(null),[i,a]=T.useState([]),l=T.useCallback(async()=>{e(!0);try{const c=localStorage.getItem("accessToken"),f=await fetch("https://api.jovirealty.com/v1/auth/staff/property-listings",{method:"GET",headers:{Authorization:`Bearer ${c}`}}),m=await f.json().catch(()=>({}));if(!f.ok)throw new Error(m?.message||"Failed to fetch properties.");return a(Array.isArray(m?.data)?m.data:[]),m}catch(c){throw r(c?.message||"Something went wrong while fetching properties."),c}finally{e(!1)}},[]);return{loading:t,error:n,data:i,fetchList:l}}function K4(t,e="CAD"){try{return new Intl.NumberFormat("en-CA",{style:"currency",currency:e,maximumFractionDigits:0}).format(t||0)}catch{return`${e} ${Number(t||0).toLocaleString()}`}}const Y4=(t="")=>t.length>18?t.slice(0,18)+"":t;function W4({onShow:t,onEdit:e,onClose:n}){const r=T.useRef(null);return T.useEffect(()=>{const i=a=>{r.current&&!r.current.contains(a.target)&&n?.()};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[n]),h.jsxs("div",{ref:r,className:"absolute right-3 top-8 z-20 w-44 overflow-hidden rounded-xl border border-neutral-200 bg-white shadow-lg dark:border-neutral-700 dark:bg-neutral-900",children:[h.jsxs("button",{onClick:t,className:"flex w-full items-center gap-3 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800/60",children:[h.jsxs("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),h.jsx("path",{d:"M7 9h10M7 13h6"})]}),"Show"]}),h.jsxs("button",{onClick:e,className:"flex w-full items-center gap-3 px-3 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-800/60",children:[h.jsxs("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5l4 4L7 21l-4 1 1-4 12.5-14.5z"})]}),"Edit"]})]})}function X4(){const t=Jt(),[e,n]=Su(),r=Number(e.get("page")||1),[i,a]=T.useState(r),[l,c]=T.useState(""),[d,f]=T.useState(null),{loading:m,data:g,fetchList:x}=G4();T.useEffect(()=>{x()},[x]);const y=T.useMemo(()=>{const A=l.trim().toLowerCase();return A?g.filter(P=>(P.propertyAddress||"").toLowerCase().includes(A)||(P.agentName||"").toLowerCase().includes(A)||(P.propertyType||"").toLowerCase().includes(A)):g},[g,l]),w=6,E=Math.max(1,Math.ceil(y.length/w)),S=T.useMemo(()=>y.slice((i-1)*w,(i-1)*w+w),[y,i]);T.useMemo(()=>{const A=new URLSearchParams(e);A.set("page",String(i)),n(A,{replace:!0})},[i]);const k=A=>t(`/admin/property/property-detail/${A}`),_=A=>t(`/admin/property/${A}/edit`);return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4 text-sm text-neutral-500 dark:text-neutral-400",children:[h.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"hover:underline",children:"Dashboard"})," /",h.jsx("span",{className:"ml-1 text-neutral-700 dark:text-neutral-200",children:"Property"})]}),h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-neutral-900 dark:text-neutral-100",children:"Properties"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-neutral-300 px-3 py-2 text-sm font-medium text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:text-neutral-200 dark:hover:bg-neutral-800/60",onClick:()=>alert("Filters coming soon"),children:[h.jsx("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M3 5h18M6 12h12M10 19h4"})}),"Filter"]}),h.jsxs(Ot,{to:"/admin/property/add-property",className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 dark:bg-blue-500 dark:hover:bg-blue-400",children:[h.jsx("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"currentColor",children:h.jsx("path",{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"})}),"Add Property"]})]})]}),h.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[h.jsx("span",{className:"inline-flex h-6 min-w-6 items-center justify-center rounded-full bg-neutral-100 px-2 font-medium text-neutral-700 dark:bg-neutral-800 dark:text-neutral-300",children:y.length})," total"]}),h.jsx("div",{className:"flex w-full gap-2 sm:w-96",children:h.jsx("input",{placeholder:"Search by address, MLS, agent",value:l,onChange:A=>{c(A.target.value),a(1)},className:"w-full rounded-lg border border-neutral-300 px-3 py-2 text-sm outline-none placeholder:text-neutral-400 focus:border-indigo-500 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder:text-neutral-500"})})]}),h.jsx("div",{className:"overflow-hidden rounded-xl border border-neutral-200 bg-white dark:border-neutral-800 dark:bg-neutral-900",children:m?h.jsx(ou,{label:"Loading properties"}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full whitespace-nowrap text-left",children:[h.jsx("thead",{className:"bg-neutral-50 text-xs uppercase text-neutral-500 dark:bg-neutral-900/60 dark:text-neutral-400",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 font-medium",children:"Property Address"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Agent"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Province"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Listing Price"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Type"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Bedrooms"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Square Footage"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"License"}),h.jsx("th",{className:"w-10 px-4 py-3"})]})}),h.jsxs("tbody",{className:"divide-y divide-neutral-100 text-sm dark:divide-neutral-800",children:[S.map(A=>h.jsxs("tr",{className:"hover:bg-neutral-50/60 dark:hover:bg-neutral-800/50",children:[h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[A.propertyMedia?.mediaURL?h.jsx("img",{src:A.propertyMedia.mediaURL,alt:"",className:"size-10 rounded-lg object-cover"}):h.jsx("div",{className:"size-10 rounded-lg bg-neutral-200 dark:bg-neutral-700"}),h.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:Y4(A.propertyAddress||"")})]})}),h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[A.agentImage?h.jsx("img",{src:A.agentImage,alt:A.agentName,className:"size-6 rounded-full object-cover"}):h.jsx("div",{className:"size-6 rounded-full bg-neutral-300 dark:bg-neutral-700"}),h.jsx("span",{className:"text-neutral-800 dark:text-neutral-200",children:A.agentName||""})]})}),h.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:A.stateProvince||""}),h.jsx("td",{className:"px-4 py-3 font-medium text-neutral-900 dark:text-neutral-100",children:K4(A.listPrice,A.currency)}),h.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:A.propertyType||""}),h.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:A.bedrooms??""}),h.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:""}),h.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:A.licenseNumber||""}),h.jsxs("td",{className:"relative px-4 py-3",children:[h.jsx("button",{className:"rounded p-1 hover:bg-neutral-100 dark:hover:bg-neutral-800/60",onClick:()=>f(P=>P===A._id?null:A._id),"aria-label":"Row actions",children:h.jsxs("svg",{viewBox:"0 0 20 20",className:"size-5 text-neutral-500",children:[h.jsx("circle",{cx:"3",cy:"10",r:"2"}),h.jsx("circle",{cx:"10",cy:"10",r:"2"}),h.jsx("circle",{cx:"17",cy:"10",r:"2"})]})}),d===A._id&&h.jsx(W4,{onShow:()=>{f(null),k(A._id)},onEdit:()=>{f(null),_(A._id)},onClose:()=>f(null)})]})]},A._id)),S.length===0&&!m&&h.jsx("tr",{children:h.jsx("td",{colSpan:10,className:"px-4 py-10 text-center text-neutral-500 dark:text-neutral-400",children:"No properties found."})})]})]})}),h.jsxs("div",{className:"flex items-center justify-between border-t border-neutral-200 px-4 py-3 text-sm dark:border-neutral-800",children:[h.jsxs("div",{className:"text-neutral-600 dark:text-neutral-300",children:["Page ",h.jsx("span",{className:"font-medium",children:i})," of ",h.jsx("span",{className:"font-medium",children:E})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"rounded-lg border border-neutral-300 px-3 py-1.5 disabled:opacity-40 dark:border-neutral-700 dark:text-neutral-200",onClick:()=>a(A=>Math.max(1,A-1)),disabled:i<=1,children:"Previous"}),h.jsx("button",{className:"rounded-lg border border-neutral-300 px-3 py-1.5 disabled:opacity-40 dark:border-neutral-700 dark:text-neutral-200",onClick:()=>a(A=>Math.min(E,A+1)),disabled:i>=E,children:"Next"})]})]})]})})]})}function Er({items:t=[],className:e=""}){return h.jsx("nav",{"aria-label":"Breadcrumb",className:`text-sm ${e}`,children:h.jsx("ol",{className:"flex flex-wrap items-center gap-1 text-neutral-500 dark:text-neutral-400",children:t.map((n,r)=>{const i=r===t.length-1;return h.jsx("li",{className:"inline-flex items-center gap-1",children:i?h.jsx("span",{className:"text-neutral-700 dark:text-neutral-200",children:n.label}):h.jsxs(h.Fragment,{children:[h.jsx(Ot,{to:n.to,className:"hover:underline",children:n.label}),h.jsx("span",{className:"px-1 text-neutral-400",children:"/"})]})},r)})})})}function ci({title:t,subtitle:e,children:n}){return h.jsx("section",{className:"mb-6",children:h.jsxs("div",{className:"overflow-hidden rounded-xl border border-neutral-200 bg-white dark:border-neutral-800 dark:bg-neutral-900",children:[h.jsxs("div",{className:"border-b border-neutral-100 px-4 py-3 dark:border-neutral-800",children:[h.jsx("h2",{className:"text-base font-semibold text-neutral-900 dark:text-neutral-100",children:t}),e&&h.jsx("p",{className:"mt-1 text-sm text-neutral-500 dark:text-neutral-400",children:e})]}),h.jsx("div",{className:"p-4",children:n})]})})}const Z4="w-full rounded-lg border border-neutral-300 bg-white px-3.5 py-2.5 text-sm text-neutral-900 placeholder:text-neutral-400 outline-none focus:border-neutral-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder:text-neutral-500";function Q4({onAgentFound:t,fetchAgent:e,isLoading:n,error:r,clearError:i}){const[a,l]=T.useState(""),[c,d]=T.useState(!1),[f,m]=T.useState(""),[g,x]=T.useState(null),y=T.useRef(null);T.useEffect(()=>{y.current?.focus()},[]);const w=c||n,E=f||r,S=async()=>{if(!(!a.trim()||w)){d(!0),m(""),i?.(),x(null);try{const A=await e(a);A?x(A):m("No agent found for that email / name.")}catch(A){console.error("AgentGate lookup error:",A),m("Lookup failed. Please try again.")}finally{d(!1)}}},k=()=>{g&&t(g)},_=A=>{A.key==="Enter"&&(A.preventDefault(),S())};return h.jsxs("div",{className:"overflow-hidden rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[h.jsx("div",{className:"mb-2 text-base font-semibold text-neutral-900 dark:text-neutral-100",children:"Enter Agent Name"}),h.jsxs("p",{className:"mb-3 text-sm text-neutral-500 dark:text-neutral-400",children:["Enter an ",h.jsx("b",{children:"email"})," or ",h.jsx("b",{children:"name"}),". Well verify the agent exists before adding a property under their profile."]}),h.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[h.jsx("input",{ref:y,className:Z4,placeholder:"e.g. rebecca.chen@brokerage.com or 'Rebecca Chen'",value:a,onChange:A=>l(A.target.value),onKeyDown:_,"aria-label":"Agent email or name"}),h.jsx("button",{type:"button",onClick:S,disabled:!a.trim()||w,className:"cursor-pointer shrink-0 rounded-lg bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 active:bg-black disabled:cursor-not-allowed disabled:opacity-60 dark:bg-neutral-800 dark:hover:bg-neutral-700","aria-busy":w,children:w?"Checking":"Find agent"})]}),E&&h.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:E}),g&&h.jsxs("div",{className:"mt-4 flex items-start justify-between gap-3 rounded-xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-700 dark:bg-neutral-800",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"mt-0.5 inline-flex h-6 w-6 items-center justify-center rounded-full bg-green-500/10","aria-hidden":"true",children:h.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})})}),h.jsxs("div",{className:"text-sm",children:[h.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:g.name}),h.jsx("div",{className:"text-neutral-600 dark:text-neutral-300",children:g.email})]})]}),h.jsxs("button",{type:"button",onClick:k,className:"cursor-pointer inline-flex items-center gap-1.5 rounded-lg bg-blue-600 px-3.5 py-2 text-sm font-semibold text-white hover:bg-blue-500 active:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-400","aria-label":"Continue to listing form",children:["Continue",h.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),h.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})}function J4({mode:t,setMode:e}){const n="w-full sm:w-auto rounded-lg px-4 py-2 text-sm font-medium border transition",r="bg-blue-600 text-white border-blue-600 dark:bg-blue-500 dark:border-blue-500",i="bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700 dark:hover:bg-neutral-800/60";return h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:`${n} ${t==="sale"?r:i}`,onClick:()=>e("sale"),children:"For Sale"}),h.jsx("button",{type:"button",className:`${n} ${t==="rent"?r:i}`,onClick:()=>e("rent"),children:"For Rent"})]})}const xM=["image/jpeg","image/jpg","image/png"],yM=["video/mp4","video/quicktime"],eP=[...xM,...yM].join(","),tP=1*1024*1024,Sc=40;function nP({value:t=[],onChange:e,subtypeForResource:n}){const r=T.useId(),i=T.useRef(null),[a,l]=T.useState([]),c=f=>{const m=[],g=[];if(Array.from(f).forEach(y=>{const w=(y.type||"").toLowerCase(),E=xM.includes(w),S=yM.includes(w);if(!E&&!S){m.push(`${y.name}: unsupported type`);return}if(E&&y.size>tP){m.push(`${y.name}: images must be  1MB`);return}const k=URL.createObjectURL(y);g.push({id:crypto.randomUUID(),file:y,previewURL:k,mediaKey:crypto.randomUUID(),mediaCategory:E?"Photo":"Video",mediaURL:"",mediaObjectID:"",mimeType:w,order:(t?.length||0)+g.length-1,mediaSize:y.size,resourceName:n||"",shortDescription:""})}),(t?.length||0)+g.length>Sc){const y=Sc-(t?.length||0);g.splice(y),m.push(`Max ${Sc} media files allowed.`)}l(m),g.length&&e([...t||[],...g])},d=f=>{const m=t?.find(g=>g.id===f)?.previewURL;m&&URL.revokeObjectURL(m),e(t.filter(g=>g.id!==f).map((g,x)=>({...g,order:x})))};return h.jsxs("div",{className:"flex flex-col gap-3",children:[a.length>0&&h.jsx("div",{className:"rounded-lg border border-red-300 bg-red-50 px-3 py-2 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-950/30 dark:text-red-300",children:h.jsx("ul",{className:"list-disc pl-5 space-y-0.5",children:a.map((f,m)=>h.jsx("li",{children:f},m))})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{type:"button",onClick:()=>i.current?.click(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 dark:bg-blue-500 dark:hover:bg-blue-400",children:"Choose Files"}),h.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["JPEG/JPG/PNG  1MB, or MP4/MOV (Max ",Sc,")"]}),h.jsx("input",{id:r,ref:i,type:"file",accept:eP,multiple:!0,className:"sr-only",onChange:f=>c(f.target.files)})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded-xl border-2 border-dashed border-neutral-300 bg-neutral-50 px-4 py-10 text-center hover:bg-neutral-100 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800",onDragOver:f=>f.preventDefault(),onDrop:f=>{f.preventDefault(),f.dataTransfer?.files?.length&&c(f.dataTransfer.files)},children:[h.jsxs("svg",{viewBox:"0 0 24 24",className:"h-8 w-8 text-neutral-500 dark:text-neutral-400",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M3 17V7a2 2 0 0 1 2-2h7"}),h.jsx("path",{d:"M7 17h10a2 2 0 0 0 2-2V7"}),h.jsx("path",{d:"M21 15l-3-3-4 4-3-3-4 4"})]}),h.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Drag & drop media here"})]}),h.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[t?.length||0," / ",Sc," files"]}),t?.length>0&&h.jsx("ul",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8",children:t.map(f=>h.jsxs("li",{className:"group relative overflow-hidden rounded-md border border-neutral-200 dark:border-neutral-700",children:[f.mimeType.startsWith("image/")?h.jsx("img",{src:f.previewURL,alt:"",className:"h-24 w-full object-cover"}):h.jsx("video",{src:f.previewURL,className:"h-24 w-full object-cover"}),h.jsx("span",{className:"absolute left-1 top-1 rounded bg-black/55 px-1.5 py-0.5 text-[10px] font-medium uppercase tracking-wide text-white",children:f.mediaCategory}),h.jsx("button",{type:"button",onClick:()=>d(f.id),className:"absolute right-1 top-1 rounded bg-black/60 px-2 py-0.5 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100",children:""})]},f.id))})]})}function rP(){const[t,e]=T.useState(!1),[n,r]=T.useState(null),[i,a]=T.useState(null);return{createListing:T.useCallback(async({agent:c,mode:d,form:f,media:m})=>{e(!0),r(null),a(null);try{const g=localStorage.getItem("accessToken"),x={propertyFor:d,status:f.status,type:f.type,subtype:f.subtype,description:f.description,listingDate:f.listingDate||new Date().toISOString().slice(0,10),yearBuilt:f.yearBuilt??void 0,currency:f.currency||"CAD",listPrice:d==="sale"?Number(f.listPrice||0):void 0,rentPrice:d==="rent"?Number(f.rentPrice||0):void 0,unitNumber:f.unitNumber||"",streetNumber:f.streetNumber||"",streetName:f.streetName||"",streetSuffix:f.streetSuffix||"",stateProvince:f.stateProvince,city:f.city,postalCode:f.postalCode||"",latitude:f.latitude||"",longitude:f.longitude||"",subdivision:f.subdivision||"",bedrooms:Number(f.bedrooms??0),totalBath:Number(f.totalBath??0),halfBath:Number(f.halfBath??0),livingArea:Number(f.livingArea??0),floorArea:Number(f.floorArea??0),interiorFeatures:f.interiorFeatures||"",heatingSystem:f.heatingSystem||"",totalFireplace:Number(f.totalFireplace??0),fireplaceFeature:f.fireplaceFeature||"",laundryFeature:f.laundryFeature||"",appliances:f.appliances||"",parking:f.parking||"",lotAcre:Number(f.lotAcre??0),lotSqft:Number(f.lotSqft??0),lotDimensions:f.lotDimensions||"",lotFeatures:f.lotFeatures||"",openParking:Number(f.openParking??0),totalParking:Number(f.totalParking??0),parkingFeatures:f.parkingFeatures||"",hasView:f.hasView==="Yes"?!0:f.hasView==="No"?!1:void 0,viewDescription:f.viewDescription||"",exteriorFeatures:f.exteriorFeatures||"",strata:Number(f.strata??0),amenities:f.amenities||"",petPolicy:f.petPolicy||"",taxYear:Number(f.taxYear??0),annualTaxAmount:Number(f.annualTaxAmount??0),pricePerSqft:Number(f.pricePerSqft??0)},y={userId:String(c?.staffId),agentListId:c?.id,agentDetail:{fullName:c?.name,email:c?.email},propertyDetails:x},w=new FormData;w.append("payload",JSON.stringify(y)),(m||[]).slice(0,40).forEach(A=>{const P=A?.file||A?.blob||(A instanceof File?A:null);P&&w.append("media",P,P.name||"upload")});const k=await fetch("https://api.jovirealty.com/v1/auth/staff/create-property-listing",{method:"POST",headers:{Authorization:`Bearer ${g}`},body:w}),_=await k.json().catch(()=>({}));if(!k.ok)throw new Error(_?.message||"Failed to create listing.");return a(_?.data||_),_}catch(g){throw r(g?.message||"Something went wrong."),g}finally{e(!1)}},[]),loading:t,error:n,setError:r,data:i}}const iP="https://api.jovirealty.com/v1";function sP(){const t=localStorage.getItem("accessToken"),[e,n]=T.useState(!1),[r,i]=T.useState(null);return{lookupStaff:T.useCallback(async l=>{n(!0),i(null);try{const c=`${iP}/auth/staff/staff-property-lookup?q=${encodeURIComponent(l)}`,d=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"});if(d.status===404)return i("[hook] - No agent found for that email / name."),{found:!1,agent:null};if(!d.ok){const m=await d.json().catch(()=>({}));throw new Error(m?.error||"Lookup failed")}return await d.json()}catch(c){return console.log("it failed in usedStaffPropertyLookup:",c),i("Lookup failed. Please try again."),{found:!1,agent:null}}finally{n(!1)}},[t]),loading:e,error:r,setError:i}}const aP=["Forced Air","Baseboard","Heat Pump","Radiant","Hot Water","Other"],oP=["Garage","Carport","Street","Assigned","Underground","RV / Boat"],lP=["City","Mountain","Ocean","Park","Courtyard","None"],cP=["Residential","Land","Residential Income","Residential Lease"],uP=["Residential Lease","Residential"],vM=["Single Family Residence","Apartment/Condo","Townhouse","Duplex","Half Duplex","Manufactured Home","Manufactured On Land","Other","Recreational","Quadruplex"],ox="w-full rounded-lg border bg-white px-3.5 py-2.5 text-sm text-neutral-900 placeholder:text-neutral-400 outline-none border-neutral-300 focus:border-indigo-500 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder:text-neutral-500",Gr=ox,wM=`${ox} min-h-28`,Ie=(t,e,n=ox)=>`${n} ${e[t]?"border-red-500 focus:border-red-500 ring-1 ring-red-500/20":""}`,fS=()=>new Date().toISOString().slice(0,10),Pe=({label:t,required:e,hint:n,error:r,children:i})=>h.jsxs("label",{className:"block",children:[h.jsxs("div",{className:"mb-1.5 text-sm font-medium text-neutral-800 dark:text-neutral-200",children:[t," ",e&&h.jsx("span",{className:"text-red-600",children:"*"})]}),i,n&&h.jsx("p",{className:"mt-1.5 text-xs text-neutral-500 dark:text-neutral-400",children:n}),r&&h.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:r})]}),EM={status:!0,type:!0,subtype:!0,description:!0,stateProvince:!0,city:!0,bedrooms:!0,totalBath:!0},SM={...EM,listPrice:!0},NM={...EM,rentPrice:!0,isPrivateRoom:!0};function dP(t,e){const n=e==="sale"?SM:NM,r={},i=a=>String(t[a]??"").trim();return Object.keys(n).forEach(a=>{if(n[a]){if(["bedrooms","totalBath","listPrice","rentPrice"].includes(a)){const l=Number(t[a]);(Number.isNaN(l)||l<0)&&(r[a]="Enter a valid number.");return}i(a)||(r[a]="This field is required.")}}),r}function kM({label:t,priceKey:e,currencyKey:n="currency",form:r,onChange:i,required:a,errors:l}){return h.jsx(Pe,{label:t,required:a,error:l[e],children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{className:`${Gr} w-28`,value:r[n]||"CAD",onChange:i(n),children:[h.jsx("option",{children:"CAD"}),h.jsx("option",{children:"USD"})]}),h.jsx("input",{type:"number",min:0,className:Ie(e,l),value:r[e]??"",onChange:i(e),placeholder:"0"})]})})}function hS({form:t,onChange:e,required:n,errors:r}){return h.jsx(ci,{title:"Location Information",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Pe,{label:"Unit Number",children:h.jsx("input",{className:Ie("unitNumber",r),value:t.unitNumber||"",onChange:e("unitNumber")})}),h.jsx(Pe,{label:"Street Number",children:h.jsx("input",{className:Ie("streetNumber",r),value:t.streetNumber||"",onChange:e("streetNumber")})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Pe,{label:"Street Name",children:h.jsx("input",{className:Ie("streetName",r),value:t.streetName||"",onChange:e("streetName")})}),h.jsx(Pe,{label:"Street Suffix",children:h.jsx("input",{className:Ie("streetSuffix",r),value:t.streetSuffix||"",onChange:e("streetSuffix")})})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"State/Province",required:n.stateProvince,error:r.stateProvince,children:h.jsx("input",{className:Ie("stateProvince",r),value:t.stateProvince||"",onChange:e("stateProvince")})}),h.jsx(Pe,{label:"City",required:n.city,error:r.city,children:h.jsx("input",{className:Ie("city",r),value:t.city||"",onChange:e("city")})}),h.jsx(Pe,{label:"Postal Code",children:h.jsx("input",{className:Ie("postalCode",r),value:t.postalCode||"",onChange:e("postalCode")})})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"Latitude",children:h.jsx("input",{className:Ie("latitude",r),value:t.latitude||"",onChange:e("latitude")})}),h.jsx(Pe,{label:"Longitude",children:h.jsx("input",{className:Ie("longitude",r),value:t.longitude||"",onChange:e("longitude")})}),h.jsx(Pe,{label:"Subdivision",children:h.jsx("input",{className:Ie("subdivision",r),value:t.subdivision||"",onChange:e("subdivision")})})]})]})})}function pS({form:t,onChange:e,required:n,errors:r}){return h.jsx(ci,{title:"Interior Information",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"Bedrooms",required:n.bedrooms,error:r.bedrooms,children:h.jsx("input",{className:Ie("bedrooms",r),type:"number",min:0,value:t.bedrooms??"",onChange:e("bedrooms")})}),h.jsx(Pe,{label:"Total Bath",required:n.totalBath,error:r.totalBath,children:h.jsx("input",{className:Ie("totalBath",r),type:"number",min:0,value:t.totalBath??"",onChange:e("totalBath")})}),h.jsx(Pe,{label:"Half Bath",children:h.jsx("input",{className:Ie("halfBath",r),type:"number",min:0,value:t.halfBath??"",onChange:e("halfBath")})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Pe,{label:"Living Area (sqft)",children:h.jsx("input",{className:Ie("livingArea",r),type:"number",min:0,value:t.livingArea??"",onChange:e("livingArea")})}),h.jsx(Pe,{label:"Floor Area (sqft)",children:h.jsx("input",{className:Ie("floorArea",r),type:"number",min:0,value:t.floorArea??"",onChange:e("floorArea")})})]}),h.jsx(Pe,{label:"Interior Features",children:h.jsx("input",{className:Ie("interiorFeatures",r),placeholder:"e.g., Vaulted ceiling, Walk-in closet",value:t.interiorFeatures||"",onChange:e("interiorFeatures")})}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"Heating System",children:h.jsxs("select",{className:Ie("heatingSystem",r,Gr),value:t.heatingSystem||"",onChange:e("heatingSystem"),children:[h.jsx("option",{value:"",children:"Select heating"}),aP.map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(Pe,{label:"Total Fireplace",children:h.jsx("input",{className:Ie("totalFireplace",r),type:"number",min:0,value:t.totalFireplace??"",onChange:e("totalFireplace")})}),h.jsx(Pe,{label:"Laundry Feature",children:h.jsx("input",{className:Ie("laundryFeature",r),value:t.laundryFeature||"",onChange:e("laundryFeature")})})]}),h.jsx(Pe,{label:"Fireplace Feature",children:h.jsx("input",{className:Ie("fireplaceFeature",r),value:t.fireplaceFeature||"",onChange:e("fireplaceFeature")})}),h.jsx(Pe,{label:"Appliances",children:h.jsx("input",{className:Ie("appliances",r),placeholder:"Fridge, Stove, Dishwasher",value:t.appliances||"",onChange:e("appliances")})})]})})}function mS({form:t,onChange:e,errors:n}){return h.jsx(ci,{title:"Exterior Information",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[h.jsx(Pe,{label:"Parking",children:h.jsxs("select",{className:Ie("parking",n,Gr),value:t.parking||"",onChange:e("parking"),children:[h.jsx("option",{value:"",children:"Select parking"}),oP.map(r=>h.jsx("option",{children:r},r))]})}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"Lot Size (acre)",children:h.jsx("input",{className:Ie("lotAcre",n),value:t.lotAcre||"",onChange:e("lotAcre")})}),h.jsx(Pe,{label:"Lot Size (sqft)",children:h.jsx("input",{className:Ie("lotSqft",n),value:t.lotSqft||"",onChange:e("lotSqft")})}),h.jsx(Pe,{label:"Lot Dimensions",children:h.jsx("input",{className:Ie("lotDimensions",n),value:t.lotDimensions||"",onChange:e("lotDimensions")})})]}),h.jsx(Pe,{label:"Lot Features",children:h.jsx("input",{className:Ie("lotFeatures",n),value:t.lotFeatures||"",onChange:e("lotFeatures")})}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"Open Parking",children:h.jsx("input",{className:Ie("openParking",n),type:"number",min:0,value:t.openParking??"",onChange:e("openParking")})}),h.jsx(Pe,{label:"Total Parking",children:h.jsx("input",{className:Ie("totalParking",n),type:"number",min:0,value:t.totalParking??"",onChange:e("totalParking")})}),h.jsx(Pe,{label:"Parking Features",children:h.jsx("input",{className:Ie("parkingFeatures",n),value:t.parkingFeatures||"",onChange:e("parkingFeatures")})})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx(Pe,{label:"Has View",children:h.jsxs("select",{className:Ie("hasView",n,Gr),value:t.hasView||"",onChange:e("hasView"),children:[h.jsx("option",{value:"",children:"Select"}),h.jsx("option",{children:"Yes"}),h.jsx("option",{children:"No"})]})}),h.jsx(Pe,{label:"View Description",children:h.jsxs("select",{className:Ie("viewDescription",n,Gr),value:t.viewDescription||"",onChange:e("viewDescription"),children:[h.jsx("option",{value:"",children:"Select view"}),lP.map(r=>h.jsx("option",{children:r},r))]})}),h.jsx(Pe,{label:"Exterior Features",children:h.jsx("input",{className:Ie("exteriorFeatures",n),value:t.exteriorFeatures||"",onChange:e("exteriorFeatures")})})]})]})})}function fP({form:t,onChange:e,errors:n}){return h.jsx(ci,{title:"Building & Community Information",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[h.jsx(Pe,{label:"Strata / HOA (monthly)",children:h.jsx("input",{className:Ie("strata",n),type:"number",min:0,value:t.strata??"",onChange:e("strata")})}),h.jsx(Pe,{label:"Amenities",children:h.jsx("input",{className:Ie("amenities",n),placeholder:"Gym, Pool, Sauna",value:t.amenities||"",onChange:e("amenities")})}),h.jsx(Pe,{label:"Pet Policy",children:h.jsx("input",{className:Ie("petPolicy",n),placeholder:"Pets allowed / size limits",value:t.petPolicy||"",onChange:e("petPolicy")})})]})})}function hP({form:t,onChange:e,required:n,errors:r}){return h.jsx(ci,{title:"Property Information (Sale)",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[h.jsx(Pe,{label:"Property Status",required:n.status,error:r.status,children:h.jsxs("select",{className:Ie("status",r,Gr),value:t.status||"",onChange:e("status"),children:[h.jsx("option",{value:"",children:"Select status"}),["Active","Inactive","Hold","Deactivated","Coming soon"].map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(kM,{label:"List Price",priceKey:"listPrice",form:t,onChange:e,required:n.listPrice,errors:r}),h.jsx(Pe,{label:"Property Type",required:n.type,error:r.type,children:h.jsxs("select",{className:Ie("type",r,Gr),value:t.type||"",onChange:e("type"),children:[h.jsx("option",{value:"",children:"Select type"}),cP.map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(Pe,{label:"Property Subtype",required:n.subtype,error:r.subtype,children:h.jsxs("select",{className:Ie("subtype",r,Gr),value:t.subtype||"",onChange:e("subtype"),children:[h.jsx("option",{value:"",children:"Select subtype"}),vM.map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(Pe,{label:"Listing Date",children:h.jsx("input",{className:Ie("listingDate",r),type:"date",value:t.listingDate||"",onChange:e("listingDate")})}),h.jsx(Pe,{label:"Year Built",children:h.jsx("input",{className:Ie("yearBuilt",r),type:"number",min:1700,max:new Date().getFullYear(),value:t.yearBuilt??"",onChange:e("yearBuilt")})}),h.jsx("div",{className:"md:col-span-2",children:h.jsx(Pe,{label:"Property Description",required:n.description,error:r.description,children:h.jsx("textarea",{className:Ie("description",r,wM),value:t.description||"",onChange:e("description")})})})]})})}function pP({form:t,onChange:e,errors:n}){return h.jsx(ci,{title:"Financial Information",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[h.jsx(Pe,{label:"Tax Year",children:h.jsx("input",{className:Ie("taxYear",n),type:"number",min:1990,max:new Date().getFullYear(),value:t.taxYear??"",onChange:e("taxYear")})}),h.jsx(Pe,{label:"Annual Tax Amount",children:h.jsx("input",{className:Ie("annualTaxAmount",n),type:"number",min:0,value:t.annualTaxAmount??"",onChange:e("annualTaxAmount")})}),h.jsx(Pe,{label:"Price per Square Foot",children:h.jsx("input",{className:Ie("pricePerSqft",n),type:"number",min:0,value:t.pricePerSqft??"",onChange:e("pricePerSqft")})})]})})}function mP({form:t,onChange:e,required:n,errors:r}){return h.jsx(ci,{title:"Property Information (Rent)",children:h.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[h.jsx(Pe,{label:"Property Status",required:n.status,error:r.status,children:h.jsxs("select",{className:Ie("status",r,Gr),value:t.status||"",onChange:e("status"),children:[h.jsx("option",{value:"",children:"Select status"}),["Active","Inactive","Hold","Deactivated","Coming soon"].map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(Pe,{label:"This is a private room in a shared property",required:n.isPrivateRoom,error:r.isPrivateRoom,children:h.jsxs("select",{className:Ie("isPrivateRoom",r,Gr),value:t.isPrivateRoom===!0?"Yes":t.isPrivateRoom===!1?"No":"",onChange:i=>e("isPrivateRoom")({target:{value:i.target.value==="Yes"}}),children:[h.jsx("option",{value:"",children:"Select"}),h.jsx("option",{children:"Yes"}),h.jsx("option",{children:"No"})]})}),h.jsx(kM,{label:"Price per month",priceKey:"rentPrice",form:t,onChange:e,required:n.rentPrice,errors:r}),h.jsx(Pe,{label:"Property Type",required:n.type,error:r.type,children:h.jsxs("select",{className:Ie("type",r,Gr),value:t.type||"",onChange:e("type"),children:[h.jsx("option",{value:"",children:"Select type"}),uP.map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(Pe,{label:"Property Subtype",required:n.subtype,error:r.subtype,children:h.jsxs("select",{className:Ie("subtype",r,Gr),value:t.subtype||"",onChange:e("subtype"),children:[h.jsx("option",{value:"",children:"Select subtype"}),vM.map(i=>h.jsx("option",{children:i},i))]})}),h.jsx(Pe,{label:"Listing Date",children:h.jsx("input",{className:Ie("listingDate",r),type:"date",value:t.listingDate||"",onChange:e("listingDate")})}),h.jsx("div",{className:"md:col-span-2",children:h.jsx(Pe,{label:"Property Description",required:n.description,error:r.description,children:h.jsx("textarea",{className:Ie("description",r,wM),value:t.description||"",onChange:e("description")})})})]})})}function gP({show:t,text:e="Creating listing"}){return t?h.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-sm",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"rounded-xl bg-white px-6 py-5 text-center shadow-xl dark:bg-neutral-900",children:[h.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-2 border-neutral-300 border-t-blue-600 dark:border-neutral-700 dark:border-t-blue-500"}),h.jsx("p",{className:"mt-3 text-sm text-neutral-700 dark:text-neutral-200",children:e})]})}):null}function bP(){const t=Jt(),[e,n]=T.useState(null),[r,i]=T.useState("sale"),[a,l]=T.useState([]),[c,d]=T.useState({currency:"CAD",listingDate:fS()}),[f,m]=T.useState({}),g=T.useRef(null),{createListing:x,loading:y,error:w}=rP(),{lookupStaff:E,loading:S,error:k,setError:_}=sP();T.useEffect(()=>{c.listingDate||d(C=>({...C,listingDate:fS()}))},[c.listingDate]);const A=C=>L=>d($=>({...$,[C]:L?.target?.value??L})),P=r==="sale"?SM:NM,O=async C=>{if(C.preventDefault(),!e)return;const L=dP(c,r);if(m(L),Object.keys(L).length){g.current?.scrollIntoView({behavior:"smooth",block:"start"});return}try{await x({agent:e,mode:r,form:c,media:a}),t("/admin/property",{replace:!0})}catch{g.current?.scrollIntoView({behavior:"smooth",block:"start"})}};return h.jsxs("form",{onSubmit:O,className:"relative p-6","aria-busy":y,children:[h.jsx(Er,{className:"mb-6",items:[{label:"Dashboard",to:"/admin/dashboard"},{label:"Property",to:"/admin/property"},{label:"Add property"}]}),h.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-neutral-900 dark:text-neutral-100",children:"Add Property Listing"}),h.jsxs("p",{className:"mt-1 text-sm text-neutral-500 dark:text-neutral-400",children:["Fields marked ",h.jsx("span",{className:"text-red-600",children:"*"})," are required."]})]}),e&&h.jsxs("div",{className:"flex items-center gap-3 text-sm text-neutral-600 dark:text-neutral-300",children:[h.jsxs("span",{children:["Listing under: ",h.jsx("b",{children:e.name})," (",e.email,")"]}),h.jsx("button",{type:"button",className:"rounded-lg border border-neutral-300 px-3 py-1.5 text-sm font-medium text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:text-neutral-200 dark:hover:bg-neutral-800/60",onClick:()=>{n(null),m({}),window.scrollTo({top:0,behavior:"smooth"})},children:"Change agent"})]})]}),!e&&h.jsx(Q4,{onAgentFound:n,isLoading:S,error:k,clearError:()=>_(null),fetchAgent:async C=>{if(!C?.trim())return null;const{found:L,agent:$}=await E(C);return L&&$?{id:$.agentListId,name:$.fullName,email:$.email,staffId:$.staffId}:null}}),Object.keys(f).length>0&&h.jsxs("div",{ref:g,className:"mt-4 mb-4 rounded-lg border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-950/30 dark:text-red-300",children:[h.jsx("div",{className:"font-medium",children:"Please complete the required fields:"}),h.jsx("ul",{className:"mt-2 list-disc pl-5 space-y-0.5",children:Object.keys(f).map(C=>h.jsx("li",{children:C},C))})]}),w&&h.jsx("div",{className:"mb-4 rounded-lg border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-950/30 dark:text-red-300",children:w}),e&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mb-4",children:h.jsx(J4,{mode:r,setMode:i})}),h.jsx(ci,{title:"Media",subtitle:"Photos (JPEG/JPG/PNG 1MB each) and Videos (MP4/MOV), max 40.",children:h.jsx(nP,{value:a,onChange:l,subtypeForResource:c.subtype||""})}),r==="sale"?h.jsxs(h.Fragment,{children:[h.jsx(hP,{form:c,onChange:A,required:P,errors:f}),h.jsx(hS,{form:c,onChange:A,required:P,errors:f}),h.jsx(pS,{form:c,onChange:A,required:P,errors:f}),h.jsx(mS,{form:c,onChange:A,errors:f}),h.jsx(fP,{form:c,onChange:A,errors:f}),h.jsx(pP,{form:c,onChange:A,errors:f})]}):h.jsxs(h.Fragment,{children:[h.jsx(mP,{form:c,onChange:A,required:P,errors:f}),h.jsx(hS,{form:c,onChange:A,required:P,errors:f}),h.jsx(pS,{form:c,onChange:A,required:P,errors:f}),h.jsx(mS,{form:c,onChange:A,errors:f})]}),h.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[h.jsx("button",{type:"button",className:"rounded-lg border border-neutral-300 px-4 py-2 text-sm font-medium text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:text-neutral-200 dark:hover:bg-neutral-800/60",onClick:()=>t("/admin/property"),disabled:y,children:"Cancel"}),h.jsx("button",{type:"submit",disabled:y,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 disabled:cursor-not-allowed disabled:opacity-70 dark:bg-blue-500 dark:hover:bg-blue-400",children:"Save listing"})]})]}),h.jsx(gP,{show:y})]})}const zc=[{id:"res-1",category:"blog",title:"Sample Blog Title 1",subTitle:"Subtitle for Blog entry 1",coverPhoto:"https://plus.unsplash.com/premium_photo-1663089688180-444ff0066e5d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=2340",content:"<p>Sample content for Blog 1. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag1","sampleBlog"],metaTitle:"Meta Title for Blog 1",metaDescription:"Meta description for sample Blog post 1.",metaKeywords:"keyword1, blog, sample"},publish:!1,resourceMedia:["https://example.com/media-1.jpg","https://example.com/video-1.mp4"],creationDate:"2025-10-25",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Draft",date:"25 Oct 2025"},{id:"res-2",category:"news",title:"Sample News Title 2",subTitle:"Subtitle for News entry 2",coverPhoto:"https://plus.unsplash.com/premium_photo-1684179641331-e89c6320b6a9?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFya2V0aW5nfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for News 2. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag2","sampleNews"],metaTitle:"Meta Title for News 2",metaDescription:"Meta description for sample News post 2.",metaKeywords:"keyword2, news, sample"},publish:!0,resourceMedia:["https://example.com/media-2.jpg","https://example.com/video-2.mp4"],creationDate:"2025-10-23",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Published",date:"23 Oct 2025"},{id:"res-3",category:"e-book",title:"Sample E-book Title 3",subTitle:"Subtitle for E-book entry 3",coverPhoto:"https://plus.unsplash.com/premium_photo-1757686080642-256282996806?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHwxN3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for E-book 3. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag3","sampleE-book"],metaTitle:"Meta Title for E-book 3",metaDescription:"Meta description for sample E-book post 3.",metaKeywords:"keyword3, e-book, sample"},publish:!1,resourceMedia:["https://example.com/media-3.jpg","https://example.com/video-3.mp4"],creationDate:"2025-10-21",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Draft",date:"21 Oct 2025"},{id:"res-4",category:"podcast",title:"Sample Podcast Title 4",subTitle:"Subtitle for Podcast entry 4",coverPhoto:"https://images.unsplash.com/photo-1578973615934-8d9cdb0792b4?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGNhbmFkYXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for Podcast 4. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag4","samplePodcast"],metaTitle:"Meta Title for Podcast 4",metaDescription:"Meta description for sample Podcast post 4.",metaKeywords:"keyword4, podcast, sample"},publish:!0,resourceMedia:["https://example.com/media-4.jpg","https://example.com/video-4.mp4"],creationDate:"2025-10-19",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Published",date:"19 Oct 2025"},{id:"res-5",category:"blog",title:"Sample Blog Title 5",subTitle:"Subtitle for Blog entry 5",coverPhoto:"https://plus.unsplash.com/premium_photo-1757686080642-256282996806?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHwxN3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for Blog 5. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag5","sampleBlog"],metaTitle:"Meta Title for Blog 5",metaDescription:"Meta description for sample Blog post 5.",metaKeywords:"keyword5, blog, sample"},publish:!1,resourceMedia:["https://example.com/media-5.jpg","https://example.com/video-5.mp4"],creationDate:"2025-10-17",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Draft",date:"17 Oct 2025"},{id:"res-6",category:"news",title:"Sample News Title 6",subTitle:"Subtitle for News entry 6",coverPhoto:"https://plus.unsplash.com/premium_photo-1673241100156-2e04fca1a4af?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGNhbmFkYXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for News 6. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag6","sampleNews"],metaTitle:"Meta Title for News 6",metaDescription:"Meta description for sample News post 6.",metaKeywords:"keyword6, news, sample"},publish:!0,resourceMedia:["https://example.com/media-6.jpg","https://example.com/video-6.mp4"],creationDate:"2025-10-15",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Published",date:"15 Oct 2025"},{id:"res-7",category:"e-book",title:"Sample E-book Title 7",subTitle:"Subtitle for E-book entry 7",coverPhoto:"https://images.unsplash.com/photo-1514924013411-cbf25faa35bb?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGNhbmFkYXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for E-book 7. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag7","sampleE-book"],metaTitle:"Meta Title for E-book 7",metaDescription:"Meta description for sample E-book post 7.",metaKeywords:"keyword7, e-book, sample"},publish:!1,resourceMedia:["https://example.com/media-7.jpg","https://example.com/video-7.mp4"],creationDate:"2025-10-13",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Draft",date:"13 Oct 2025"},{id:"res-8",category:"podcast",title:"Sample Podcast Title 8",subTitle:"Subtitle for Podcast entry 8",coverPhoto:"https://plus.unsplash.com/premium_photo-1757686080642-256282996806?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHwxN3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for Podcast 8. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag8","samplePodcast"],metaTitle:"Meta Title for Podcast 8",metaDescription:"Meta description for sample Podcast post 8.",metaKeywords:"keyword8, podcast, sample"},publish:!0,resourceMedia:["https://example.com/media-8.jpg","https://example.com/video-8.mp4"],creationDate:"2025-10-11",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Published",date:"11 Oct 2025"},{id:"res-9",category:"blog",title:"Sample Blog Title 9",subTitle:"Subtitle for Blog entry 9",coverPhoto:"https://plus.unsplash.com/premium_photo-1672116453118-5971acb7b93b?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fGNhbmFkYXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for Blog 9. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag9","sampleBlog"],metaTitle:"Meta Title for Blog 9",metaDescription:"Meta description for sample Blog post 9.",metaKeywords:"keyword9, blog, sample"},publish:!1,resourceMedia:["https://example.com/media-9.jpg","https://example.com/video-9.mp4"],creationDate:"2025-10-09",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Draft",date:"09 Oct 2025"},{id:"res-10",category:"news",title:"Sample News Title 10",subTitle:"Subtitle for News entry 10",coverPhoto:"https://plus.unsplash.com/premium_photo-1676657955507-b1f993556e80?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8dXNhfGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=900",content:"<p>Sample content for News 10. Lorem ipsum dolor sit amet.</p>",properties:{tags:["tag10","sampleNews"],metaTitle:"Meta Title for News 10",metaDescription:"Meta description for sample News post 10.",metaKeywords:"keyword10, news, sample"},publish:!0,resourceMedia:["https://example.com/media-10.jpg","https://example.com/video-10.mp4"],creationDate:"2025-10-07",userDetail:{name:"Super Admin",photoUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=256&auto=format&fit=crop"},status:"Published",date:"07 Oct 2025"}],xP={Blog:"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-200",News:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200","E-book":"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-200",Podcast:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-200"},yP=["all","news","blog","podcast","e-book"];function vP({children:t,active:e,onClick:n}){return h.jsx("button",{onClick:n,className:"rounded-full px-3 py-1 text-sm font-medium transition "+(e?"bg-neutral-900 text-white dark:bg-white dark:text-neutral-900":"text-neutral-600 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-800"),children:t})}function wP({children:t,tone:e="default"}){const n=e==="published"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200":"bg-neutral-200 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-200";return h.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ${n}`,children:t})}function EP({category:t}){const e=t.charAt(0).toUpperCase()+t.slice(1),n=xP[e.replace("-"," ")]||"bg-neutral-200 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-200";return h.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ${n}`,children:e.replace("-"," ")})}function SP({item:t,onEdit:e}){const n=t.status==="Published"?"published":"default",r=t.content.replace(/<[^>]*>/g,"").substring(0,100)+"...";return h.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl bg-white p-4 shadow-sm ring-1 ring-black/5 transition hover:shadow-md dark:bg-neutral-950 dark:ring-white/10",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(wP,{tone:n,children:t.status}),h.jsx(EP,{category:t.category})]}),h.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.date})]}),h.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[h.jsxs("div",{className:"col-span-3",children:[h.jsx("h3",{className:"line-clamp-2 text-base font-semibold text-neutral-900 dark:text-neutral-50",children:t.title}),h.jsx("p",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-300",children:t.subTitle}),h.jsx("p",{className:"mt-2 line-clamp-3 text-sm text-neutral-600 dark:text-neutral-300",children:r})]}),h.jsxs("div",{className:"col-span-2 relative",children:[h.jsx("img",{src:t.coverPhoto,alt:"",className:"h-40 w-full rounded-xl object-cover"}),h.jsx("img",{src:t.userDetail.photoUrl,alt:"",className:"absolute right-2 top-2 h-8 w-8 rounded-full ring-2 ring-white dark:ring-neutral-900"})]})]}),h.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2",children:[h.jsxs("div",{className:"flex items-center gap-5 text-xs text-neutral-500 dark:text-neutral-400",children:[h.jsxs("span",{className:"inline-flex items-center gap-1",children:[h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",className:"opacity-70",children:h.jsx("path",{fill:"currentColor",d:"M12 20q-3.775 0-6.388-2.137T2 12q1.225-3.725 3.838-5.863T12 4q3.775 0 6.388 2.137T22 12q-1.225 3.725-3.838 5.863T12 20Zm0-2q2.95 0 5.2-1.675T20.6 12q-1.05-2.65-3.3-4.325T12 6q-2.95 0-5.2 1.675T3.4 12q1.05 2.65 3.3 4.325T12 18Zm0-2.5q1.875 0 3.188-1.312T16.5 11q0-1.875-1.312-3.188T12 6.5q-1.875 0-3.188 1.312T7.5 11q0 1.875 1.312 3.188T12 15.5Z"})}),"1.95k"]}),h.jsx("span",{children:"9.91k views"}),h.jsx("span",{children:"9.12k shares"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>e(t.id),className:"inline-flex items-center gap-1 rounded-md bg-blue-600 px-3 py-1 text-xs font-medium text-white hover:bg-blue-700 transition-colors",children:"Edit"}),t.publish?h.jsx("a",{href:"https://jovirealty.com/news-and-resources",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 rounded-md bg-green-600 px-3 py-1 text-xs font-medium text-white hover:bg-green-700 transition-colors",children:"View"}):h.jsx("button",{disabled:!0,className:"inline-flex items-center gap-1 rounded-md bg-neutral-300 px-3 py-1 text-xs font-medium text-neutral-500 cursor-not-allowed dark:bg-neutral-700 dark:text-neutral-400",children:"View"})]})]})]})}function NP(){const t=Jt(),[e,n]=Su(),[r,i]=T.useState(!1),[a,l]=T.useState(e.get("q")||""),[c,d]=T.useState(e.get("cat")||"all"),[f,m]=T.useState("latest"),g=T.useMemo(()=>{let y=zc.filter(w=>{if(c!=="all"&&w.category!==c)return!1;const E=a.toLowerCase();return w.title.toLowerCase().includes(E)||w.subTitle.toLowerCase().includes(E)||w.content.replace(/<[^>]*>/g,"").toLowerCase().includes(E)});return f==="published"?y=y.filter(w=>w.publish===!0):f==="draft"&&(y=y.filter(w=>w.publish===!1)),y.sort((w,E)=>{const S=new Date(w.creationDate),k=new Date(E.creationDate);return f==="latest"?k-S:S-k}),y},[c,a,f]);T.useEffect(()=>{const y=new URLSearchParams;a&&y.set("q",a),c!=="all"&&y.set("cat",c),n(y,{replace:!0})},[a,c,n]);const x=y=>{t(`/admin/resources/edit/${y}`)};return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-50",children:"Resources"}),h.jsx(Er,{items:[{label:"Dashboard",to:"/admin/dashboard"},{label:"Resources"}]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg bg-white px-3 py-2 text-sm font-medium text-neutral-700 ring-1 ring-neutral-300 hover:bg-neutral-50 dark:bg-neutral-900 dark:text-neutral-200 dark:ring-neutral-700 dark:hover:bg-neutral-800",children:[h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",children:h.jsx("path",{fill:"currentColor",d:"M3 7h18V5H3zm4 6h10v-2H7zm-4 6h18v-2H3z"})}),"Filter"]}),h.jsxs("button",{onClick:()=>t("/admin/resources/new"),className:"inline-flex items-center gap-2 rounded-lg bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:opacity-90 dark:bg-white dark:text-neutral-900",children:[h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",children:h.jsx("path",{fill:"currentColor",d:"M11 13H5v-2h6V5h2v6h6v2h-6v6h-2z"})}),"Create new resource"]})]})]}),h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500",children:h.jsx("path",{fill:"currentColor",d:"m21 20.3l-5.1-5.1q-.8.7-1.837 1.05T12 16.6q-2.75 0-4.675-1.925T5.4 10q0-2.75 1.925-4.675T12 3.4t4.675 1.925T18.6 10q0 1.175-.35 2.213T17.2 14.05L22.3 19.2zM12 14.6q1.925 0 3.263-1.337T16.6 10q0-1.925-1.337-3.263T12 5.4q-1.925 0-3.263 1.337T7.4 10q0 1.925 1.337 3.263T12 14.6z"})}),h.jsx("input",{value:a,onChange:y=>l(y.target.value),placeholder:"Search...",className:"w-full rounded-lg border-0 bg-white pl-9 pr-3 py-2 text-sm text-neutral-900 ring-1 ring-neutral-300 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:bg-neutral-900 dark:text-neutral-100 dark:ring-neutral-800"})]}),h.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[h.jsx("span",{className:"mr-2 font-medium",children:"Sort By:"}),h.jsxs("select",{value:f,onChange:y=>m(y.target.value),className:"rounded-lg px-2 py-1 ring-1 ring-neutral-300 bg-white hover:bg-neutral-50 dark:ring-neutral-700 dark:hover:bg-neutral-800 dark:bg-neutral-900",children:[h.jsx("option",{value:"latest",children:"Latest"}),h.jsx("option",{value:"oldest",children:"Oldest"}),h.jsx("option",{value:"published",children:"Published"}),h.jsx("option",{value:"draft",children:"Draft"})]})]})]}),h.jsx("div",{className:"flex items-center gap-3 pt-1",children:yP.map(y=>h.jsx(vP,{active:c===y,onClick:()=>d(y),children:y==="all"?"All":y.replace("-"," ")},y))}),r?h.jsx("div",{className:"mt-8",children:ou?h.jsx(ou,{}):h.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Loading"})}):g.length===0?h.jsx("div",{className:"mt-8 rounded-2xl border border-dashed border-neutral-300 p-10 text-center text-sm text-neutral-500 dark:border-neutral-800 dark:text-neutral-400",children:"No resources found."}):h.jsx("div",{className:"mt-3 grid grid-cols-1 gap-5 lg:grid-cols-2",children:g.map(y=>h.jsx(SP,{item:y,onEdit:x},y.id))})]})}const vl="https://api.jovirealty.com/v1";async function Ih(t,e={}){let n=localStorage.getItem("accessToken");if(!n)throw new Error("No access token");const r={...e.headers,Authorization:`Bearer ${n}`,"Content-Type":"application/json"},i={...e,headers:r,credentials:"include"};let a=await fetch(t,i);if(a.status===401){const l=await fetch(`${vl}/auth/refresh`,{method:"POST",credentials:"include"});if(!l.ok)throw new Error("Session expired");const c=await l.json();if(!c?.accessToken)throw new Error("Refresh failed");localStorage.setItem("accessToken",c.accessToken),n=c.accessToken;const d={...r,Authorization:`Bearer ${n}`};a=await fetch(t,{...i,headers:d})}if(!a.ok){const l=await a.text().catch(()=>"");throw new Error(l||`HTTP ${a.status}`)}return a}function kP({q:t="",page:e=1,limit:n=25}={}){const{authenticatedFetch:r}=io(),[i,a]=T.useState([]),[l,c]=T.useState(!0),[d,f]=T.useState(""),[m,g]=T.useState({page:1,limit:25,total:0,pages:1});return T.useEffect(()=>{let x=!1;return(async()=>{c(!0),f("");try{const y=new URL(`${vl}/auth/staff/accounts`);t&&y.searchParams.set("q",t),y.searchParams.set("page",String(e)),y.searchParams.set("limit",String(n));const E=await(await r(y.toString())).json();x||(a(Array.isArray(E?.accounts)?E.accounts:[]),g({page:Number(E?.page??e),limit:Number(E?.limit??n),total:Number(E?.total??0),pages:Number(E?.pages??1)}))}catch(y){x||f(y?.message||"Failed to fetch staff accounts")}finally{x||c(!1)}})(),()=>{x=!0}},[t,e,n,r]),{accounts:i,loading:l,error:d,...m}}async function TP(t){return(await Ih(`${vl}/auth/staff/accounts/signup`,{method:"POST",body:JSON.stringify(t)})).json()}async function TM(t){return(await Ih(`${vl}/auth/staff/accounts/${t}`)).json()}async function MP(t){const e=await Ih(`${vl}/auth/staff/agent-lookup?email=${encodeURIComponent(t)}`);return e.status===404?null:e.json()}async function AP(t,e={},n){const r=new FormData;return Object.entries(e).forEach(([a,l])=>{l!=null&&r.append(a,l)}),n&&r.append("photo",n),(await Ih(`${vl}/auth/staff/accounts/${t}/profile`,{method:"PUT",headers:{},body:r})).json()}function MM({src:t,alt:e="",size:n=20,className:r=""}){const i=typeof n=="number"?`${n}px`:n,a="data:image/svg+xml;utf8,"+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
         <circle cx="32" cy="24" r="14" fill="#e5e7eb"/>
         <path d="M8 56c0-10.5 10.7-16 24-16s24 5.5 24 16" fill="#e5e7eb"/>
       </svg>`);return h.jsx("img",{src:t||a,alt:e,style:{width:i,height:i},className:`rounded bg-gray-100 object-cover ${r}`,onError:l=>{l.currentTarget.src!==a&&(l.currentTarget.src=a)}})}const CP=({value:t})=>h.jsx("span",{className:["inline-flex h-7 min-w-14 items-center justify-center rounded-full px-3 text-xs font-medium",t?"bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"].join(" "),children:t?"Yes":"No"});function _P({onShow:t,onEdit:e,onDelete:n,onClose:r}){const i=T.useRef(null);return T.useEffect(()=>{const a=l=>{i.current&&(i.current.contains(l.target)||r?.())};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[r]),h.jsxs("div",{ref:i,className:"absolute right-3 top-8 z-20 w-44 overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg",children:[h.jsxs("button",{onClick:t,className:"flex w-full items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:[h.jsxs("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),h.jsx("path",{d:"M7 9h10M7 13h6"})]}),"Show"]}),h.jsxs("button",{onClick:e,className:"flex w-full items-center gap-3 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:[h.jsxs("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5l4 4L7 21l-4 1 1-4 12.5-14.5z"})]}),"Edit"]})]})}function RP(){const[t,e]=Su(),n=Number(t.get("page")||1),[r,i]=T.useState(n),[a,l]=T.useState(""),c=Jt(),{accounts:d,loading:f,error:m,pages:g,total:x}=kP({q:a,page:r,limit:25});T.useEffect(()=>{const L=new URLSearchParams(t);L.set("page",String(r)),e(L,{replace:!0})},[r]);const[y,w]=T.useState(new Set),[E,S]=T.useState(null),[k,_]=T.useState(new Set),A=L=>{if(!L)return"";try{return new Date(L).toISOString().replace("T"," ").slice(0,16)}catch{return""}},P=T.useMemo(()=>(d||[]).filter(L=>!k.has(String(L._id||L.id))).map(L=>{const $=String(L._id||L.id),J=!!L.isSuperAdmin||Array.isArray(L.roles)&&L.roles.includes("agent");return{id:$,photoUrl:L.photoUrl||null,fullName:L.fullName||L.email||"(no name)",licenseNumber:L.licenseNumber||"",superAdmin:J,email:L.email||"",lastLoginAt:A(L.lastLoginAt),personalRealEstateCorporationName:L.personalRealEstateCorporationName||""}}),[d,k]),O=L=>c(`/admin/administrators/${L}/show`),C=L=>c(`/admin/administrators/${L}/edit`);return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:[h.jsx("button",{onClick:()=>c("/admin/dashboard"),className:"hover:underline focus:outline-none",children:"Dashboard"})," ","/ ",h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Administrators"})]}),h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-gray-900 dark:text-white",children:"Administrators"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>alert("Filters coming soon"),children:[h.jsx("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M3 5h18M6 12h12M10 19h4"})}),"Filter"]}),h.jsxs(Ot,{to:"/admin/administrators/newadministrators",className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500",children:[h.jsx("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"currentColor",children:h.jsx("path",{d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"})}),"Create new"]})]})]}),h.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.jsx("span",{className:"inline-flex h-6 min-w-6 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800 px-2 font-medium text-gray-700 dark:text-gray-300",children:x})," ","total"]}),h.jsx("div",{className:"flex w-full gap-2 sm:w-96",children:h.jsx("input",{placeholder:"Search by name or email",value:a,onChange:L=>{l(L.target.value),i(1)},className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm outline-none ring-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:border-blue-500 dark:focus:border-blue-400 text-gray-900 dark:text-white"})})]}),h.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full whitespace-nowrap text-left",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-xs uppercase text-gray-500 dark:text-gray-400",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 font-medium",children:"FullName"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"licenseNumber"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"Is Agent?"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"email"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"lastLoginAt"}),h.jsx("th",{className:"px-4 py-3 font-medium",children:"personalRealEstateCorporationName"}),h.jsx("th",{className:"w-10 px-4 py-3"})]})}),h.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 text-sm text-gray-900 dark:text-gray-100",children:[f&&h.jsx("tr",{children:h.jsx("td",{colSpan:8,className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400",children:"Loading"})}),!f&&m&&h.jsx("tr",{children:h.jsxs("td",{colSpan:8,className:"px-4 py-10 text-center text-red-600 dark:text-red-400",children:["Error: ",m]})}),!f&&!m&&P.map(L=>h.jsxs("tr",{className:"hover:bg-gray-50/60 dark:hover:bg-gray-800/60",children:[h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(MM,{src:L.photoUrl,alt:L.fullName,size:20}),h.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:L.fullName})]})}),h.jsx("td",{className:"px-4 py-3",children:L.licenseNumber}),h.jsx("td",{className:"px-4 py-3",children:h.jsx(CP,{value:L.superAdmin})}),h.jsx("td",{className:"px-4 py-3",children:L.email}),h.jsx("td",{className:"px-4 py-3",children:L.lastLoginAt}),h.jsx("td",{className:"px-4 py-3",children:L.personalRealEstateCorporationName}),h.jsxs("td",{className:"relative px-4 py-3",children:[h.jsx("button",{className:"rounded p-1 hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Row actions",onClick:()=>S($=>$===L.id?null:L.id),children:h.jsxs("svg",{viewBox:"0 0 20 20",className:"size-5 text-gray-500 dark:text-gray-400",children:[h.jsx("circle",{cx:"3",cy:"10",r:"2"}),h.jsx("circle",{cx:"10",cy:"10",r:"2"}),h.jsx("circle",{cx:"17",cy:"10",r:"2"})]})}),E===L.id&&h.jsx(_P,{onShow:()=>{S(null),O(L.id)},onEdit:()=>{S(null),C(L.id)},onClose:()=>S(null)})]})]},L.id)),!f&&!m&&P.length===0&&h.jsx("tr",{children:h.jsx("td",{className:"px-4 py-10 text-center text-gray-500 dark:text-gray-400",colSpan:8,children:"No administrators found."})})]})]})}),h.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 px-4 py-3 text-sm",children:[h.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:["Page ",h.jsx("span",{className:"font-medium",children:r})," of"," ",h.jsx("span",{className:"font-medium",children:g})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-1.5 disabled:opacity-40 text-gray-700 dark:text-gray-300",onClick:()=>i(L=>Math.max(1,L-1)),disabled:r<=1,children:"Previous"}),h.jsx("button",{className:"rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-1.5 disabled:opacity-40 text-gray-700 dark:text-gray-300",onClick:()=>i(L=>Math.min(g||1,L+1)),disabled:r>=(g||1),children:"Next"})]})]})]}),h.jsx(_h,{})]})}const gS=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function OP(t=15){if(t<8)throw new Error("Password must be at least 8 characters");const e="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789",i=e+n+r,a=y=>{const w=new Uint8Array(1);return crypto.getRandomValues(w),y[w[0]%y.length]},l=[a(e),a(n),a(r)],c=new Date,f=(c.getHours().toString().padStart(2,"0")+c.getMinutes().toString().padStart(2,"0")+c.getSeconds().toString().padStart(2,"0")).split("").map(y=>r[parseInt(y,10)]),m=Math.max(0,t-l.length-f.length),g=Array.from({length:m},()=>a(i));let x=[...l,...f,...g];for(;x.length<t;)x.push(a(i));x.length>t&&(x=x.slice(0,t));for(let y=x.length-1;y>0;y--){const w=new Uint8Array(1);crypto.getRandomValues(w);const E=Math.floor(w[0]*(y+1)/256);[x[y],x[E]]=[x[E],x[y]]}return x.join("")}function DP(){const t=Jt(),[e,n]=T.useState(""),[r,i]=T.useState(""),[a,l]=T.useState(!1),[c,d]=T.useState(!1),[f,m]=T.useState(null),[g,x]=T.useState(!1),[y,w]=T.useState(""),[E,S]=T.useState(""),[k,_]=T.useState(""),[A,P]=T.useState(""),[O,C]=T.useState(""),[L,$]=T.useState(!1),J=T.useMemo(()=>c?y.trim():f?.fullName?.trim()||"",[c,y,f]),pe=()=>{let le=!0;return S(""),_(""),P(""),C(""),gS.test(e)||(S("Enter a valid email."),le=!1),(!r||r.length<8)&&(P("Password must be at least 8 characters."),le=!1),c?y.trim()||(_("Name is required for super admins."),le=!1):f?.id||(C("No agent found for this email. Please use an email that exists in agentlists."),le=!1),le},Te=async()=>{if(m(null),C(""),!(!gS.test(e)||c)){x(!0);try{const le=await MP(e);m(le)}catch(le){C(le.message||"Lookup failed")}finally{x(!1)}}},Ae=()=>i(OP(10)),Ee=async le=>{if(le.preventDefault(),!pe())return;const ge=c?"superadmin":"agent",F={email:e.trim(),name:J,password:r,role:ge,...f?.id&&!c?{agentLists:{id:f.id}}:{}};$(!0),C("");try{console.log("Creating account with payload:",F),await TP(F),t("/admin/administrators")}catch(ee){C(ee.message||"Failed to create account")}finally{$(!1)}};return T.useEffect(()=>{c||(m(null),C(""))},[e,c]),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:[h.jsx(Ot,{to:"/admin/dashboard",className:"hover:underline",children:"Dashboard"})," /"," ",h.jsx(Ot,{to:"/admin/administrators",className:"hover:underline",children:"Administrators"})," /"," ",h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Create new"})]}),h.jsx("h1",{className:"mb-6 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white",children:"Create new"}),h.jsx("form",{onSubmit:Ee,className:"mx-auto max-w-4xl rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-6",children:h.jsxs("div",{className:"grid gap-5",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),h.jsx("input",{type:"email",required:!0,value:e,onChange:le=>n(le.target.value),onBlur:Te,className:["rounded-lg border dark:border-gray-600 px-3 py-2 text-sm outline-none focus:border-indigo-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",E?"border-red-300 dark:border-red-400":"border-gray-300"].join(" "),placeholder:"name@jovirealty.com"}),E&&h.jsx("p",{className:"text-xs text-red-600",children:E}),!c&&h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:g?"Checking agent list":f?.id?h.jsxs(h.Fragment,{children:["Agent found: ",h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:f.fullName})," ",h.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(# ",f.id,")"]})]}):"No agent ID found yet"})]}),c&&h.jsxs("div",{className:"grid gap-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),h.jsx("input",{type:"text",required:!0,value:y,onChange:le=>w(le.target.value),className:["rounded-lg border dark:border-gray-600 px-3 py-2 text-sm outline-none focus:border-indigo-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",k?"border-red-300 dark:border-red-400":"border-gray-300"].join(" "),placeholder:"Full name"}),k&&h.jsx("p",{className:"text-xs text-red-600",children:k})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"relative w-full",children:[h.jsx("input",{type:a?"text":"password",required:!0,value:r,onChange:le=>i(le.target.value),className:["w-full rounded-lg border dark:border-gray-600 px-3 py-2 pr-10 text-sm outline-none focus:border-indigo-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",A?"border-red-300 dark:border-red-400":"border-gray-300"].join(" "),placeholder:"Click Generate or type",inputMode:"text"}),h.jsx("button",{type:"button",onClick:()=>l(le=>!le),className:"absolute inset-y-0 right-2 flex items-center p-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":a?"Hide password":"Show password",title:a?"Hide password":"Show password",children:a?h.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-10-8-10-8a19.6 19.6 0 0 1 5.06-6.94M9.9 4.24A10.94 10.94 0 0 1 12 4c7 0 10 8 10 8a19.6 19.6 0 0 1-3.22 4.49M2 2l20 20"})}):h.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M1 12s3-8 11-8 11 8 11 8-3 8-11 8-11-8-11-8z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),h.jsx("button",{type:"button",onClick:Ae,className:"whitespace-nowrap rounded-lg border border-gray-300 dark:border-gray-600 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",title:"Generate a new secure password",children:"Generate"})]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"8 characters, must include symbol, uppercase, lowercase, and number."}),A&&h.jsx("p",{className:"text-xs text-red-600",children:A})]}),O&&h.jsx("div",{className:"rounded-md border border-red-200 dark:border-red-800/50 bg-red-50 dark:bg-red-900/10 px-3 py-2 text-sm text-red-700 dark:text-red-300",children:O}),h.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[h.jsx(Ot,{to:"/admin/administrators",className:"rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:O||g||L||!e||!r||!c&&!f?.id,className:"rounded-lg bg-blue-600 px-5 py-2 text-sm font-semibold text-white hover:bg-blue-500 disabled:opacity-50",children:L?"Saving":"Save"})]})]})})]})}const jP=({open:t,onCancel:e,onConfirm:n})=>t?h.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/40",children:h.jsxs("div",{className:"w-[520px] rounded-xl border border-gray-200 bg-white p-5 shadow-xl",children:[h.jsx("div",{className:"mb-4 text-sm font-semibold text-gray-700",children:"Confirm"}),h.jsx("div",{className:"mb-6 text-sm text-gray-700",children:"Do you really want to remove this item?"}),h.jsxs("div",{className:"flex items-center justify-end gap-3",children:[h.jsx("button",{onClick:e,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm hover:bg-gray-50",children:"Cancel"}),h.jsx("button",{onClick:n,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-semibold text-white hover:bg-red-500",children:"Confirm"})]})]})}):null,Eg=t=>t?new Date(t).toLocaleString():"";function LP(){const{id:t}=gl(),[e]=Su(),n=e.get("page")||"1",r=Jt(),i=T.useRef(null),[a,l]=T.useState(!0),[c,d]=T.useState(""),[f,m]=T.useState(!1),[g,x]=T.useState(null),[y,w]=T.useState(""),[E,S]=T.useState(""),[k,_]=T.useState(""),[A,P]=T.useState(""),[O,C]=T.useState(""),[L,$]=T.useState(""),[J,pe]=T.useState(""),[Te,Ae]=T.useState(""),[Ee,le]=T.useState(""),[ge,F]=T.useState(""),[ee,X]=T.useState(""),[ue,R]=T.useState(""),[W,Z]=T.useState(""),[te,be]=T.useState(null),[Fe,Ce]=T.useState(""),[Ft,ct]=T.useState([]),[On,gt]=T.useState(""),[hn,Sr]=T.useState(""),[Nr,wn]=T.useState(""),[Di,ot]=T.useState(!1);T.useEffect(()=>{let Ge=!1;return(async()=>{try{l(!0),d("");const Qe=await TM(t);if(Ge)return;x(Qe),w(Qe.fullName||""),S(Qe.email||""),_(Qe.mlsId||""),P(Qe.licenseNumber||""),C(Qe.licensedAs||""),$(Qe.licensedFor||""),pe(Qe.personalRealEstateCorporationName||""),Ae(Qe.phoneNumber||""),le(Qe.teamName||""),F(Qe.aboutUs||""),X(Qe.photoUrl||""),R(Qe.joviEmail||""),Z(Qe.knownAs||""),Ce(Qe.agentListId||""),ct(Array.isArray(Qe.roles)?Qe.roles:[]),gt(Qe.lastLoginAt||""),Sr(Qe.createdAt||""),wn(Qe.updatedAt||"")}catch(Qe){Ge||d(Qe?.message||"Failed to load administrator")}finally{Ge||l(!1)}})(),()=>{Ge=!0}},[t]);const Ct=(g?.email||"").toLowerCase(),Vn=!!Ct&&Ct===(E||"").toLowerCase(),kr=!!Ct&&Ct===(ue||"").toLowerCase(),hi="This email is used for authentication. If you want to change it, please contact an administrator.",pi=async Ge=>{Ge.preventDefault();try{m(!0);const Qe={fullName:y,knownAs:W,licensedAs:O,licensedFor:L,personalRealEstateCorporationName:J,phoneNumber:Te,aboutUs:ge};Vn||(Qe.email=E),kr||(Qe.joviEmail=ue),await AP(t,Qe,te||void 0),r(`/admin/administrators/${Fe}/show?page=${n}`)}catch(Qe){alert(Qe?.message||"Failed to save")}finally{m(!1)}},cr=T.useMemo(()=>[{label:"_id (staff account)",value:t},{label:"agentListId",value:Fe},{label:"roles",value:Ft.join(", ")||""},{label:"lastLoginAt",value:Eg(On)},{label:"createdAt",value:Eg(hn)},{label:"updatedAt",value:Eg(Nr)}],[t,Fe,Ft,On,hn,Nr]);return a?h.jsx("div",{className:"p-8 text-sm text-gray-600",children:"Loading"}):c?h.jsx("div",{className:"p-8 text-sm text-red-600",children:c}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mx-auto max-w-7xl p-4 sm:p-6 lg:p-8",children:[h.jsx("div",{className:"mb-6 flex items-center justify-between",children:h.jsxs("nav",{className:"text-sm text-gray-500",children:[h.jsx(Ot,{to:"/admin/dashboard",className:"hover:underline",children:"Dashboard"}),h.jsx("span",{className:"mx-1",children:"/"}),h.jsx(Ot,{to:`/admin/administrators?page=${n}`,className:"hover:underline",children:"Administrators"}),h.jsx("span",{className:"mx-1",children:"/"}),h.jsx("span",{className:"text-gray-700",children:"Edit"})]})}),h.jsxs("form",{onSubmit:pi,className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-gray-200 lg:p-8",children:[h.jsx("h1",{className:"mb-6 text-xl font-semibold text-gray-900",children:"Edit administrator"}),h.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12 lg:gap-8",children:[h.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:h.jsxs("div",{className:"rounded-2xl border border-gray-200 p-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[ee?h.jsx("img",{src:ee,alt:"Avatar",className:"h-24 w-24 rounded-2xl object-cover ring-1 ring-gray-200"}):h.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-2xl bg-gray-100 text-gray-400 ring-1 ring-gray-200",children:"Avatar"}),h.jsxs("div",{children:[h.jsx("button",{type:"button",onClick:()=>i.current?.click(),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm hover:bg-gray-50",children:"Change avatar"}),h.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"JPG, GIF or PNG. 1MB max."}),h.jsx("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:Ge=>be(Ge.target.files?.[0]||null)})]})]}),h.jsx("label",{className:"mt-4 block text-sm font-medium text-gray-700",children:"photoUrl"}),h.jsx("input",{type:"text",value:ee,onChange:Ge=>X(Ge.target.value),className:"mt-1 block w-full rounded-xl border border-gray-300 bg-white px-3 py-2.5 text-sm"})]})}),h.jsxs("div",{className:"lg:col-span-8 xl:col-span-9",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"fullName"}),h.jsx("input",{value:y,onChange:Ge=>w(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"email"}),h.jsx("input",{type:"email",value:E,onChange:Ge=>S(Ge.target.value),disabled:Vn,className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm disabled:bg-gray-50 disabled:text-gray-500"}),Vn&&h.jsx("p",{className:"mt-1 text-xs text-red-600",children:hi})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"joviEmail"}),h.jsx("input",{type:"email",value:ue,onChange:Ge=>R(Ge.target.value),disabled:kr,className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm disabled:bg-gray-50 disabled:text-gray-500"}),kr&&h.jsx("p",{className:"mt-1 text-xs text-red-600",children:hi})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"mlsId"}),h.jsx("input",{value:k,readOnly:!0,className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm bg-gray-50 text-gray-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"licenseNumber"}),h.jsx("input",{value:A,readOnly:!0,className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm bg-gray-50 text-gray-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"licensedAs"}),h.jsx("input",{value:O,onChange:Ge=>C(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"licensedFor"}),h.jsx("input",{value:L,onChange:Ge=>$(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{className:"sm:col-span-2",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"personalRealEstateCorporationName"}),h.jsx("input",{value:J,onChange:Ge=>pe(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"knownAs"}),h.jsx("input",{value:W,onChange:Ge=>Z(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"phoneNumber"}),h.jsx("input",{value:Te,onChange:Ge=>Ae(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"teamName"}),h.jsx("input",{value:Ee,onChange:Ge=>le(Ge.target.value),className:"block w-full rounded-xl border border-gray-300 px-3 py-2.5 text-sm"})]}),h.jsxs("div",{className:"sm:col-span-2",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"aboutUs"}),h.jsx("textarea",{value:ge,onChange:Ge=>F(Ge.target.value),className:"block min-h-[110px] w-full rounded-2xl border border-gray-300 p-3 text-sm"})]})]}),h.jsx("div",{className:"mt-7 grid grid-cols-1 gap-4 sm:grid-cols-2",children:cr.map(Ge=>h.jsxs("div",{children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:Ge.label}),h.jsx("input",{value:Ge.value,readOnly:!0,className:"block w-full cursor-not-allowed rounded-xl border border-gray-200 bg-gray-50 px-3 py-2.5 text-sm text-gray-700"})]},Ge.label))}),h.jsxs("div",{className:"mt-8 flex items-center justify-end gap-3",children:[h.jsx("button",{onClick:()=>ot(!0),className:"rounded-lg cursor-pointer border border-red-600 px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50",children:"Delete Account"}),h.jsx(Ot,{to:`/admin/administrators/${t}/show`,className:"rounded-xl cursor-pointer border border-blue-600 px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50",children:"Show"}),h.jsx("button",{type:"button",onClick:()=>r(`/admin/administrators?page=${n}`),className:"rounded-xl cursor-pointer bg-white px-4 py-2 text-sm font-medium text-blue-700 shadow-sm ring-1 ring-blue-600/20 transition hover:bg-blue-50",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:f,className:"rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white cursor-pointer disabled:opacity-50",children:f?"Saving...":"Save"})]})]})]})]})]}),h.jsx(jP,{open:Di,onCancel:()=>ot(!1),onConfirm:()=>{ot(!1),alert("Deleted (demo). Hook API call here."),r(`/admin/administrators?page=${n}`)}})]})}const IP=({value:t})=>h.jsx("span",{className:"inline-flex h-7 min-w-14 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800 px-3 text-xs font-medium text-gray-600 dark:text-gray-400",children:t?"Yes":"No"});function PP(){const{id:t}=gl();console.log("agent value of the ID: ",t);const[e]=Su(),n=e.get("page")||"1",r=Jt(),[i,a]=T.useState(null),[l,c]=T.useState(!0),[d,f]=T.useState("");if(console.log("admin values",i),T.useEffect(()=>{let g=!1;return(async()=>{c(!0),f("");try{const x=await TM(t);g||a(x)}catch(x){g||f(x?.message||"Failed to load")}finally{g||c(!1)}})(),()=>{g=!0}},[t]),!l&&d)return r(`/admin/administrators?page=${n}`,{replace:!0}),null;const m=()=>r(`/admin/administrators?page=${n}`);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-40 bg-black/30",onClick:m}),h.jsx("aside",{className:"fixed right-0 top-0 z-50 h-full w-[440px] overflow-y-auto border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-6",children:l||!i?h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading"}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[h.jsx("button",{"aria-label":"Close",onClick:m,className:"inline-flex size-9 items-center justify-center rounded-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",title:"Close",children:h.jsxs("svg",{viewBox:"0 0 24 24",className:"size-5",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsx(Ot,{to:`/admin/administrators/${i._id}/edit`,className:"rounded-lg border border-blue-600 dark:border-blue-500 px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/50",children:"Edit"})})]}),h.jsx("h2",{className:"mb-6 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white",children:"Show"}),h.jsxs("div",{className:"space-y-6 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(MM,{src:i.photoUrl,alt:i.fullName||i.email,size:56,className:"rounded-xl"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-base font-semibold text-gray-900 dark:text-white",children:i.fullName||i.email}),h.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:i.email})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Agent ID"}),h.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:String(i.agentListId)})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Is Agent?"}),h.jsx(IP,{value:Array.isArray(i.roles)&&i.roles.includes("agent")})]}),Array.isArray(i.roles)&&i.roles.includes("agent")&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"MLS ID"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.mlsId||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"License Number"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.licenseNumber||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Licensed As"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.licensedAs||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Personal Real Estate Corporation Name"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.personalRealEstateCorporationName||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Licensed For"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.licensedFor||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Phone Number"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.phoneNumber||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Team Name"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.teamName||""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"About"}),h.jsx("div",{className:"whitespace-pre-wrap text-gray-900 dark:text-white",children:i.aboutUs||""})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Created"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.createdAt?new Date(i.createdAt).toISOString().replace("T"," ").slice(0,16):""})]}),h.jsxs("div",{children:[h.jsx("div",{className:"mb-1 text-gray-500 dark:text-gray-400",children:"Updated"}),h.jsx("div",{className:"text-gray-900 dark:text-white",children:i.updatedAt?new Date(i.updatedAt).toISOString().replace("T"," ").slice(0,16):""})]})]})]})]})})]})}var Sg={exports:{}},Ng={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function BP(){if(bS)return Ng;bS=1;var t=vu();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,x){var y=x(),w=r({inst:{value:y,getSnapshot:x}}),E=w[0].inst,S=w[1];return a(function(){E.value=y,E.getSnapshot=x,d(E)&&S({inst:E})},[g,y,x]),i(function(){return d(E)&&S({inst:E}),g(function(){d(E)&&S({inst:E})})},[g]),l(y),y}function d(g){var x=g.getSnapshot;g=g.value;try{var y=x();return!n(g,y)}catch{return!0}}function f(g,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Ng.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Ng}var xS;function AM(){return xS||(xS=1,Sg.exports=BP()),Sg.exports}var CM=AM();function Mn(t){this.content=t}Mn.prototype={constructor:Mn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),a=r.content.slice();return i==-1?a.push(n||t,e):(a[i+1]=e,n&&(a[i]=n)),new Mn(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Mn(n)},addToStart:function(t,e){return new Mn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Mn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),a=r.find(t);return i.splice(a==-1?i.length:a,0,e,n),new Mn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Mn.from(t),t.size?new Mn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Mn.from(t),t.size?new Mn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Mn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Mn.from=function(t){if(t instanceof Mn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Mn(e)};function _M(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),a=e.child(r);if(i==a){n+=i.nodeSize;continue}if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let l=0;i.text[l]==a.text[l];l++)n++;return n}if(i.content.size||a.content.size){let l=_M(i.content,a.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function RM(t,e,n,r){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:n,b:r};let l=t.child(--i),c=e.child(--a),d=l.nodeSize;if(l==c){n-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:n,b:r};if(l.isText&&l.text!=c.text){let f=0,m=Math.min(l.text.length,c.text.length);for(;f<m&&l.text[l.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||c.content.size){let f=RM(l.content,c.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class oe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,a){for(let l=0,c=0;c<n;l++){let d=this.content[l],f=c+d.nodeSize;if(f>e&&r(d,i+c,a||null,l)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,n-m),r,i+m)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let a="",l=!0;return this.nodesBetween(e,n,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(l?l=!1:a+=r),a+=f},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new oe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;d>e&&((l<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),r.push(c),i+=c.nodeSize),l=d}return new oe(r,i)}cutByIndex(e,n){return e==n?oe.empty:e==0&&n==this.content.length?this:new oe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),a=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new oe(i,a)}addToStart(e){return new oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return _M(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return RM(this,e,n,r)}findIndex(e){if(e==0)return Wd(0,e);if(e==this.size)return Wd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),a=r+i.nodeSize;if(a>=e)return a==e?Wd(n+1,a):Wd(n,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return oe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new oe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return oe.empty;let n,r=0;for(let i=0;i<e.length;i++){let a=e[i];r+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(n||(n=e.slice(0,i)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new oe(n||e,r)}static from(e){if(!e)return oe.empty;if(e instanceof oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}oe.empty=new oe([],0);const kg={index:0,offset:0};function Wd(t,e){return kg.index=t,kg.offset=e,kg}function Pf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Pf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Pf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Mt=class P0{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Pf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return P0.none;if(e instanceof P0)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Mt.none=[];class Bf extends Error{}class xe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=DM(this.content,e+this.openStart,n);return r&&new xe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new xe(OM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return xe.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xe(oe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new xe(e,r,i)}}xe.empty=new xe(oe.empty,0,0);function OM(t,e,n){let{index:r,offset:i}=t.findIndex(e),a=t.maybeChild(r),{index:l,offset:c}=t.findIndex(n);if(i==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,a.copy(OM(a.content,e-i-1,n-i-1)))}function DM(t,e,n,r){let{index:i,offset:a}=t.findIndex(e),l=t.maybeChild(i);if(a==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=DM(l.content,e-a-1,n,l);return c&&t.replaceChild(i,l.copy(c))}function zP(t,e,n){if(n.openStart>t.depth)throw new Bf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Bf("Inconsistent open depths");return jM(t,e,n,0)}function jM(t,e,n,r){let i=t.index(r),a=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=jM(t,e,n,r+1);return a.copy(a.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,c=l.content;return Ya(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=UP(n,t);return Ya(a,IM(t,l,c,e,r))}else return Ya(a,zf(t,e,r))}function LM(t,e){if(!e.type.compatibleContent(t.type))throw new Bf("Cannot join "+e.type.name+" onto "+t.type.name)}function B0(t,e,n){let r=t.node(n);return LM(r,e.node(n)),r}function Ka(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Uc(t,e,n,r){let i=(e||t).node(n),a=0,l=e?e.index(n):i.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&(Ka(t.nodeAfter,r),a++));for(let c=a;c<l;c++)Ka(i.child(c),r);e&&e.depth==n&&e.textOffset&&Ka(e.nodeBefore,r)}function Ya(t,e){return t.type.checkContent(e),t.copy(e)}function IM(t,e,n,r,i){let a=t.depth>i&&B0(t,e,i+1),l=r.depth>i&&B0(n,r,i+1),c=[];return Uc(null,t,i,c),a&&l&&e.index(i)==n.index(i)?(LM(a,l),Ka(Ya(a,IM(t,e,n,r,i+1)),c)):(a&&Ka(Ya(a,zf(t,e,i+1)),c),Uc(e,n,i,c),l&&Ka(Ya(l,zf(n,r,i+1)),c)),Uc(r,null,i,c),new oe(c)}function zf(t,e,n){let r=[];if(Uc(null,t,n,r),t.depth>n){let i=B0(t,e,n+1);Ka(Ya(i,zf(t,e,n+1)),r)}return Uc(e,null,n,r),new oe(r)}function UP(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)i=e.node(a).copy(oe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class lu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)i+=r.child(a).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Mt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let a=r.marks;for(var l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!i||!a[l].isInSet(i.marks))&&(a=a[l--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Uf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,a=n;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(a),f=a-d;if(r.push(l,c,i+d),!f||(l=l.child(c),l.isText))break;a=f-1,i+=d+1}return new lu(n,r,a)}static resolveCached(e,n){let r=yS.get(e);if(r)for(let a=0;a<r.elts.length;a++){let l=r.elts[a];if(l.pos==n)return l}else yS.set(e,r=new FP);let i=r.elts[r.i]=lu.resolve(e,n);return r.i=(r.i+1)%VP,i}}class FP{constructor(){this.elts=[],this.i=0}}const VP=12,yS=new WeakMap;class Uf{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const HP=Object.create(null);class ui{constructor(e,n,r,i=Mt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||oe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Pf(this.attrs,n||e.defaultAttrs||HP)&&Mt.sameSet(this.marks,r||Mt.none)}copy(e=null){return e==this.content?this:new ui(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ui(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return xe.empty;let i=this.resolve(e),a=this.resolve(n),l=r?0:i.sharedDepth(n),c=i.start(l),f=i.node(l).content.cut(i.pos-c,a.pos-c);return new xe(f,i.depth-l,a.depth-l)}replace(e,n,r){return zP(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return lu.resolveCached(this,e)}resolveNoCache(e){return lu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),PM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=oe.empty,i=0,a=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,a),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=i;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(r),l=a&&a.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Mt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Mt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=oe.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,i,r);return a.type.checkAttrs(a.attrs),a}}ui.prototype.text=void 0;class Ff extends ui{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):PM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ff(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ff(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function PM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Qa{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new $P(e,n);if(r.next==null)return Qa.empty;let i=BM(r);r.next&&r.err("Unexpected trailing text");let a=ZP(XP(i));return QP(a,r),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let a=n;i&&a<r;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function a(l,c){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return oe.from(c.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:m,next:g}=l.next[f];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let x=a(g,c.concat(m));if(x)return x}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(e)){let l=[];for(let c=i;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)a+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return a}).join(`
`)}}Qa.empty=new Qa(!0);class $P{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function BM(t){let e=[];do e.push(qP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function qP(t){let e=[];do e.push(GP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function GP(t){let e=WP(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KP(t,e);else break;return e}function vS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KP(t,e){let n=vS(t),r=n;return t.eat(",")&&(t.next!="}"?r=vS(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function YP(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let a in n){let l=n[a];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function WP(t){if(t.eat("(")){let e=BM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=YP(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function XP(t){let e=[[]];return i(a(t,0),n()),e;function n(){return e.push([])-1}function r(l,c,d){let f={term:d,to:c};return e[l].push(f),f}function i(l,c){l.forEach(d=>d.to=c)}function a(l,c){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(a(f,c)),[]);if(l.type=="seq")for(let d=0;;d++){let f=a(l.exprs[d],c);if(d==l.exprs.length-1)return f;i(f,c=n())}else if(l.type=="star"){let d=n();return r(c,d),i(a(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return i(a(l.expr,c),d),i(a(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(a(l.expr,c));if(l.type=="range"){let d=c;for(let f=0;f<l.min;f++){let m=n();i(a(l.expr,d),m),d=m}if(l.max==-1)i(a(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let m=n();r(d,m),i(a(l.expr,d),m),d=m}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function zM(t,e){return e-t}function wS(t,e){let n=[];return r(e),n.sort(zM);function r(i){let a=t[i];if(a.length==1&&!a[0].term)return r(a[0].to);n.push(i);for(let l=0;l<a.length;l++){let{term:c,to:d}=a[l];!c&&n.indexOf(d)==-1&&r(d)}}}function ZP(t){let e=Object.create(null);return n(wS(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let m=0;m<i.length;m++)i[m][0]==c&&(f=i[m][1]);wS(t,d).forEach(m=>{f||i.push([c,f=[]]),f.indexOf(m)==-1&&f.push(m)})})});let a=e[r.join(",")]=new Qa(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let c=i[l][1].sort(zM);a.next.push({type:i[l][0],next:e[c.join(",")]||n(c)})}return a}}function QP(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],a=!i.validEnd,l=[];for(let c=0;c<i.next.length;c++){let{type:d,next:f}=i.next[c];l.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(f)==-1&&r.push(f)}a&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function UM(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function FM(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let a=t[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function VM(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function HM(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new eB(t,r,e[r]);return n}let ES=class $M{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=HM(e,r.attrs),this.defaultAttrs=UM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:FM(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ui(this,this.computeAttrs(e),oe.from(n),Mt.setFrom(r))}createChecked(e=null,n,r){return n=oe.from(n),this.checkContent(n),new ui(this,this.computeAttrs(e),n,Mt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=oe.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),a=i&&i.fillBefore(oe.empty,!0);return a?new ui(this,e,n.append(a),Mt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){VM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Mt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((a,l)=>r[a]=new $M(a,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function JP(t,e,n){let r=n.split("|");return i=>{let a=i===null?"null":typeof i;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${a}`)}}class eB{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?JP(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ph{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=HM(e,i.attrs),this.excluded=null;let a=UM(this.attrs);this.instance=a?new Mt(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Mt(this,FM(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((a,l)=>r[a]=new Ph(a,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){VM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class qM{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Mn.from(e.nodes),n.marks=Mn.from(e.marks||{}),this.nodes=ES.compile(this.spec.nodes,this),this.marks=Ph.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],l=a.spec.content||"",c=a.spec.marks;if(a.contentMatch=r[l]||(r[l]=Qa.parse(l,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=c=="_"?null:c?SS(this,c.split(" ")):c==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],l=a.spec.excludes;a.excluded=l==null?[a]:l==""?[]:SS(this,l.split(" "))}this.nodeFromJSON=i=>ui.fromJSON(this,i),this.markFromJSON=i=>Mt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ES){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ff(r,r.defaultAttrs,e,Mt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function SS(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],a=t.marks[i],l=a;if(a)n.push(a);else for(let c in t.marks){let d=t.marks[c];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function tB(t){return t.tag!=null}function nB(t){return t.style!=null}class Qs{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(tB(i))this.tags.push(i);else if(nB(i)){let a=/[^=]*/.exec(i.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let r=new kS(this,n,!1);return r.addAll(e,Mt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new kS(this,n,!0);return r.addAll(e,Mt.none,n.from,n.to),xe.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(sB(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}matchStyle(e,n,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let l=this.styles[a],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let a=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<a)break}n.splice(l,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(l=>{r(l=TS(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(l=>{r(l=TS(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Qs(e,Qs.schemaRules(e)))}}const GM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},KM={ol:!0,ul:!0},cu=1,z0=2,Fc=4;function NS(t,e,n){return e!=null?(e?cu:0)|(e==="full"?z0:0):t&&t.whitespace=="pre"?cu|z0:n&~Fc}class Xd{constructor(e,n,r,i,a,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=Mt.none,this.match=a||(l&Fc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(oe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&cu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let n=oe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(oe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!GM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class kS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,a,l=NS(null,n.preserveWhitespace,0)|(r?Fc:0);i?a=new Xd(i.type,i.attrs,Mt.none,!0,n.topMatch||i.type.contentMatch,l):r?a=new Xd(null,null,Mt.none,!0,null,l):a=new Xd(e.schema.topNodeType,null,Mt.none,!0,null,l),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,a=i.options&z0?"full":this.localPreserveWS||(i.options&cu)>0,{schema:l}=this.parser;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)if(a==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let d=0;d<c.length;d++)d&&this.insertNode(l.linebreakReplacement.create(),n,!0),c[d]&&this.insertNode(l.text(c[d]),n,!/\S/.test(c[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=i.content[i.content.length-1],d=e.previousSibling;(!c||d&&d.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;KM.hasOwnProperty(l)&&this.parser.normalizeLists&&iB(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:rB.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,m=this.needsBlock;if(GM.hasOwnProperty(l))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),f=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=d&&d.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),f&&this.sync(a),this.needsBlock=m}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],l=r.getPropertyValue(a);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(a,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,i){let a,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,n.attrs||null,r,n.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(c)&&this.open--}addAll(e,n,r,i){let a=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];l!=c;l=l.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(l,n);this.findAtPoint(e,a)}findPlace(e,n,r){let i,a;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],f=d.findWrapping(e);if(f&&(!i||i.length>f.length+c)&&(i=f,a=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!i)return null;this.sync(a);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let l=Mt.none;for(let c of i.concat(e.marks))(a.type?a.type.allowsMarkType(c.type):MS(c.type,e.type))&&(l=c.addToSet(l));return a.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let a=this.findPlace(e.create(n),r,!1);return a&&(a=this.enterInner(e,n,r,!0,i)),a}enterInner(e,n,r,i=!1,a){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=NS(e,a,l.options);l.options&Fc&&l.content.length==0&&(c|=Fc);let d=Mt.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):MS(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Xd(e,n,d,i,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=cu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),l=(c,d)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;d>=a;d--)if(l(c-1,d))return!0;return!1}else{let m=d>0||d==0&&i?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!m||m.name!=f&&!m.isInGroup(f))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function iB(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&KM.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function sB(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function TS(t){let e={};for(let n in t)e[n]=t[n];return e}function MS(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let a=[],l=c=>{a.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:m}=c.edge(d);if(f==e||a.indexOf(m)<0&&l(m))return!0}};if(l(i.contentMatch))return!0}}class so{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Tg(n).createDocumentFragment());let i=r,a=[];return e.forEach(l=>{if(a.length||l.marks.length){let c=0,d=0;for(;c<a.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(a[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<a.length;)i=a.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],m=this.serializeMark(f,l.isInline,n);m&&(a.push([f,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Ef(Tg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Ef(Tg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Ef(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new so(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=AS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return AS(e.marks)}}function AS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Tg(t){return t.document||window.document}const CS=new WeakMap;function aB(t){let e=CS.get(t);return e===void 0&&CS.set(t,e=oB(t)),e}function oB(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Ef(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=aB(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let c,d=n?t.createElementNS(n,i):t.createElement(i),f=e[1],m=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){m=2;for(let g in f)if(f[g]!=null){let x=g.indexOf(" ");x>0?d.setAttributeNS(g.slice(0,x),g.slice(x+1),f[g]):g=="style"&&d.style?d.style.cssText=f[g]:d.setAttribute(g,f[g])}}for(let g=m;g<e.length;g++){let x=e[g];if(x===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:y,contentDOM:w}=Ef(t,x,n,r);if(d.appendChild(y),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:d,contentDOM:c}}const YM=65535,WM=Math.pow(2,16);function lB(t,e){return t+e*WM}function _S(t){return t&YM}function cB(t){return(t-(t&YM))/WM}const XM=1,ZM=2,Sf=4,QM=8;class U0{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&QM)>0}get deletedBefore(){return(this.delInfo&(XM|Sf))>0}get deletedAfter(){return(this.delInfo&(ZM|Sf))>0}get deletedAcross(){return(this.delInfo&Sf)>0}}class vr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vr.empty)return vr.empty}recover(e){let n=0,r=_S(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+cB(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let f=this.ranges[c+a],m=this.ranges[c+l],g=d+f;if(e<=g){let x=f?e==d?-1:e==g?1:n:n,y=d+i+(x<0?0:m);if(r)return y;let w=e==(n<0?d:g)?null:lB(c/3,e-d),E=e==d?ZM:e==g?XM:Sf;return(n<0?e!=d:e!=g)&&(E|=QM),new U0(y,E,w)}i+=m-f}return r?e+i:new U0(e+i,0,null)}touches(e,n){let r=0,i=_S(n),a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+a],m=d+f;if(e<=m&&c==i*3)return!0;r+=this.ranges[c+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let l=this.ranges[i],c=l-(this.inverted?a:0),d=l+(this.inverted?0:a),f=this.ranges[i+n],m=this.ranges[i+r];e(c,c+f,d,d+m),a+=m-f}}invert(){return new vr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vr.empty:new vr(e<0?[0,-e,0]:[0,0,e])}}vr.empty=new vr([]);class uu{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new uu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new uu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let a=this.from;a<this.to;a++){let l=this._maps[a],c=l.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new U0(e,i,null)}}const Mg=Object.create(null);class Fn{getMap(){return vr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Mg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Mg)throw new RangeError("Duplicate use of step JSON ID "+e);return Mg[e]=n,n.prototype.jsonID=e,n}}class on{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new on(e,null)}static fail(e){return new on(null,e)}static fromReplace(e,n,r,i){try{return on.ok(e.replace(n,r,i))}catch(a){if(a instanceof Bf)return on.fail(a.message);throw a}}}function lx(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(lx(a.content,e,a))),a.isInline&&(a=e(a,n,i)),r.push(a)}return oe.fromArray(r)}class Ws extends Fn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new xe(lx(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return on.fromReplace(e,this.from,this.to,a)}invert(){return new li(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ws(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ws&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ws(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ws(n.from,n.to,e.markFromJSON(n.mark))}}Fn.jsonID("addMark",Ws);class li extends Fn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new xe(lx(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return on.fromReplace(e,this.from,this.to,r)}invert(){return new Ws(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new li(n.pos,r.pos,this.mark)}merge(e){return e instanceof li&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new li(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new li(n.from,n.to,e.markFromJSON(n.mark))}}Fn.jsonID("removeMark",li);class Xs extends Fn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return on.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return on.fromReplace(e,this.pos,this.pos+1,new xe(oe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Xs(this.pos,n.marks[i]);return new Xs(this.pos,this.mark)}}return new Ja(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Xs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xs(n.pos,e.markFromJSON(n.mark))}}Fn.jsonID("addNodeMark",Xs);class Ja extends Fn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return on.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return on.fromReplace(e,this.pos,this.pos+1,new xe(oe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Xs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ja(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ja(n.pos,e.markFromJSON(n.mark))}}Fn.jsonID("removeNodeMark",Ja);class xn extends Fn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&F0(e,this.from,this.to)?on.fail("Structure replace would overwrite content"):on.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vr([this.from,this.to-this.from,this.slice.size])}invert(e){return new xn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new xn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof xn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?xe.empty:new xe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?xe.empty:new xe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xn(n.from,n.to,xe.fromJSON(e,n.slice),!!n.structure)}}Fn.jsonID("replace",xn);class yn extends Fn{constructor(e,n,r,i,a,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=l,this.structure=c}apply(e){if(this.structure&&(F0(e,this.from,this.gapFrom)||F0(e,this.gapTo,this.to)))return on.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return on.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?on.fromReplace(e,this.from,this.to,r):on.fail("Content does not fit in gap")}getMap(){return new vr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new yn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||a>r.pos?null:new yn(n.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yn(n.from,n.to,n.gapFrom,n.gapTo,xe.fromJSON(e,n.slice),n.insert,!!n.structure)}}Fn.jsonID("replaceAround",yn);function F0(t,e,n){let r=t.resolve(e),i=n-e,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let l=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function uB(t,e,n,r){let i=[],a=[],l,c;t.doc.nodesBetween(e,n,(d,f,m)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&m.type.allowsMarkType(r.type)){let x=Math.max(f,e),y=Math.min(f+d.nodeSize,n),w=r.addToSet(g);for(let E=0;E<g.length;E++)g[E].isInSet(w)||(l&&l.to==x&&l.mark.eq(g[E])?l.to=y:i.push(l=new li(x,y,g[E])));c&&c.to==x?c.to=y:a.push(c=new Ws(x,y,r))}}),i.forEach(d=>t.step(d)),a.forEach(d=>t.step(d))}function dB(t,e,n,r){let i=[],a=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;a++;let d=null;if(r instanceof Ph){let f=l.marks,m;for(;m=r.isInSet(f);)(d||(d=[])).push(m),f=m.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(c+l.nodeSize,n);for(let m=0;m<d.length;m++){let g=d[m],x;for(let y=0;y<i.length;y++){let w=i[y];w.step==a-1&&g.eq(i[y].style)&&(x=w)}x?(x.to=f,x.step=a):i.push({style:g,from:Math.max(c,e),to:f,step:a})}}}),i.forEach(l=>t.step(new li(l.from,l.to,l.style)))}function cx(t,e,n,r=n.contentMatch,i=!0){let a=t.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<a.childCount;d++){let f=a.child(d),m=c+f.nodeSize,g=r.matchType(f.type);if(!g)l.push(new xn(c,m,xe.empty));else{r=g;for(let x=0;x<f.marks.length;x++)n.allowsMarkType(f.marks[x].type)||t.step(new li(c,m,f.marks[x]));if(i&&f.isText&&n.whitespace!="pre"){let x,y=/\r?\n|\r/g,w;for(;x=y.exec(f.text);)w||(w=new xe(oe.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),l.push(new xn(c+x.index,c+x.index+x[0].length,w))}}c=m}if(!r.validEnd){let d=r.fillBefore(oe.empty,!0);t.replace(c,c,new xe(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function fB(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function wl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),a=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(a,l,n))return r;if(r==0||i.type.spec.isolating||!fB(i,a,l))break}return null}function hB(t,e,n){let{$from:r,$to:i,depth:a}=e,l=r.before(a+1),c=i.after(a+1),d=l,f=c,m=oe.empty,g=0;for(let w=a,E=!1;w>n;w--)E||r.index(w)>0?(E=!0,m=oe.from(r.node(w).copy(m)),g++):d--;let x=oe.empty,y=0;for(let w=a,E=!1;w>n;w--)E||i.after(w+1)<i.end(w)?(E=!0,x=oe.from(i.node(w).copy(x)),y++):f++;t.step(new yn(d,f,l,c,new xe(m.append(x),g,y),m.size-g,!0))}function ux(t,e,n=null,r=t){let i=pB(t,e),a=i&&mB(r,e);return a?i.map(RS).concat({type:e,attrs:n}).concat(a.map(RS)):null}function RS(t){return{type:t,attrs:null}}function pB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,a=n.contentMatchAt(r).findWrapping(e);if(!a)return null;let l=a.length?a[0]:e;return n.canReplaceWith(r,i,l)?a:null}function mB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,a=n.child(r),l=e.contentMatch.findWrapping(a.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:l}function gB(t,e,n){let r=oe.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let c=n[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=oe.from(n[l].type.create(n[l].attrs,r))}let i=e.start,a=e.end;t.step(new yn(i,a,i,a,new xe(r,0,0),n.length,!0))}function bB(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let d=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,d)&&xB(t.doc,t.mapping.slice(a).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!w?f=!1:!y&&w&&(f=!0)}f===!1&&eA(t,l,c,a),cx(t,t.mapping.slice(a).map(c,1),r,void 0,f===null);let m=t.mapping.slice(a),g=m.map(c,1),x=m.map(c+l.nodeSize,1);return t.step(new yn(g,x,g+1,x-1,new xe(oe.from(r.create(d,null,l.marks)),0,0),1,!0)),f===!0&&JM(t,l,c,a),!1}})}function JM(t,e,n,r){e.forEach((i,a)=>{if(i.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(i.text);){let d=t.mapping.slice(r).map(n+1+a+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function eA(t,e,n,r){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+a);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function xB(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function yB(t,e,n,r,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let l=n.create(r,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,l);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new yn(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new xe(oe.from(l),0,0),1,!0))}function ss(t,e,n=1,r){let i=t.resolve(e),a=i.depth-n,l=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,m=n-2;f>a;f--,m--){let g=i.node(f),x=i.index(f);if(g.type.spec.isolating)return!1;let y=g.content.cutByIndex(x,g.childCount),w=r&&r[m+1];w&&(y=y.replaceChild(0,w.type.create(w.attrs)));let E=r&&r[m]||g;if(!g.canReplace(x+1,g.childCount)||!E.type.validContent(y))return!1}let c=i.indexAfter(a),d=r&&r[0];return i.node(a).canReplaceWith(c,c,d?d.type:i.node(a+1).type)}function vB(t,e,n=1,r){let i=t.doc.resolve(e),a=oe.empty,l=oe.empty;for(let c=i.depth,d=i.depth-n,f=n-1;c>d;c--,f--){a=oe.from(i.node(c).copy(a));let m=r&&r[f];l=oe.from(m?m.type.create(m.attrs,l):i.node(c).copy(l))}t.step(new xn(e,e,new xe(a.append(l),n,n),!0))}function ua(t,e){let n=t.resolve(e),r=n.index();return tA(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function wB(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),l=a.type==r?t.type.schema.nodes.text:a.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function tA(t,e){return!!(t&&e&&!t.isLeaf&&wB(t,e))}function Bh(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let a,l,c=r.index(i);if(i==r.depth?(a=r.nodeBefore,l=r.nodeAfter):n>0?(a=r.node(i+1),c++,l=r.node(i).maybeChild(c)):(a=r.node(i).maybeChild(c-1),l=r.node(i+1)),a&&!a.isTextblock&&tA(a,l)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function EB(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-n),l=a.node().type;if(i&&l.inlineContent){let m=l.whitespace=="pre",g=!!l.contentMatch.matchType(i);m&&!g?r=!1:!m&&g&&(r=!0)}let c=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);eA(t,m.node(),m.before(),c)}l.inlineContent&&cx(t,e+n-1,l,a.node().contentMatchAt(a.index()),r==null);let d=t.mapping.slice(c),f=d.map(e-n);if(t.step(new xn(f,d.map(e+n,-1),xe.empty,!0)),r===!0){let m=t.doc.resolve(f);JM(t,m.node(),m.before(),t.steps.length)}return t}function SB(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,n))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,n))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function nA(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let a=0;a<n.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),f=r.node(l),m=!1;if(a==1)m=f.canReplace(d,d,i);else{let g=f.contentMatchAt(d).findWrapping(i.firstChild.type);m=g&&f.canReplaceWith(d,d,g[0])}if(m)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function zh(t,e,n=e,r=xe.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),a=t.resolve(n);return rA(i,a,r)?new xn(e,n,r):new NB(i,a,r).fit()}function rA(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class NB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=oe.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let a=this.placed,l=r.depth,c=i.depth;for(;l&&c&&a.childCount==1;)a=a.firstChild.content,l--,c--;let d=new xe(a,l,c);return e>-1?new yn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new xn(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let a=n.firstChild;if(n.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){e=r;break}n=a.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=Ag(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let l=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],m,g=null;if(n==1&&(l?f.matchType(l.type)||(g=f.fillBefore(oe.from(l),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:c,parent:a,inject:g};if(n==2&&l&&(m=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:a,wrap:m};if(a&&f.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Ag(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new xe(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Ag(e,n);if(i.childCount<=1&&n>0){let a=e.size-n<=n+i.size;this.unplaced=new xe(_c(e,n-1,1),n-1,a?n-1:r)}else this.unplaced=new xe(_c(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let E=0;E<a.length;E++)this.openFrontierNode(a[E]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,f=0,m=[],{match:g,type:x}=this.frontier[n];if(i){for(let E=0;E<i.childCount;E++)m.push(i.child(E));g=g.matchFragment(i)}let y=c.size+e-(l.content.size-l.openEnd);for(;f<c.childCount;){let E=c.child(f),S=g.matchType(E.type);if(!S)break;f++,(f>1||d==0||E.content.size)&&(g=S,m.push(iA(E.mark(x.allowedMarks(E.marks)),f==1?d:0,f==c.childCount?y:-1)))}let w=f==c.childCount;w||(y=-1),this.placed=Rc(this.placed,n,oe.from(m)),this.frontier[n].match=g,w&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,S=c;E<y;E++){let k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=w?e==0?xe.empty:new xe(_c(l.content,e-1,1),e-1,y<0?l.openEnd:e-1):new xe(_c(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Cg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Cg(e,n,i,r,a);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],m=Cg(e,c,f,d,!0);if(!m||m.childCount)continue e}return{depth:n,fit:l,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Rc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Rc(this.placed,this.depth,oe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(oe.empty,!0);n.childCount&&(this.placed=Rc(this.placed,this.frontier.length,n))}}function _c(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(_c(t.firstChild.content,e-1,n)))}function Rc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Rc(t.lastChild.content,e-1,n)))}function Ag(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function iA(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,iA(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(oe.empty,!0)))),t.copy(r)}function Cg(t,e,n,r,i){let a=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==a.childCount&&!n.compatibleContent(a.type))return null;let c=r.fillBefore(a.content,!0,l);return c&&!kB(n,a.content,l)?c:null}function kB(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function TB(t){return t.spec.defining||t.spec.definingForContent}function MB(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),a=t.doc.resolve(n);if(rA(i,a,r))return t.step(new xn(e,n,r));let l=aA(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(i.depth+1);l.unshift(c);for(let x=i.depth,y=i.pos-1;x>0;x--,y--){let w=i.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(x)>-1?c=x:i.before(x)==y&&l.splice(1,0,-x)}let d=l.indexOf(c),f=[],m=r.openStart;for(let x=r.content,y=0;;y++){let w=x.firstChild;if(f.push(w),y==r.openStart)break;x=w.content}for(let x=m-1;x>=0;x--){let y=f[x],w=TB(y.type);if(w&&!y.sameMarkup(i.node(Math.abs(c)-1)))m=x;else if(w||!y.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let y=(x+m+1)%(r.openStart+1),w=f[y];if(w)for(let E=0;E<l.length;E++){let S=l[(E+d)%l.length],k=!0;S<0&&(k=!1,S=-S);let _=i.node(S-1),A=i.index(S-1);if(_.canReplaceWith(A,A,w.type,w.marks))return t.replace(i.before(S),k?a.after(S):n,new xe(sA(r.content,0,r.openStart,y),y,r.openEnd))}}let g=t.steps.length;for(let x=l.length-1;x>=0&&(t.replace(e,n,r),!(t.steps.length>g));x--){let y=l[x];y<0||(e=i.before(y),n=a.after(y))}}function sA(t,e,n,r,i){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(sA(a.content,e+1,n,r,a)))}if(e>r){let a=i.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(oe.empty,!0))}return t}function AB(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=SB(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new xe(oe.from(r),0,0))}function CB(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),a=aA(r,i);for(let l=0;l<a.length;l++){let c=a[l],d=l==a.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function aA(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&n.push(i)}return n}class sl extends Fn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return on.fail("No node at attribute step's position");let r=Object.create(null);for(let a in n.attrs)r[a]=n.attrs[a];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return on.fromReplace(e,this.pos,this.pos+1,new xe(oe.from(i),0,n.isLeaf?0:1))}getMap(){return vr.empty}invert(e){return new sl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new sl(n.pos,n.attr,n.value)}}Fn.jsonID("attr",sl);class du extends Fn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return on.ok(r)}getMap(){return vr.empty}invert(e){return new du(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new du(n.attr,n.value)}}Fn.jsonID("docAttr",du);let cl=class extends Error{};cl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};cl.prototype=Object.create(Error.prototype);cl.prototype.constructor=cl;cl.prototype.name="TransformError";class oA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new uu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new cl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=xe.empty){let i=zh(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new xe(oe.from(r),0,0))}delete(e,n){return this.replace(e,n,xe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return MB(this,e,n,r),this}replaceRangeWith(e,n,r){return AB(this,e,n,r),this}deleteRange(e,n){return CB(this,e,n),this}lift(e,n){return hB(this,e,n),this}join(e,n=1){return EB(this,e,n),this}wrap(e,n){return gB(this,e,n),this}setBlockType(e,n=e,r,i=null){return bB(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return yB(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new sl(e,n,r)),this}setDocAttribute(e,n){return this.step(new du(e,n)),this}addNodeMark(e,n){return this.step(new Xs(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Mt)n.isInSet(r.marks)&&this.step(new Ja(e,n));else{let i=r.marks,a,l=[];for(;a=n.isInSet(i);)l.push(new Ja(e,a)),i=a.removeFromSet(i);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,n=1,r){return vB(this,e,n,r),this}addMark(e,n,r){return uB(this,e,n,r),this}removeMark(e,n,r){return dB(this,e,n,r),this}clearIncompatible(e,n,r){return cx(this,e,n,r),this}}const _g=Object.create(null);class tt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new _B(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=xe.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let a=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:f}=l[c],m=e.mapping.slice(a);e.replaceRange(m.map(d.pos),m.map(f.pos),c?xe.empty:n),c==0&&jS(e,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],d=e.mapping.slice(r),f=d.map(l.pos),m=d.map(c.pos);a?e.deleteRange(f,m):(e.replaceRangeWith(f,m,n),jS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ye(e):$o(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let a=e.depth-1;a>=0;a--){let l=n<0?$o(e.node(0),e.node(a),e.before(a+1),e.index(a),n,r):$o(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new wr(e.node(0))}static atStart(e){return $o(e,e,0,0,1)||new wr(e)}static atEnd(e){return $o(e,e,e.content.size,e.childCount,-1)||new wr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=_g[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in _g)throw new RangeError("Duplicate use of selection JSON ID "+e);return _g[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ye.between(this.$anchor,this.$head).getBookmark()}}tt.prototype.visible=!0;class _B{constructor(e,n){this.$from=e,this.$to=n}}let OS=!1;function DS(t){!OS&&!t.parent.inlineContent&&(OS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ye extends tt{constructor(e,n=e){DS(e),DS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return tt.near(r);let i=e.resolve(n.map(this.anchor));return new Ye(i.parent.inlineContent?i:r,r)}replace(e,n=xe.empty){if(super.replace(e,n),n==xe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Uh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let a=tt.findFrom(n,r,!0)||tt.findFrom(n,-r,!0);if(a)n=a.$head;else return tt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(tt.findFrom(e,-r,!0)||tt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ye(e,n)}}tt.jsonID("text",Ye);class Uh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Uh(e.map(this.anchor),e.map(this.head))}resolve(e){return Ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class je extends tt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),a=e.resolve(i);return r?tt.near(a):new je(a)}content(){return new xe(oe.from(this.node),0,0)}eq(e){return e instanceof je&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new dx(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new je(e.resolve(n.anchor))}static create(e,n){return new je(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}je.prototype.visible=!1;tt.jsonID("node",je);class dx{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Uh(r,r):new dx(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&je.isSelectable(r)?new je(n):tt.near(n)}}class wr extends tt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=xe.empty){if(n==xe.empty){e.delete(0,e.doc.content.size);let r=tt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new wr(e)}map(e){return new wr(e)}eq(e){return e instanceof wr}getBookmark(){return RB}}tt.jsonID("all",wr);const RB={map(){return this},resolve(t){return new wr(t)}};function $o(t,e,n,r,i,a=!1){if(e.inlineContent)return Ye.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let c=e.child(l);if(c.isAtom){if(!a&&je.isSelectable(c))return je.create(t,n-(i<0?c.nodeSize:0))}else{let d=$o(t,c,n+i,i<0?c.childCount:0,i,a);if(d)return d}n+=c.nodeSize*i}return null}function jS(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof xn||i instanceof yn))return;let a=t.mapping.maps[r],l;a.forEach((c,d,f,m)=>{l==null&&(l=m)}),t.setSelection(tt.near(t.doc.resolve(l),n))}const LS=1,Zd=2,IS=4;class OB extends oA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|LS)&~Zd,this.storedMarks=null,this}get selectionSet(){return(this.updated&LS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Zd,this}ensureMarks(e){return Mt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Zd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Zd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Mt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let a=this.storedMarks;if(!a){let l=this.doc.resolve(n);a=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,a)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(tt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=IS,this}get scrolledIntoView(){return(this.updated&IS)>0}}function PS(t,e){return!e||!t?t:t.bind(e)}class Oc{constructor(e,n,r){this.name=e,this.init=PS(n.init,r),this.apply=PS(n.apply,r)}}const DB=[new Oc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Oc("selection",{init(t,e){return t.selection||tt.atStart(e.doc)},apply(t){return t.selection}}),new Oc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Oc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Rg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=DB.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Oc(r.key,r.spec.state,r))})}}class nl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let a=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=i?i[l].n:0,f=i?i[l].state:this,m=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,f,r);if(m&&r.filterTransaction(m,l)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<l?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),a=!0}i&&(i[l]={state:r,n:n.length})}}if(!a)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new nl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new OB(this)}static create(e){let n=new Rg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new nl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Rg(this.schema,e.plugins),r=n.fields,i=new nl(n);for(let a=0;a<r.length;a++){let l=r[a].name;i[l]=this.hasOwnProperty(l)?this[l]:r[a].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],a=i.spec.state;a&&a.toJSON&&(n[r]=a.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Rg(e.schema,e.plugins),a=new nl(i);return i.fields.forEach(l=>{if(l.name=="doc")a.doc=ui.fromJSON(e.schema,n.doc);else if(l.name=="selection")a.selection=tt.fromJSON(a.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){a[l.name]=f.fromJSON.call(d,e,n[c],a);return}}a[l.name]=l.init(e,a)}}),a}}function lA(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=lA(i,e,{})),n[r]=i}return n}class Ut{constructor(e){this.spec=e,this.props={},e.props&&lA(e.props,this,this.props),this.key=e.key?e.key.key:cA("plugin")}getState(e){return e[this.key]}}const Og=Object.create(null);function cA(t){return t in Og?t+"$"+ ++Og[t]:(Og[t]=0,t+"$")}class fn{constructor(e="key"){this.key=cA(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const fx=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function uA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const dA=(t,e,n)=>{let r=uA(t,n);if(!r)return!1;let i=hx(r);if(!i){let l=r.blockRange(),c=l&&wl(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let a=i.nodeBefore;if(vA(t,i,e,-1))return!0;if(r.parent.content.size==0&&(ul(a,"end")||je.isSelectable(a)))for(let l=r.depth;;l--){let c=zh(t.doc,r.before(l),r.after(l),xe.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(ul(a,"end")?tt.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):je.create(d.doc,i.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return a.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},jB=(t,e,n)=>{let r=uA(t,n);if(!r)return!1;let i=hx(r);return i?fA(t,i,e):!1},LB=(t,e,n)=>{let r=pA(t,n);if(!r)return!1;let i=px(r);return i?fA(t,i,e):!1};function fA(t,e,n){let r=e.nodeBefore,i=r,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let f=zh(t.doc,a,d,xe.empty);if(!f||f.from!=a||f instanceof xn&&f.slice.size>=d-a)return!1;if(n){let m=t.tr.step(f);m.setSelection(Ye.create(m.doc,a)),n(m.scrollIntoView())}return!0}function ul(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const hA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;a=hx(r)}let l=a&&a.nodeBefore;return!l||!je.isSelectable(l)?!1:(e&&e(t.tr.setSelection(je.create(t.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)};function hx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function pA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const mA=(t,e,n)=>{let r=pA(t,n);if(!r)return!1;let i=px(r);if(!i)return!1;let a=i.nodeAfter;if(vA(t,i,e,1))return!0;if(r.parent.content.size==0&&(ul(a,"start")||je.isSelectable(a))){let l=zh(t.doc,r.before(),r.after(),xe.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(ul(a,"start")?tt.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):je.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},gA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;a=px(r)}let l=a&&a.nodeAfter;return!l||!je.isSelectable(l)?!1:(e&&e(t.tr.setSelection(je.create(t.doc,a.pos)).scrollIntoView()),!0)};function px(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const IB=(t,e)=>{let n=t.selection,r=n instanceof je,i;if(r){if(n.node.isTextblock||!ua(t.doc,n.from))return!1;i=n.from}else if(i=Bh(t.doc,n.from,-1),i==null)return!1;if(e){let a=t.tr.join(i);r&&a.setSelection(je.create(a.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},PB=(t,e)=>{let n=t.selection,r;if(n instanceof je){if(n.node.isTextblock||!ua(t.doc,n.to))return!1;r=n.to}else if(r=Bh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},BB=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),a=i&&wl(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},bA=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function mx(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zB=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),l=mx(i.contentMatchAt(a));if(!l||!i.canReplaceWith(a,a,l))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,l.createAndFill());d.setSelection(tt.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},xA=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof wr||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=mx(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(l,a.createAndFill());c.setSelection(Ye.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},yA=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(ss(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let r=n.blockRange(),i=r&&wl(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function UB(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof je&&e.selection.node.isBlock)return!r.parentOffset||!ss(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],l,c,d=!1,f=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){d=r.end(y)==r.pos+(r.depth-y),f=r.start(y)==r.pos-(r.depth-y),c=mx(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),a.unshift(d&&c?{type:c}:null),l=y;break}else{if(y==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof Ye||e.selection instanceof wr)&&m.deleteSelection();let g=m.mapping.map(r.pos),x=ss(m.doc,g,a.length,a);if(x||(a[0]=c?{type:c}:null,x=ss(m.doc,g,a.length,a)),!x)return!1;if(m.split(g,a.length,a),!d&&f&&r.node(l).type!=c){let y=m.mapping.map(r.before(l)),w=m.doc.resolve(y);c&&r.node(l-1).canReplaceWith(w.index(),w.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(l)),c)}return n&&n(m.scrollIntoView()),!0}}const FB=UB(),VB=(t,e)=>{let{$from:n,to:r}=t.selection,i,a=n.sharedDepth(r);return a==0?!1:(i=n.before(a),e&&e(t.tr.setSelection(je.create(t.doc,i))),!0)};function HB(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,a=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||ua(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function vA(t,e,n,r){let i=e.nodeBefore,a=e.nodeAfter,l,c,d=i.type.spec.isolating||a.type.spec.isolating;if(!d&&HB(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(c=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&c.matchType(l[0]||a.type).validEnd){if(n){let y=e.pos+a.nodeSize,w=oe.empty;for(let k=l.length-1;k>=0;k--)w=oe.from(l[k].create(null,w));w=oe.from(i.copy(w));let E=t.tr.step(new yn(e.pos-1,y,e.pos,y,new xe(w,1,0),l.length,!0)),S=E.doc.resolve(y+2*l.length);S.nodeAfter&&S.nodeAfter.type==i.type&&ua(E.doc,S.pos)&&E.join(S.pos),n(E.scrollIntoView())}return!0}let m=a.type.spec.isolating||r>0&&d?null:tt.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),x=g&&wl(g);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(g,x).scrollIntoView()),!0;if(f&&ul(a,"start",!0)&&ul(i,"end")){let y=i,w=[];for(;w.push(y),!y.isTextblock;)y=y.lastChild;let E=a,S=1;for(;!E.isTextblock;E=E.firstChild)S++;if(y.canReplace(y.childCount,y.childCount,E.content)){if(n){let k=oe.empty;for(let A=w.length-1;A>=0;A--)k=oe.from(w[A].copy(k));let _=t.tr.step(new yn(e.pos-w.length,e.pos+a.nodeSize,e.pos+S,e.pos+a.nodeSize-S,new xe(k,w.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function wA(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(n&&n(e.tr.setSelection(Ye.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const $B=wA(-1),qB=wA(1);function GB(t,e=null){return function(n,r){let{$from:i,$to:a}=n.selection,l=i.blockRange(a),c=l&&ux(l,t,e);return c?(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function BS(t,e=null){return function(n,r){let i=!1;for(let a=0;a<n.selection.ranges.length&&!i;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];n.doc.nodesBetween(l,c,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)i=!0;else{let m=n.doc.resolve(f),g=m.index();i=m.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(r){let a=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];a.setBlockType(c,d,t,e)}r(a.scrollIntoView())}return!0}}function gx(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}gx(fx,dA,hA);gx(fx,mA,gA);gx(bA,xA,yA,FB);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function KB(t,e=null){return function(n,r){let{$from:i,$to:a}=n.selection,l=i.blockRange(a);if(!l)return!1;let c=r?n.tr:null;return YB(c,l,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function YB(t,e,n,r=null){let i=!1,a=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);a=new Uf(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Uf(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=ux(a,n,r,e);return c?(t&&WB(t,e,c,i,n),!0):!1}function WB(t,e,n,r,i){let a=oe.empty;for(let m=n.length-1;m>=0;m--)a=oe.from(n[m].type.create(n[m].attrs,a));t.step(new yn(e.start-(r?2:0),e.end,e.start,e.end,new xe(a,0,0),n.length,!0));let l=0;for(let m=0;m<n.length;m++)n[m].type==i&&(l=m+1);let c=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let m=e.startIndex,g=e.endIndex,x=!0;m<g;m++,x=!1)!x&&ss(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(m).nodeSize;return t}function XB(t){return function(e,n){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return a?n?r.node(a.depth-1).type==t?ZB(e,n,t,a):QB(e,n,a):!0:!1}}function ZB(t,e,n,r){let i=t.tr,a=r.end,l=r.$to.end(r.depth);a<l&&(i.step(new yn(a-1,l,a,l,new xe(oe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Uf(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const c=wl(r);if(c==null)return!1;i.lift(r,c);let d=i.doc.resolve(i.mapping.map(a,-1)-1);return ua(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function QB(t,e,n){let r=t.tr,i=n.parent;for(let y=n.end,w=n.endIndex-1,E=n.startIndex;w>E;w--)y-=i.child(w).nodeSize,r.delete(y-1,y+1);let a=r.doc.resolve(n.start),l=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==i.childCount,f=a.node(-1),m=a.index(-1);if(!f.canReplace(m+(c?0:1),m+1,l.content.append(d?oe.empty:oe.from(i))))return!1;let g=a.pos,x=g+l.nodeSize;return r.step(new yn(g-(c?1:0),x+(d?1:0),g+1,x-1,new xe((c?oe.empty:oe.from(i.copy(oe.empty))).append(d?oe.empty:oe.from(i.copy(oe.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function JB(t){return function(e,n){let{$from:r,$to:i}=e.selection,a=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!a)return!1;let l=a.startIndex;if(l==0)return!1;let c=a.parent,d=c.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==c.type,m=oe.from(f?t.create():null),g=new xe(oe.from(t.create(null,oe.from(c.type.create(null,m)))),f?3:1,0),x=a.start,y=a.end;n(e.tr.step(new yn(x-(f?3:1),y,x,y,g,1,!0)).scrollIntoView())}return!0}}const Cn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},dl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let V0=null;const rs=function(t,e,n){let r=V0||(V0=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},e5=function(){V0=null},eo=function(t,e,n,r){return n&&(zS(t,e,n,r,-1)||zS(t,e,n,r,1))},t5=/^(img|br|input|textarea|hr)$/i;function zS(t,e,n,r,i){for(var a;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$r(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Au(t)||t5.test(t.nodeName)||t.contentEditable=="false")return!1;e=Cn(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((a=l.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?$r(t):0}else return!1}}function $r(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function n5(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=$r(t)}else if(t.parentNode&&!Au(t))e=Cn(t),t=t.parentNode;else return null}}function r5(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Au(t))e=Cn(t)+1,t=t.parentNode;else return null}}function i5(t,e,n){for(let r=e==0,i=e==$r(t);r||i;){if(t==n)return!0;let a=Cn(t);if(t=t.parentNode,!t)return!1;r=r&&a==0,i=i&&a==$r(t)}}function Au(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Fh=function(t){return t.focusNode&&eo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Pa(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function s5(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function a5(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min($r(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min($r(r.startContainer),r.startOffset)}}}const Ri=typeof navigator<"u"?navigator:null,US=typeof document<"u"?document:null,da=Ri&&Ri.userAgent||"",H0=/Edge\/(\d+)/.exec(da),EA=/MSIE \d/.exec(da),$0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(da),or=!!(EA||$0||H0),Js=EA?document.documentMode:$0?+$0[1]:H0?+H0[1]:0,Yr=!or&&/gecko\/(\d+)/i.test(da);Yr&&+(/Firefox\/(\d+)/.exec(da)||[0,0])[1];const q0=!or&&/Chrome\/(\d+)/.exec(da),zn=!!q0,SA=q0?+q0[1]:0,Yn=!or&&!!Ri&&/Apple Computer/.test(Ri.vendor),fl=Yn&&(/Mobile\/\w+/.test(da)||!!Ri&&Ri.maxTouchPoints>2),Hr=fl||(Ri?/Mac/.test(Ri.platform):!1),o5=Ri?/Win/.test(Ri.platform):!1,is=/Android \d/.test(da),Cu=!!US&&"webkitFontSmoothing"in US.documentElement.style,l5=Cu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function c5(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ji(t,e){return typeof t=="number"?t:t[e]}function u5(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function FS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=dl(l);continue}let c=l,d=c==a.body,f=d?c5(a):u5(c),m=0,g=0;if(e.top<f.top+Ji(r,"top")?g=-(f.top-e.top+Ji(i,"top")):e.bottom>f.bottom-Ji(r,"bottom")&&(g=e.bottom-e.top>f.bottom-f.top?e.top+Ji(i,"top")-f.top:e.bottom-f.bottom+Ji(i,"bottom")),e.left<f.left+Ji(r,"left")?m=-(f.left-e.left+Ji(i,"left")):e.right>f.right-Ji(r,"right")&&(m=e.right-f.right+Ji(i,"right")),m||g)if(d)a.defaultView.scrollBy(m,g);else{let y=c.scrollLeft,w=c.scrollTop;g&&(c.scrollTop+=g),m&&(c.scrollLeft+=m);let E=c.scrollLeft-y,S=c.scrollTop-w;e={left:e.left-E,top:e.top-S,right:e.right-E,bottom:e.bottom-S}}let x=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(x))break;l=x=="absolute"?l.offsetParent:dl(l)}}function d5(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let a=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(a,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,i=d.top;break}}return{refDOM:r,refTop:i,stack:NA(t.dom)}}function NA(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=dl(r));return e}function f5({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;kA(n,r==0?0:r-e)}function kA(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:a}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let Uo=null;function h5(t){if(t.setActive)return t.setActive();if(Uo)return t.focus(Uo);let e=NA(t);t.focus(Uo==null?{get preventScroll(){return Uo={preventScroll:!0},!0}}:void 0),Uo||(Uo=!1,kA(e,0))}function TA(t,e){let n,r=2e8,i,a=0,l=e.top,c=e.top,d,f;for(let m=t.firstChild,g=0;m;m=m.nextSibling,g++){let x;if(m.nodeType==1)x=m.getClientRects();else if(m.nodeType==3)x=rs(m).getClientRects();else continue;for(let y=0;y<x.length;y++){let w=x[y];if(w.top<=l&&w.bottom>=c){l=Math.max(w.bottom,l),c=Math.min(w.top,c);let E=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(E<r){n=m,r=E,i=E&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,m.nodeType==1&&E&&(a=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=m,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(a=g+1)}}return!n&&d&&(n=d,i=f,r=0),n&&n.nodeType==3?p5(n,i):!n||r&&n.nodeType==1?{node:t,offset:a}:TA(n,i)}function p5(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=Fs(r,1);if(a.top!=a.bottom&&bx(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function bx(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function m5(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function g5(t,e,n){let{node:r,offset:i}=TA(e,n),a=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();a=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,a)}function b5(t,e,n,r){let i=-1;for(let a=e,l=!1;a!=t.dom;){let c=t.docView.nearestDesc(a,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?i=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(i=c.posAfter),l=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;a=c.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function MA(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),a=i;;){let l=t.childNodes[a];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(bx(e,f))return MA(l,e,f)}}if((a=(a+1)%r)==i)break}return t}function x5(t,e){let n=t.dom.ownerDocument,r,i=0,a=a5(n,e.left,e.top);a&&({node:r,offset:i}=a);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!bx(e,f)||(l=MA(t.dom,e,f),!l))return null}if(Yn)for(let f=l;r&&f;f=dl(f))f.draggable&&(r=void 0);if(l=m5(l,e),r){if(Yr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let m=r.childNodes[i],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let f;Cu&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=b5(t,r,i,e))}c==null&&(c=g5(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function VS(t){return t.top<t.bottom||t.left<t.right}function Fs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(VS(r))return r}return Array.prototype.find.call(n,VS)||t.getBoundingClientRect()}const y5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function AA(t,e,n){let{node:r,offset:i,atom:a}=t.docView.domFromPos(e,n<0?-1:1),l=Cu||Yr;if(r.nodeType==3)if(l&&(y5.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=Fs(rs(r,i,i),n);if(Yr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Fs(rs(r,i-1,i-1),-1);if(f.top==d.top){let m=Fs(rs(r,i,i+1),-1);if(m.top!=d.top)return Nc(m,m.left<f.left)}}return d}else{let d=i,f=i,m=n<0?1:-1;return n<0&&!i?(f++,m=-1):n>=0&&i==r.nodeValue.length?(d--,m=1):n<0?d--:f++,Nc(Fs(rs(r,d,f),m),m<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(n<0||i==$r(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return Dg(d.getBoundingClientRect(),!1)}if(a==null&&i<$r(r)){let d=r.childNodes[i];if(d.nodeType==1)return Dg(d.getBoundingClientRect(),!0)}return Dg(r.getBoundingClientRect(),n>=0)}if(a==null&&i&&(n<0||i==$r(r))){let d=r.childNodes[i-1],f=d.nodeType==3?rs(d,$r(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return Nc(Fs(f,1),!1)}if(a==null&&i<$r(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?rs(d,0,l?0:1):d.nodeType==1?d:null:null;if(f)return Nc(Fs(f,-1),!0)}return Nc(Fs(r.nodeType==3?rs(r):r,-n),n>=0)}function Nc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Dg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function CA(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function v5(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return CA(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(a,!0);if(!c)break;if(c.node.isBlock){a=c.contentDOM||c.dom;break}a=c.dom.parentNode}let l=AA(t,i.pos,1);for(let c=a.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=rs(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let m=d[f];if(m.bottom>m.top+1&&(n=="up"?l.top-m.top>(m.bottom-l.top)*2:m.bottom-l.bottom>(l.bottom-m.top)*2))return!1}}return!0})}const w5=/[\u0590-\u08ac]/;function E5(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,l=i==r.parent.content.size,c=t.domSelection();return c?!w5.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?a:l:CA(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:m,anchorOffset:g}=t.domSelectionRange(),x=c.caretBidiLevel;c.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:E}=t.domSelectionRange(),S=w&&!y.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==E;try{c.collapse(m,g),d&&(d!=m||f!=g)&&c.extend&&c.extend(d,f)}catch{}return x!=null&&(c.caretBidiLevel=x),S}):r.pos==r.start()||r.pos==r.end()}let HS=null,$S=null,qS=!1;function S5(t,e,n){return HS==e&&$S==n?qS:(HS=e,$S=n,qS=n=="up"||n=="down"?v5(t,e,n):E5(t,e,n))}const Wr=0,GS=1,Fa=2,Oi=3;class _u{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Wr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,l;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}else{let a,l;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Cn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),l;if(a&&(!n||a.node))if(r&&(l=a.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],a=r+i.size;if(r==e&&a!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let c=i.children[l];if(c.size){i=c;break}}return i}if(e<a)return i.descAt(e-r-i.border);r=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let l=this.children[r],c=a+l.size;if(c>e||l instanceof RA){i=e-a;break}a=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof _A&&a.side>=0;r--);if(n<=0){let a,l=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,l=!1);return a&&n&&l&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Cn(a.dom)+1:0}}else{let a,l=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,l=!1);return a&&l&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Cn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let l=r,c=0;;c++){let d=this.children[c],f=l+d.size;if(i==-1&&e<=f){let m=l+d.border;if(e>=m&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,m);e=l;for(let g=c;g>0;g--){let x=this.children[g-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){i=Cn(x.dom)+1;break}e-=x.size}i==-1&&(i=0)}if(i>-1&&(f>n||c==this.children.length-1)){n=f;for(let m=c+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){a=Cn(g.dom);break}n+=g.size}a==-1&&(a=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let a=Math.min(e,n),l=Math.max(e,n);for(let y=0,w=0;y<this.children.length;y++){let E=this.children[y],S=w+E.size;if(a>w&&l<S)return E.setSelection(e-w-E.border,n-w-E.border,r,i);w=S}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),m=r.domSelectionRange(),g=!1;if((Yr||Yn)&&e==n){let{node:y,offset:w}=c;if(y.nodeType==3){if(g=!!(w&&y.nodeValue[w-1]==`
`),g&&w==y.nodeValue.length)for(let E=y,S;E;E=E.parentNode){if(S=E.nextSibling){S.nodeName=="BR"&&(c=d={node:S.parentNode,offset:Cn(S)+1});break}let k=E.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let E=y.childNodes[w-1];g=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Yr&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let y=m.focusNode.childNodes[m.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||g&&Yn)&&eo(c.node,c.offset,m.anchorNode,m.anchorOffset)&&eo(d.node,d.offset,m.focusNode,m.focusOffset))return;let x=!1;if((f.extend||e==n)&&!(g&&Yr)){f.collapse(c.node,c.offset);try{e!=n&&f.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(e>n){let w=c;c=d,d=w}let y=document.createRange();y.setEnd(d.node,d.offset),y.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],l=r+a.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let c=r+a.border,d=l-a.border;if(e>=c&&n<=d){this.dirty=e==r||n==l?Fa:GS,e==c&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Oi:a.markDirty(e-c,n-c);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Fa:Oi}r=l}this.dirty=Fa}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Fa:GS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class _A extends _u{constructor(e,n,r,i){let a,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==Wr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class N5 extends _u{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class to extends _u{constructor(e,n,r,i,a){super(e,[],r,i),this.mark=n,this.spec=a}static create(e,n,r,i){let a=i.nodeViews[n.type.name],l=a&&a(n,i,r);return(!l||!l.dom)&&(l=so.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new to(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Oi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Oi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Wr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Wr}}slice(e,n,r){let i=to.create(this.parent,this.mark,!0,r),a=this.children,l=this.size;n<l&&(a=K0(a,n,l,r)),e>0&&(a=K0(a,0,e,r));for(let c=0;c<a.length;c++)a[c].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ea extends _u{constructor(e,n,r,i,a,l,c,d,f){super(e,[],a,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,n,r,i,a,l){let c=a.nodeViews[n.type.name],d,f=c&&c(n,a,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,i),m=f&&f.dom,g=f&&f.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=so.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let x=m;return m=jA(m,r,n),f?d=new k5(e,n,r,i,m,g||null,x,f,a,l+1):n.isText?new Vh(e,n,r,i,m,x,a):new ea(e,n,r,i,m,g||null,x,a,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>oe.empty)}return e}matchesNode(e,n,r){return this.dirty==Wr&&e.eq(this.node)&&Vf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,a=e.composing?this.localCompositionInfo(e,n):null,l=a&&a.pos>-1?a:null,c=a&&a.pos<0,d=new M5(this,l&&l.node,e);_5(this.node,this.innerDeco,(f,m,g)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!g&&d.syncToMarks(m==this.node.childCount?Mt.none:this.node.child(m).marks,r,e),d.placeWidget(f,e,i)},(f,m,g,x)=>{d.syncToMarks(f.marks,r,e);let y;d.findNodeMatch(f,m,g,x)||c&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(y=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(f,m,g,y,e)||d.updateNextNode(f,m,g,e,x,i)||d.addNode(f,m,g,e,i),i+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Fa)&&(l&&this.protectLocalComposition(e,l),OA(this.contentDOM,this.children,e),fl&&R5(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ye)||r<n||i>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=O5(this.node.content,l,r-n,i-n);return c<0?null:{node:a,pos:c,text:l}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let l=new N5(this,a,n,i);e.input.compositionNodes.push(l),this.children=K0(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Oi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Wr}updateOuterDeco(e){if(Vf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=DA(this.dom,this.nodeDOM,G0(this.outerDeco,this.node,n),G0(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function KS(t,e,n,r,i){jA(r,e,t);let a=new ea(void 0,t,e,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Vh extends ea{constructor(e,n,r,i,a,l,c){super(e,n,r,i,a,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Oi||this.dirty!=Wr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Wr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Wr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),a=document.createTextNode(i.text);return new Vh(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Oi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class RA extends _u{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Wr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class k5 extends ea{constructor(e,n,r,i,a,l,c,d,f,m){super(e,n,r,i,a,l,c,f,m),this.spec=d}update(e,n,r,i){if(this.dirty==Oi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,r);return a&&this.updateInner(e,n,r,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function OA(t,e,n){let r=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let l=e[a],c=l.dom;if(c.parentNode==t){for(;c!=r;)r=YS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(l instanceof to){let d=r?r.previousSibling:t.lastChild;OA(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=YS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Vc=function(t){t&&(this.nodeName=t)};Vc.prototype=Object.create(null);const Va=[new Vc];function G0(t,e,n){if(t.length==0)return Va;let r=n?Va[0]:new Vc,i=[r];for(let a=0;a<t.length;a++){let l=t[a].type.attrs;if(l){l.nodeName&&i.push(r=new Vc(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&i.length==1&&i.push(r=new Vc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return i}function DA(t,e,n,r){if(n==Va&&r==Va)return e;let i=e;for(let a=0;a<r.length;a++){let l=r[a],c=n[a];if(a){let d;c&&c.nodeName==l.nodeName&&i!=t&&(d=i.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(i),c=Va[0]),i=d}T5(i,c||Va[0],l)}return i}function T5(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&t.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function jA(t,e,n){return DA(t,t,Va,G0(e,n,t.nodeType!=1))}function Vf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function YS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class M5{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=A5(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,a=this.stack.length>>1,l=Math.min(a,e.length);for(;i<l&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Wr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[a])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=to.create(this.top,e[a],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,n,r,i){let a=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))a=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,r,i,a){let l=this.top.children[i];return l.dirty==Oi&&l.dom==l.contentDOM&&(l.dirty=Fa),l.update(e,n,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,a,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof ea){let f=this.preMatch.matched.get(d);if(f!=null&&f!=a)return!1;let m=d.dom,g,x=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Oi&&Vf(n,d.outerDeco));if(!x&&d.update(e,n,r,i))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!x&&(g=this.recreateWrapper(d,e,n,r,i,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Fa,g.updateChildren(i,l+1),g.dirty=Wr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,a,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Vf(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=ea.create(this.top,n,r,i,a,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,i,a){let l=ea.create(this.top,e,n,r,i,a);l.contentDOM&&l.updateChildren(i,a+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new _A(this.top,e,n,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof to;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Vh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Yn||zn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new RA(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function A5(t,e){let n=e,r=n.children.length,i=t.childCount,a=new Map,l=[];e:for(;i>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof to)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(i-1))break;--i,a.set(c,i),l.push(c)}}return{index:i,matched:a,matches:l.reverse()}}function C5(t,e){return t.type.side-e.type.side}function _5(t,e,n,r){let i=e.locals(t),a=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let m=t.child(f);r(m,i,e.forChild(a,m),f),a+=m.nodeSize}return}let l=0,c=[],d=null;for(let f=0;;){let m,g;for(;l<i.length&&i[l].to==a;){let S=i[l++];S.widget&&(m?(g||(g=[m])).push(S):m=S)}if(m)if(g){g.sort(C5);for(let S=0;S<g.length;S++)n(g[S],f,!!d)}else n(m,f,!!d);let x,y;if(d)y=-1,x=d,d=null;else if(f<t.childCount)y=f,x=t.child(f++);else break;for(let S=0;S<c.length;S++)c[S].to<=a&&c.splice(S--,1);for(;l<i.length&&i[l].from<=a&&i[l].to>a;)c.push(i[l++]);let w=a+x.nodeSize;if(x.isText){let S=w;l<i.length&&i[l].from<S&&(S=i[l].from);for(let k=0;k<c.length;k++)c[k].to<S&&(S=c[k].to);S<w&&(d=x.cut(S-a),x=x.cut(0,S-a),w=S,y=-1)}else for(;l<i.length&&i[l].to<w;)l++;let E=x.isInline&&!x.isLeaf?c.filter(S=>!S.inline):c.slice();r(x,E,e.forChild(a,x),y),a=w}}function R5(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function O5(t,e,n,r){for(let i=0,a=0;i<t.childCount&&a<=r;){let l=t.child(i++),c=a;if(a+=l.nodeSize,!l.isText)continue;let d=l.text;for(;i<t.childCount;){let f=t.child(i++);if(a+=f.nodeSize,!f.isText)break;d+=f.text}if(a>=n){if(a>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function K0(t,e,n,r,i){let a=[];for(let l=0,c=0;l<t.length;l++){let d=t[l],f=c,m=c+=d.size;f>=n||m<=e?a.push(d):(f<e&&a.push(d.slice(0,e-f,r)),i&&(a.push(i),i=void 0),m>n&&a.push(d.slice(n-f,d.size,r)))}return a}function xx(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),a=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,f;if(Fh(n)){for(d=l;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&je.isSelectable(g)&&i.parent&&!(g.isInline&&i5(n.focusNode,n.focusOffset,i.dom))){let x=i.posBefore;f=new je(l==x?c:r.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=l,x=l;for(let y=0;y<n.rangeCount;y++){let w=n.getRangeAt(y);g=Math.min(g,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[d,l]=x==t.state.selection.anchor?[x,g]:[g,x],c=r.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!f){let g=e=="pointer"||t.state.selection.head<c.pos&&!a?1:-1;f=yx(t,m,c,g)}return f}function LA(t){return t.editable?t.hasFocus():PA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function as(t,e=!1){let n=t.state.selection;if(IA(t,n),!!LA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&eo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)j5(t);else{let{anchor:r,head:i}=n,a,l;WS&&!(n instanceof Ye)&&(n.$from.parent.inlineContent||(a=XS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=XS(t,n.to))),t.docView.setSelection(r,i,t,e),WS&&(a&&ZS(a),l&&ZS(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&D5(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const WS=Yn||zn&&SA<63;function XS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(Yn&&i&&i.contentEditable=="false")return jg(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return jg(i);if(a)return jg(a)}}function jg(t){return t.contentEditable="true",Yn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ZS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function D5(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!LA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function j5(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Cn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&or&&Js<=11&&(n.disabled=!0,n.disabled=!1)}function IA(t,e){if(e instanceof je){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(QS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else QS(t)}function QS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function yx(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ye.between(e,n,r)}function JS(t){return t.editable&&!t.hasFocus()?!1:PA(t)}function PA(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function L5(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return eo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Y0(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&tt.findFrom(a,e)}function Vs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function eN(t,e,n){let r=t.state.selection;if(r instanceof Ye)if(n.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Vs(t,new Ye(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Y0(t.state,e);return i&&i instanceof je?Vs(t,i):!1}else if(!(Hr&&n.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!a||a.isText)return!1;let c=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?je.isSelectable(a)?Vs(t,new je(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):Cu?Vs(t,new Ye(t.state.doc.resolve(e<0?c:c+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof je&&r.node.isInline)return Vs(t,new Ye(e>0?r.$to:r.$from));{let i=Y0(t.state,e);return i?Vs(t,i):!1}}}function Hf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Hc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Fo(t,e){return e<0?I5(t):P5(t)}function I5(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,a,l=!1;for(Yr&&n.nodeType==1&&r<Hf(n)&&Hc(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Hc(c,-1))i=n,a=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(BA(n))break;{let c=n.previousSibling;for(;c&&Hc(c,-1);)i=n.parentNode,a=Cn(c),c=c.previousSibling;if(c)n=c,r=Hf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?W0(t,n,r):i&&W0(t,i,a)}function P5(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Hf(n),a,l;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Hc(c,1))a=n,l=++r;else break}else{if(BA(n))break;{let c=n.nextSibling;for(;c&&Hc(c,1);)a=c.parentNode,l=Cn(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=Hf(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}a&&W0(t,a,l)}function BA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function B5(t,e){for(;t&&e==t.childNodes.length&&!Au(t);)e=Cn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function z5(t,e){for(;t&&!e&&!Au(t);)e=Cn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function W0(t,e,n){if(e.nodeType!=3){let a,l;(l=B5(e,n))?(e=l,n=0):(a=z5(e,n))&&(e=a,n=a.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Fh(r)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&as(t)},50)}function tN(t,e){let n=t.state.doc.resolve(e);if(!(zn||o5)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),l=(a.top+a.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),l=(a.top+a.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function nN(t,e,n){let r=t.state.selection;if(r instanceof Ye&&!r.empty||n.indexOf("s")>-1||Hr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Y0(t.state,e);if(l&&l instanceof je)return Vs(t,l)}if(!i.parent.inlineContent){let l=e<0?i:a,c=r instanceof wr?tt.near(l,e):tt.findFrom(l,e);return c?Vs(t,c):!1}return!1}function rN(t,e){if(!(t.state.selection instanceof Ye))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let l=t.state.tr;return e<0?l.delete(n.pos-a.nodeSize,n.pos):l.delete(n.pos,n.pos+a.nodeSize),t.dispatch(l),!0}return!1}function iN(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function U5(t){if(!Yn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;iN(t,r,"true"),setTimeout(()=>iN(t,r,"false"),20)}return!1}function F5(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function V5(t,e){let n=e.keyCode,r=F5(e);if(n==8||Hr&&n==72&&r=="c")return rN(t,-1)||Fo(t,-1);if(n==46&&!e.shiftKey||Hr&&n==68&&r=="c")return rN(t,1)||Fo(t,1);if(n==13||n==27)return!0;if(n==37||Hr&&n==66&&r=="c"){let i=n==37?tN(t,t.state.selection.from)=="ltr"?-1:1:-1;return eN(t,i,r)||Fo(t,i)}else if(n==39||Hr&&n==70&&r=="c"){let i=n==39?tN(t,t.state.selection.from)=="ltr"?1:-1:1;return eN(t,i,r)||Fo(t,i)}else{if(n==38||Hr&&n==80&&r=="c")return nN(t,-1,r)||Fo(t,-1);if(n==40||Hr&&n==78&&r=="c")return U5(t)||nN(t,1,r)||Fo(t,1);if(r==(Hr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function vx(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let l=t.someProp("clipboardSerializer")||so.fromSchema(t.state.schema),c=$A(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let f=d.firstChild,m,g=0;for(;f&&f.nodeType==1&&(m=HA[f.nodeName.toLowerCase()]);){for(let y=m.length-1;y>=0;y--){let w=c.createElement(m[y]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),g++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${a}${g?` -${g}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:x,slice:e}}function zA(t,e,n,r,i){let a=i.parent.type.spec.code,l,c;if(!n&&!e)return null;let d=!!e&&(r||a||!n);if(d){if(t.someProp("transformPastedText",x=>{e=x(e,a||r,t)}),a)return c=new xe(oe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{c=x(c,t,!0)}),c;let g=t.someProp("clipboardTextParser",x=>x(e,i,r,t));if(g)c=g;else{let x=i.marks(),{schema:y}=t.state,w=so.fromSchema(y);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let S=l.appendChild(document.createElement("p"));E&&S.appendChild(w.serializeNode(y.text(E,x)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),l=G5(n),Cu&&K5(l);let f=l&&l.querySelector("[data-pm-slice]"),m=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let x=l.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;l=x}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Qs.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||m),context:i,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!H5.test(x.parentNode.nodeName)?{ignore:!0}:null}})),m)c=Y5(sN(c,+m[1],+m[2]),m[4]);else if(c=xe.maxOpen($5(c.content,i),!0),c.openStart||c.openEnd){let g=0,x=0;for(let y=c.content.firstChild;g<c.openStart&&!y.type.spec.isolating;g++,y=y.firstChild);for(let y=c.content.lastChild;x<c.openEnd&&!y.type.spec.isolating;x++,y=y.lastChild);c=sN(c,g,x)}return t.someProp("transformPasted",g=>{c=g(c,t,d)}),c}const H5=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $5(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),a,l=[];if(t.forEach(c=>{if(!l)return;let d=i.findWrapping(c.type),f;if(!d)return l=null;if(f=l.length&&a.length&&FA(d,a,c,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=VA(l[l.length-1],a.length));let m=UA(c,d);l.push(m),i=i.matchType(m.type),a=d}}),l)return oe.from(l)}return t}function UA(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,oe.from(t));return t}function FA(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=FA(t,e,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(oe.from(UA(n,t,i+1))))}}function VA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,VA(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(oe.empty,!0);return t.copy(n.append(r))}function X0(t,e,n,r,i,a){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(a=0),i<r-1&&(c=X0(c,e,n,r,i+1,a)),i>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,a<=i).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(oe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function sN(t,e,n){return e<t.openStart&&(t=new xe(X0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new xe(X0(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const HA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let aN=null;function $A(){return aN||(aN=document.implementation.createHTMLDocument("title"))}let Lg=null;function q5(t){let e=window.trustedTypes;return e?(Lg||(Lg=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Lg.createHTML(t)):t}function G5(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=$A().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&HA[r[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=q5(t),i)for(let a=0;a<i.length;a++)n=n.querySelector(i[a])||n;return n}function K5(t){let e=t.querySelectorAll(zn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Y5(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:l}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;i=oe.from(d.create(r[c+1],i)),a++,l++}return new xe(i,a,l)}const Wn={},Xn={},W5={touchstart:!0,touchmove:!0};class X5{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Z5(t){for(let e in Wn){let n=Wn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{J5(t,r)&&!wx(t,r)&&(t.editable||!(r.type in Xn))&&n(t,r)},W5[e]?{passive:!0}:void 0)}Yn&&t.dom.addEventListener("input",()=>null),Z0(t)}function Zs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Q5(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Z0(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>wx(t,r))})}function wx(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function J5(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ez(t,e){!wx(t,e)&&Wn[e.type]&&(t.editable||!(e.type in Xn))&&Wn[e.type](t,e)}Xn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!GA(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(is&&zn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),fl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Pa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||V5(t,n)?n.preventDefault():Zs(t,"key")};Xn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Xn.keypress=(t,e)=>{let n=e;if(GA(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ye)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,a))&&t.dispatch(a()),n.preventDefault()}};function Hh(t){return{left:t.clientX,top:t.clientY}}function tz(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ex(t,e,n,r,i){if(r==-1)return!1;let a=t.state.doc.resolve(r);for(let l=a.depth+1;l>0;l--)if(t.someProp(e,c=>l>a.depth?c(t,n,a.nodeAfter,a.before(l),i,!0):c(t,n,a.node(l),a.before(l),i,!1)))return!0;return!1}function al(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function nz(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&je.isSelectable(r)?(al(t,new je(n)),!0):!1}function rz(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof je&&(r=n.node);let a=t.state.doc.resolve(e);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l);if(je.isSelectable(c)){r&&n.$from.depth>0&&l>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?i=a.before(n.$from.depth):i=a.before(l);break}}return i!=null?(al(t,je.create(t.state.doc,i)),!0):!1}function iz(t,e,n,r,i){return Ex(t,"handleClickOn",e,n,r)||t.someProp("handleClick",a=>a(t,e,r))||(i?rz(t,n):nz(t,n))}function sz(t,e,n,r){return Ex(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function az(t,e,n,r){return Ex(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||oz(t,n,r)}function oz(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(al(t,Ye.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a),c=i.before(a);if(l.inlineContent)al(t,Ye.create(r,c+1,c+1+l.content.size));else if(je.isSelectable(l))al(t,je.create(r,c));else continue;return!0}}function Sx(t){return $f(t)}const qA=Hr?"metaKey":"ctrlKey";Wn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Sx(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&tz(n,t.input.lastClick)&&!n[qA]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:a,button:n.button};let l=t.posAtCoords(Hh(n));l&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new lz(t,l,n,!!r)):(a=="doubleClick"?sz:az)(t,l.pos,l.inside,n)?n.preventDefault():Zs(t,"pointer"))};class lz{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[qA],this.allowDefault=r.shiftKey;let a,l;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),l=n.inside;else{let m=e.state.doc.resolve(n.pos);a=m.parent,l=m.depth?m.before():0}const c=i?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof je&&f.from<=l&&f.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Yr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>as(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Hh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Zs(this.view,"pointer"):iz(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Yn&&this.mightDrag&&!this.mightDrag.node.isAtom||zn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(al(this.view,tt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Zs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Zs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Wn.touchstart=t=>{t.input.lastTouch=Date.now(),Sx(t),Zs(t,"pointer")};Wn.touchmove=t=>{t.input.lastTouch=Date.now(),Zs(t,"pointer")};Wn.contextmenu=t=>Sx(t);function GA(t,e){return t.composing?!0:Yn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const cz=is?5e3:-1;Xn.compositionstart=Xn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),$f(t,!0),t.markCursor=null;else if($f(t,!e.selection.empty),Yr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let l=a<0?i.lastChild:i.childNodes[a-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else i=l,a=-1}}t.input.composing=!0}KA(t,cz)};Xn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,KA(t,20))};function KA(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>$f(t),e))}function YA(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=dz());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function uz(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=n5(e.focusNode,e.focusOffset),r=r5(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function dz(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function $f(t,e=!1){if(!(is&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),YA(t),e||t.docView&&t.docView.dirty){let n=xx(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function fz(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const fu=or&&Js<15||fl&&l5<604;Wn.copy=Xn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let a=fu?null:n.clipboardData,l=r.content(),{dom:c,text:d}=vx(t,l);a?(n.preventDefault(),a.clearData(),a.setData("text/html",c.innerHTML),a.setData("text/plain",d)):fz(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hz(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function pz(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?hu(t,r.value,null,i,e):hu(t,r.textContent,r.innerHTML,i,e)},50)}function hu(t,e,n,r,i){let a=zA(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,i,a||xe.empty)))return!0;if(!a)return!1;let l=hz(a),c=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(a);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function WA(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Xn.paste=(t,e)=>{let n=e;if(t.composing&&!is)return;let r=fu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&hu(t,WA(r),r.getData("text/html"),i,n)?n.preventDefault():pz(t,n)};class XA{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const mz=Hr?"altKey":"ctrlKey";function ZA(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[mz]}Wn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(Hh(n)),l;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof je?i.to-1:i.to))){if(r&&r.mightDrag)l=je.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(l=je.create(t.state.doc,g.posBefore))}}let c=(l||t.state.selection).content(),{dom:d,text:f,slice:m}=vx(t,c);(!n.dataTransfer.files.length||!zn||SA>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(fu?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",fu||n.dataTransfer.setData("text/plain",f),t.dragging=new XA(m,ZA(t,n),l)};Wn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Xn.dragover=Xn.dragenter=(t,e)=>e.preventDefault();Xn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Hh(n));if(!i)return;let a=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",w=>{l=w(l,t,!1)}):l=zA(t,WA(n.dataTransfer),fu?null:n.dataTransfer.getData("text/html"),!1,a);let c=!!(r&&ZA(t,n));if(t.someProp("handleDrop",w=>w(t,n,l||xe.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?nA(t.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let f=t.state.tr;if(c){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let m=f.mapping.map(d),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,x=f.doc;if(g?f.replaceRangeWith(m,m,l.content.firstChild):f.replaceRange(m,m,l),f.doc.eq(x))return;let y=f.doc.resolve(m);if(g&&je.isSelectable(l.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new je(y));else{let w=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((E,S,k,_)=>w=_),f.setSelection(yx(t,y,f.doc.resolve(w)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Wn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&as(t)},20))};Wn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Wn.beforeinput=(t,e)=>{if(zn&&is&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Pa(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Xn)Wn[t]=Xn[t];function pu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class qf{constructor(e,n){this.toDOM=e,this.spec=n||Wa,this.side=this.spec.side||0}map(e,n,r,i){let{pos:a,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Un(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof qf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&pu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ta{constructor(e,n){this.attrs=e,this.spec=n||Wa}map(e,n,r,i){let a=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=l?null:new Un(a,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ta&&pu(this.attrs,e.attrs)&&pu(this.spec,e.spec)}static is(e){return e.type instanceof ta}destroy(){}}class Nx{constructor(e,n){this.attrs=e,this.spec=n||Wa}map(e,n,r,i){let a=e.mapResult(n.from+i,1);if(a.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=a.pos?null:new Un(a.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),a;return i==n.from&&!(a=e.child(r)).isText&&i+a.nodeSize==n.to}eq(e){return this==e||e instanceof Nx&&pu(this.attrs,e.attrs)&&pu(this.spec,e.spec)}destroy(){}}class Un{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Un(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Un(e,e,new qf(n,r))}static inline(e,n,r,i){return new Un(e,n,new ta(r,i))}static node(e,n,r,i){return new Un(e,n,new Nx(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ta}get widget(){return this.type instanceof qf}}const qo=[],Wa={};class It{constructor(e,n){this.local=e.length?e:qo,this.children=n.length?n:qo}static create(e,n){return n.length?Gf(n,e,0,Wa):Pn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,a){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!a||a(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,r,i+c,a)}}map(e,n,r){return this==Pn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Wa)}mapInner(e,n,r,i,a){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,i);d&&d.type.valid(n,d)?(l||(l=[])).push(d):a.onRemove&&a.onRemove(this.local[c].spec)}return this.children.length?gz(this.children,l||[],e,n,r,i,a):l?new It(l.sort(Xa),qo):Pn}add(e,n){return n.length?this==Pn?It.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,a=0;e.forEach((c,d)=>{let f=d+r,m;if(m=JA(n,c,f)){for(i||(i=this.children.slice());a<i.length&&i[a]<d;)a+=3;i[a]==d?i[a+2]=i[a+2].addInner(c,m,f+1):i.splice(a,0,d,d+c.nodeSize,Gf(m,c,f+1,Wa)),a+=3}});let l=QA(a?eC(n):n,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new It(l.length?this.local.concat(l).sort(Xa):this.local,i||this.children)}remove(e){return e.length==0||this==Pn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let l,c=r[a]+n,d=r[a+1]+n;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>c&&g.to<d&&(e[m]=null,(l||(l=[])).push(g));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[a+2].removeInner(l,c+1);f!=Pn?r[a+2]=f:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,l;a<e.length;a++)if(l=e[a])for(let c=0;c<i.length;c++)i[c].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new It(i,r):Pn}forChild(e,n){if(this==Pn)return this;if(n.isLeaf)return It.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let a=e+1,l=a+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>a&&d.type instanceof ta){let f=Math.max(a,d.from)-a,m=Math.min(l,d.to)-a;f<m&&(i||(i=[])).push(d.copy(f,m))}}if(i){let c=new It(i.sort(Xa),qo);return r?new Ks([c,r]):c}return r||Pn}eq(e){if(this==e)return!0;if(!(e instanceof It)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return kx(this.localsInner(e))}localsInner(e){if(this==Pn)return qo;if(e.inlineContent||!this.local.some(ta.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ta||n.push(this.local[r]);return n}forEachSet(e){e(this)}}It.empty=new It([],[]);It.removeOverlap=kx;const Pn=It.empty;class Ks{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Wa));return Ks.from(r)}forChild(e,n){if(n.isLeaf)return It.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,n);a!=Pn&&(a instanceof Ks?r=r.concat(a.members):r.push(a))}return Ks.from(r)}eq(e){if(!(e instanceof Ks)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!n)n=a;else{r&&(n=n.slice(),r=!1);for(let l=0;l<a.length;l++)n.push(a[l])}}return n?kx(r?n:n.sort(Xa)):qo}static from(e){switch(e.length){case 0:return Pn;case 1:return e[0];default:return new Ks(e.every(n=>n instanceof It)?e:e.reduce((n,r)=>n.concat(r instanceof It?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function gz(t,e,n,r,i,a,l){let c=t.slice();for(let f=0,m=a;f<n.maps.length;f++){let g=0;n.maps[f].forEach((x,y,w,E)=>{let S=E-w-(y-x);for(let k=0;k<c.length;k+=3){let _=c[k+1];if(_<0||x>_+m-g)continue;let A=c[k]+m-g;y>=A?c[k+1]=x<=A?-2:-1:x>=m&&S&&(c[k]+=S,c[k+1]+=S)}g+=S}),m=n.maps[f].map(m,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let m=n.map(t[f]+a),g=m-i;if(g<0||g>=r.content.size){d=!0;continue}let x=n.map(t[f+1]+a,-1),y=x-i,{index:w,offset:E}=r.content.findIndex(g),S=r.maybeChild(w);if(S&&E==g&&E+S.nodeSize==y){let k=c[f+2].mapInner(n,S,m+1,t[f]+a+1,l);k!=Pn?(c[f]=g,c[f+1]=y,c[f+2]=k):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=bz(c,t,e,n,i,a,l),m=Gf(f,r,0,l);e=m.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,x=0;g<m.children.length;g+=3){let y=m.children[g];for(;x<c.length&&c[x]<y;)x+=3;c.splice(x,0,m.children[g],m.children[g+1],m.children[g+2])}}return new It(e.sort(Xa),c)}function QA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Un(i.from+e,i.to+e,i.type))}return n}function bz(t,e,n,r,i,a,l){function c(d,f){for(let m=0;m<d.local.length;m++){let g=d.local[m].map(r,i,f);g?n.push(g):l.onRemove&&l.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+a+1);return n}function JA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let a=0,l;a<t.length;a++)(l=t[a])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[a]=null);return i}function eC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Gf(t,e,n,r){let i=[],a=!1;e.forEach((c,d)=>{let f=JA(t,c,d+n);if(f){a=!0;let m=Gf(f,c,n+d+1,r);m!=Pn&&i.push(d,d+c.nodeSize,m)}});let l=QA(a?eC(t):t,-n).sort(Xa);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||i.length?new It(l,i):Pn}function Xa(t,e){return t.from-e.from||t.to-e.to}function kx(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let a=e[i];if(a.from==r.from){a.to!=r.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,r.to),oN(e,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,a.from),oN(e,i,r.copy(a.from,r.to)));break}}}return e}function oN(t,e,n){for(;e<t.length&&Xa(n,t[e])>0;)e++;t.splice(e,0,n)}function Ig(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Pn&&e.push(r)}),t.cursorWrapper&&e.push(It.create(t.state.doc,[t.cursorWrapper.deco])),Ks.from(e)}const xz={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yz=or&&Js<=11;class vz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class wz{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new vz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);or&&Js<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),yz&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xz)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(JS(this.view)){if(this.suppressingSelectionUpdates)return as(this.view);if(or&&Js<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&eo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let a=e.focusNode;a;a=dl(a))n.add(a);for(let a=e.anchorNode;a;a=dl(a))if(n.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&JS(e)&&!this.ignoreSelectionChange(r),a=-1,l=-1,c=!1,d=[];if(e.editable)for(let m=0;m<n.length;m++){let g=this.registerMutation(n[m],d);g&&(a=a<0?g.from:Math.min(g.from,a),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(c=!0))}if(Yr&&d.length){let m=d.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,x]=m;g.parentNode&&g.parentNode.parentNode==x.parentNode?x.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let x of m){let y=x.parentNode;y&&y.nodeName=="LI"&&(!g||Nz(e,g)!=y)&&x.remove()}}}let f=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Fh(r)&&(f=xx(e))&&f.eq(tt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,as(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,l),Ez(e)),this.handleDOMChange(a,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||as(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,a=e.nextSibling;if(or&&Js<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:x}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(a=x)}let l=i&&i.parentNode==e.target?Cn(i)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=a&&a.parentNode==e.target?Cn(a):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let lN=new WeakMap,cN=!1;function Ez(t){if(!lN.has(t)&&(lN.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Yr,cN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cN=!0}}function uN(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return eo(l.node,l.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function Sz(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return uN(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?uN(t,n):null}function Nz(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function kz(t,e,n){let{node:r,fromOffset:i,toOffset:a,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,m=d.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(f=[{node:m,offset:d.anchorOffset}],Fh(d)||f.push({node:d.focusNode,offset:d.focusOffset})),zn&&t.input.lastKeyCode===8)for(let S=a;S>i;S--){let k=r.childNodes[S-1],_=k.pmViewDesc;if(k.nodeName=="BR"&&!_){a=S;break}if(!_||_.size)break}let g=t.state.doc,x=t.someProp("domParser")||Qs.fromSchema(t.state.schema),y=g.resolve(l),w=null,E=x.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:a,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Tz,context:y});if(f&&f[0].pos!=null){let S=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=S),w={anchor:S+l,head:k+l}}return{doc:E,sel:w,from:l,to:c}}function Tz(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Yn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Yn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Mz=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Az(t,e,n,r,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,$=xx(t,L);if($&&!t.state.selection.eq($)){if(zn&&is&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",pe=>pe(t,Pa(13,"Enter"))))return;let J=t.state.tr.setSelection($);L=="pointer"?J.setMeta("pointer",!0):L=="key"&&J.scrollIntoView(),a&&J.setMeta("composition",a),t.dispatch(J)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,f=kz(t,e,n),m=t.state.doc,g=m.slice(f.from,f.to),x,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,y="end"):(x=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let w=Rz(g.content,f.doc.content,f.from,x,y);if(w&&t.input.domChangeCount++,(fl&&t.input.lastIOSEnter>Date.now()-225||is)&&i.some(L=>L.nodeType==1&&!Mz.test(L.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",L=>L(t,Pa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof Ye&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let L=dN(t,t.state.doc,f.sel);if(L&&!L.eq(t.state.selection)){let $=t.state.tr.setSelection(L);a&&$.setMeta("composition",a),t.dispatch($)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ye&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),or&&Js<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let E=f.doc.resolveNoCache(w.start-f.from),S=f.doc.resolveNoCache(w.endB-f.from),k=m.resolve(w.start),_=E.sameParent(S)&&E.parent.inlineContent&&k.end()>=w.endA;if((fl&&t.input.lastIOSEnter>Date.now()-225&&(!_||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!_&&E.pos<f.doc.content.size&&(!E.sameParent(S)||!E.parent.inlineContent)&&E.pos<S.pos&&!/\S/.test(f.doc.textBetween(E.pos,S.pos,"","")))&&t.someProp("handleKeyDown",L=>L(t,Pa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&_z(m,w.start,w.endA,E,S)&&t.someProp("handleKeyDown",L=>L(t,Pa(8,"Backspace")))){is&&zn&&t.domObserver.suppressSelectionUpdates();return}zn&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),is&&!_&&E.start()!=S.start()&&S.parentOffset==0&&E.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,S=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Pa(13,"Enter"))})},20));let A=w.start,P=w.endA,O=L=>{let $=L||t.state.tr.replace(A,P,f.doc.slice(w.start-f.from,w.endB-f.from));if(f.sel){let J=dN(t,$.doc,f.sel);J&&!(zn&&t.composing&&J.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(J.head==A||J.head==$.mapping.map(P)-1)||or&&J.empty&&J.head==A)&&$.setSelection(J)}return a&&$.setMeta("composition",a),$.scrollIntoView()},C;if(_)if(E.pos==S.pos){or&&Js<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>as(t),20));let L=O(t.state.tr.delete(A,P)),$=m.resolve(w.start).marksAcross(m.resolve(w.endA));$&&L.ensureMarks($),t.dispatch(L)}else if(w.endA==w.endB&&(C=Cz(E.parent.content.cut(E.parentOffset,S.parentOffset),k.parent.content.cut(k.parentOffset,w.endA-k.start())))){let L=O(t.state.tr);C.type=="add"?L.addMark(A,P,C.mark):L.removeMark(A,P,C.mark),t.dispatch(L)}else if(E.parent.child(E.index()).isText&&E.index()==S.index()-(S.textOffset?0:1)){let L=E.parent.textBetween(E.parentOffset,S.parentOffset),$=()=>O(t.state.tr.insertText(L,A,P));t.someProp("handleTextInput",J=>J(t,A,P,L,$))||t.dispatch($())}else t.dispatch(O());else t.dispatch(O())}function dN(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:yx(t,e.resolve(n.anchor),e.resolve(n.head))}function Cz(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,a=r,l,c,d;for(let m=0;m<r.length;m++)i=r[m].removeFromSet(i);for(let m=0;m<n.length;m++)a=n[m].removeFromSet(a);if(i.length==1&&a.length==0)c=i[0],l="add",d=m=>m.mark(c.addToSet(m.marks));else if(i.length==0&&a.length==1)c=a[0],l="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let f=[];for(let m=0;m<e.childCount;m++)f.push(d(e.child(m)));if(oe.from(f).eq(t))return{mark:c,type:l}}function _z(t,e,n,r,i){if(n-e<=i.pos-r.pos||Pg(r,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!r.parent.isTextblock){let c=a.nodeAfter;return c!=null&&n==e+c.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let l=t.resolve(Pg(a,!0,!0));return!l.parent.isTextblock||l.pos>n||Pg(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Pg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let a=t.node(r).maybeChild(t.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function Rz(t,e,n,r,i){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let d=Math.max(0,a-Math.min(l,c));r-=l+d-a}if(l<a&&t.size<e.size){let d=r<=a&&r>=l?a-r:0;a-=d,a&&a<e.size&&fN(e.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-l),l=a}else if(c<a){let d=r<=a&&r>=c?a-r:0;a-=d,a&&a<t.size&&fN(t.textBetween(a-1,a+1))&&(a+=d?1:-1),l=a+(l-c),c=a}return{start:a,endA:l,endB:c}}function fN(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class tC{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new X5,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(bN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=mN(this),pN(this),this.nodeViews=gN(this),this.docView=KS(this.state.doc,hN(this),Ig(this),this.dom,this),this.domObserver=new wz(this,(r,i,a,l)=>Az(this,r,i,a,l)),this.domObserver.start(),Z5(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Z0(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(bN),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,a=!1,l=!1;e.storedMarks&&this.composing&&(YA(this),l=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=gN(this);Dz(y,this.nodeViews)&&(this.nodeViews=y,a=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Z0(this),this.editable=mN(this),pN(this);let d=Ig(this),f=hN(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=a||!this.docView.matchesNode(e.doc,f,d);(g||!e.selection.eq(i.selection))&&(l=!0);let x=m=="preserve"&&l&&this.dom.style.overflowAnchor==null&&d5(this);if(l){this.domObserver.stop();let y=g&&(or||zn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Oz(i.selection,e.selection);if(g){let w=zn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=uz(this)),(a||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=KS(e.doc,f,d,this.dom,this)),w&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&L5(this))?as(this,y):(IA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():x&&f5(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof je){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&FS(this,n.getBoundingClientRect(),e)}else FS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new XA(e.slice,e.move,i<0?void 0:je.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(i=n?n(c):c))return i}let a=this.state.plugins;if(a)for(let l=0;l<a.length;l++){let c=a[l].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(or){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&h5(this.dom),as(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return x5(this,e)}coordsAtPos(e,n=1){return AA(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return S5(this,n||this.state,e)}pasteHTML(e,n){return hu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return hu(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return vx(this,e)}destroy(){this.docView&&(Q5(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ig(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,e5())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ez(this,e)}domSelectionRange(){let e=this.domSelection();return e?Yn&&this.root.nodeType===11&&s5(this.dom.ownerDocument)==this.dom&&Sz(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}tC.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function hN(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Un.node(0,t.state.doc.content.size,e)]}function pN(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Un.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function mN(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Oz(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function gN(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Dz(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function bN(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var aa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Kf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jz=typeof navigator<"u"&&/Mac/.test(navigator.platform),Lz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _n=0;_n<10;_n++)aa[48+_n]=aa[96+_n]=String(_n);for(var _n=1;_n<=24;_n++)aa[_n+111]="F"+_n;for(var _n=65;_n<=90;_n++)aa[_n]=String.fromCharCode(_n+32),Kf[_n]=String.fromCharCode(_n);for(var Bg in aa)Kf.hasOwnProperty(Bg)||(Kf[Bg]=aa[Bg]);function Iz(t){var e=jz&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Lz&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Kf:aa)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Pz=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Bz=typeof navigator<"u"&&/Win/.test(navigator.platform);function zz(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,a,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))Pz?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function Uz(t){let e=Object.create(null);for(let n in t)e[zz(n)]=t[n];return e}function zg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Fz(t){return new Ut({props:{handleKeyDown:nC(t)}})}function nC(t){let e=Uz(t);return function(n,r){let i=Iz(r),a,l=e[zg(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[zg(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Bz&&r.ctrlKey&&r.altKey)&&(a=aa[r.keyCode])&&a!=i){let c=e[zg(a,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var Vz=Object.defineProperty,Tx=(t,e)=>{for(var n in e)Vz(t,n,{get:e[n],enumerable:!0})};function $h(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,a=n.storedMarks,n}}}var qh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,a=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...f)=>{const m=c(...f)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,l=[],c=!!t,d=t||i.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),l.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(n).map(([g,x])=>[g,(...w)=>{const E=this.buildProps(d,e),S=x(...w)(E);return l.push(S),m}])),run:f};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,a=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:a}=r,l={tr:t,editor:r,view:a,state:$h({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)(l)]))}};return l}},rC={};Tx(rC,{blur:()=>Hz,clearContent:()=>$z,clearNodes:()=>qz,command:()=>Gz,createParagraphNear:()=>Kz,cut:()=>Yz,deleteCurrentNode:()=>Wz,deleteNode:()=>Xz,deleteRange:()=>Zz,deleteSelection:()=>Qz,enter:()=>Jz,exitCode:()=>eU,extendMarkRange:()=>tU,first:()=>nU,focus:()=>iU,forEach:()=>sU,insertContent:()=>aU,insertContentAt:()=>cU,joinBackward:()=>fU,joinDown:()=>dU,joinForward:()=>hU,joinItemBackward:()=>pU,joinItemForward:()=>mU,joinTextblockBackward:()=>gU,joinTextblockForward:()=>bU,joinUp:()=>uU,keyboardShortcut:()=>yU,lift:()=>vU,liftEmptyBlock:()=>wU,liftListItem:()=>EU,newlineInCode:()=>SU,resetAttributes:()=>NU,scrollIntoView:()=>kU,selectAll:()=>TU,selectNodeBackward:()=>MU,selectNodeForward:()=>AU,selectParentNode:()=>CU,selectTextblockEnd:()=>_U,selectTextblockStart:()=>RU,setContent:()=>OU,setMark:()=>XU,setMeta:()=>ZU,setNode:()=>QU,setNodeSelection:()=>JU,setTextSelection:()=>e6,sinkListItem:()=>t6,splitBlock:()=>n6,splitListItem:()=>r6,toggleList:()=>i6,toggleMark:()=>s6,toggleNode:()=>a6,toggleWrap:()=>o6,undoInputRule:()=>l6,unsetAllMarks:()=>c6,unsetMark:()=>u6,updateAttributes:()=>d6,wrapIn:()=>f6,wrapInList:()=>h6});var Hz=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),$z=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),qz=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:a,$to:l})=>{t.doc.nodesBetween(a.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:m}=e,g=f.resolve(m.map(d)),x=f.resolve(m.map(d+c.nodeSize)),y=g.blockRange(x);if(!y)return;const w=wl(y);if(c.type.isTextblock){const{defaultType:E}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(y.start,E)}(w||w===0)&&e.lift(y,w)})}),!0},Gz=t=>e=>t(e),Kz=()=>({state:t,dispatch:e})=>xA(t,e),Yz=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,a=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,a.content),r.setSelection(new Ye(r.doc.resolve(Math.max(l-1,0)))),!0},Wz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(e){const c=i.before(a),d=i.after(a);t.delete(c,d).scrollIntoView()}return!0}return!1};function ln(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Xz=t=>({tr:e,state:n,dispatch:r})=>{const i=ln(t,n.schema),a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===i){if(r){const d=a.before(l),f=a.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},Zz=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Qz=()=>({state:t,dispatch:e})=>fx(t,e),Jz=()=>({commands:t})=>t.keyboardShortcut("Enter"),eU=()=>({state:t,dispatch:e})=>zB(t,e);function Mx(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Yf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Mx(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function iC(t,e,n={}){return t.find(r=>r.type===e&&Yf(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function xN(t,e,n={}){return!!iC(t,e,n)}function Ax(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!iC([...i.node.marks],e,n)))return;let l=i.index,c=t.start()+i.offset,d=l+1,f=c+i.node.nodeSize;for(;l>0&&xN([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&xN([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function us(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var tU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const a=us(t,r.schema),{doc:l,selection:c}=n,{$from:d,from:f,to:m}=c;if(i){const g=Ax(d,a,e);if(g&&g.from<=f&&g.to>=m){const x=Ye.create(l,g.from,g.to);n.setSelection(x)}}return!0},nU=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function sC(t){return t instanceof Ye}function Ha(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function aC(t,e=null){if(!e)return null;const n=tt.atStart(t),r=tt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,a=r.to;return e==="all"?Ye.create(t,Ha(0,i,a),Ha(t.content.size,i,a)):Ye.create(t,Ha(e,i,a),Ha(e,i,a))}function rU(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Cx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var iU=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:a})=>{e={scrollIntoView:!0,...e};const l=()=>{(Cx()||rU())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!sC(n.state.selection))return l(),!0;const c=aC(i.doc,t)||n.state.selection,d=n.state.selection.eq(c);return a&&(d||i.setSelection(c),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},sU=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),aU=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),oC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&oC(r)}return t};function Qd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return oC(n)}function mu(t,e,n){if(t instanceof ui||t instanceof oe)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return oe.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),mu("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,c="";const d=new qM({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Qs.fromSchema(d).parseSlice(Qd(t),n.parseOptions):Qs.fromSchema(d).parse(Qd(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const a=Qs.fromSchema(e);return n.slice?a.parseSlice(Qd(t),n.parseOptions).content:a.parse(Qd(t),n.parseOptions)}return mu("",e,n)}function oU(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof xn||i instanceof yn))return;const a=t.mapping.maps[r];let l=0;a.forEach((c,d,f,m)=>{l===0&&(l=m)}),t.setSelection(tt.near(t.doc.resolve(l),n))}var lU=t=>!("type"in t),cU=(t,e,n)=>({tr:r,dispatch:i,editor:a})=>{var l;if(i){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const d=S=>{a.emit("contentError",{editor:a,error:S,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{mu(e,a.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(S){d(S)}try{c=mu(e,a.schema,{parseOptions:f,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:a.options.enableContentCheck})}catch(S){return d(S),!1}let{from:m,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,y=!0;if((lU(c)?c:[c]).forEach(S=>{S.check(),x=x?S.isText&&S.marks.length===0:!1,y=y?S.isBlock:!1}),m===g&&y){const{parent:S}=r.doc.resolve(m);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(m-=1,g+=1)}let E;if(x){if(Array.isArray(e))E=e.map(S=>S.text||"").join("");else if(e instanceof oe){let S="";e.forEach(k=>{k.text&&(S+=k.text)}),E=S}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,m,g)}else{E=c;const S=r.doc.resolve(m),k=S.node(),_=S.parentOffset===0,A=k.isText||k.isTextblock,P=k.content.size>0;_&&A&&P&&(m=Math.max(0,m-1)),r.replaceWith(m,g,E)}n.updateSelection&&oU(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:E}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:E})}return!0},uU=()=>({state:t,dispatch:e})=>IB(t,e),dU=()=>({state:t,dispatch:e})=>PB(t,e),fU=()=>({state:t,dispatch:e})=>dA(t,e),hU=()=>({state:t,dispatch:e})=>mA(t,e),pU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Bh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},mU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Bh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},gU=()=>({state:t,dispatch:e})=>jB(t,e),bU=()=>({state:t,dispatch:e})=>LB(t,e);function lC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xU(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,a,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))Cx()||lC()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var yU=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const a=xU(t).split(/-(?!$)/),l=a.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return d?.steps.forEach(f=>{const m=f.map(r.mapping);m&&i&&r.maybeStep(m)}),!0};function oa(t,e,n={}){const{from:r,to:i,empty:a}=t.selection,l=e?ln(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(g,x)=>{if(g.isText)return;const y=Math.max(r,x),w=Math.min(i,x+g.nodeSize);c.push({node:g,from:y,to:w})});const d=i-r,f=c.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>Yf(g.node.attrs,n,{strict:!1}));return a?!!f.length:f.reduce((g,x)=>g+x.to-x.from,0)>=d}var vU=(t,e={})=>({state:n,dispatch:r})=>{const i=ln(t,n.schema);return oa(n,i,e)?BB(n,r):!1},wU=()=>({state:t,dispatch:e})=>yA(t,e),EU=t=>({state:e,dispatch:n})=>{const r=ln(t,e.schema);return XB(r)(e,n)},SU=()=>({state:t,dispatch:e})=>bA(t,e);function Gh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function yN(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var NU=(t,e)=>({tr:n,state:r,dispatch:i})=>{let a=null,l=null;const c=Gh(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(a=ln(t,r.schema)),c==="mark"&&(l=us(t,r.schema)),i&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,m)=>{a&&a===f.type&&n.setNodeMarkup(m,void 0,yN(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(g=>{l===g.type&&n.addMark(m,m+f.nodeSize,l.create(yN(g.attrs,e)))})})}),!0):!1},kU=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),TU=()=>({tr:t,dispatch:e})=>{if(e){const n=new wr(t.doc);t.setSelection(n)}return!0},MU=()=>({state:t,dispatch:e})=>hA(t,e),AU=()=>({state:t,dispatch:e})=>gA(t,e),CU=()=>({state:t,dispatch:e})=>VB(t,e),_U=()=>({state:t,dispatch:e})=>qB(t,e),RU=()=>({state:t,dispatch:e})=>$B(t,e);function Q0(t,e,n={},r={}){return mu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var OU=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:a,dispatch:l,commands:c})=>{const{doc:d}=a;if(r.preserveWhitespace!=="full"){const f=Q0(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&a.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!n),!0}return l&&a.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function cC(t,e){const n=us(e,t.schema),{from:r,to:i,empty:a}=t.selection,l=[];a?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function uC(t,e){const n=new oA(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function DU(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function J0(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function jU(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,a)=>{n(i)&&r.push({node:i,pos:a})}),r}function LU(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Kh(t){return e=>LU(e.$from,t)}function De(t,e,n){return t.config[e]===void 0&&t.parent?De(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?De(t.parent,e,n):null}):t.config[e]}function _x(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=De(e,"addExtensions",n);return r?[e,..._x(r())]:e}).flat(10)}function Rx(t,e){const n=so.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function dC(t){return typeof t=="function"}function yt(t,e=void 0,...n){return dC(t)?e?t.bind(e)(...n):t(...n):t}function IU(t={}){return Object.keys(t).length===0&&t.constructor===Object}function gu(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function fC(t){const e=[],{nodeExtensions:n,markExtensions:r}=gu(t),i=[...n,...r],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:i},d=De(l,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([x,y])=>{e.push({type:g,name:x,attribute:{...a,...y}})})})})}),i.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=De(l,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([m,g])=>{const x={...a,...g};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:l.name,name:m,attribute:x})})}),e}function Qt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,a])=>{if(!r[i]){r[i]=a;return}if(i==="class"){const c=a?String(a).split(" "):[],d=r[i]?r[i].split(" "):[],f=c.filter(m=>!d.includes(m));r[i]=[...d,...f].join(" ")}else if(i==="style"){const c=a?a.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(m=>m.trim()).filter(Boolean):[],f=new Map;d.forEach(m=>{const[g,x]=m.split(":").map(y=>y.trim());f.set(g,x)}),c.forEach(m=>{const[g,x]=m.split(":").map(y=>y.trim());f.set(g,x)}),r[i]=Array.from(f.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else r[i]=a}),r},{})}function Wf(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Qt(n,r),{})}function PU(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function vN(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((a,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):PU(n.getAttribute(l.name));return c==null?a:{...a,[l.name]:c}},{});return{...r,...i}}}}function wN(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&IU(n)?!1:n!=null))}function BU(t,e){var n;const r=fC(t),{nodeExtensions:i,markExtensions:a}=gu(t),l=(n=i.find(f=>De(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(i.map(f=>{const m=r.filter(k=>k.type===f.name),g={name:f.name,options:f.options,storage:f.storage,editor:e},x=t.reduce((k,_)=>{const A=De(_,"extendNodeSchema",g);return{...k,...A?A(f):{}}},{}),y=wN({...x,content:yt(De(f,"content",g)),marks:yt(De(f,"marks",g)),group:yt(De(f,"group",g)),inline:yt(De(f,"inline",g)),atom:yt(De(f,"atom",g)),selectable:yt(De(f,"selectable",g)),draggable:yt(De(f,"draggable",g)),code:yt(De(f,"code",g)),whitespace:yt(De(f,"whitespace",g)),linebreakReplacement:yt(De(f,"linebreakReplacement",g)),defining:yt(De(f,"defining",g)),isolating:yt(De(f,"isolating",g)),attrs:Object.fromEntries(m.map(k=>{var _,A;return[k.name,{default:(_=k?.attribute)==null?void 0:_.default,validate:(A=k?.attribute)==null?void 0:A.validate}]}))}),w=yt(De(f,"parseHTML",g));w&&(y.parseDOM=w.map(k=>vN(k,m)));const E=De(f,"renderHTML",g);E&&(y.toDOM=k=>E({node:k,HTMLAttributes:Wf(k,m)}));const S=De(f,"renderText",g);return S&&(y.toText=S),[f.name,y]})),d=Object.fromEntries(a.map(f=>{const m=r.filter(S=>S.type===f.name),g={name:f.name,options:f.options,storage:f.storage,editor:e},x=t.reduce((S,k)=>{const _=De(k,"extendMarkSchema",g);return{...S,..._?_(f):{}}},{}),y=wN({...x,inclusive:yt(De(f,"inclusive",g)),excludes:yt(De(f,"excludes",g)),group:yt(De(f,"group",g)),spanning:yt(De(f,"spanning",g)),code:yt(De(f,"code",g)),attrs:Object.fromEntries(m.map(S=>{var k,_;return[S.name,{default:(k=S?.attribute)==null?void 0:k.default,validate:(_=S?.attribute)==null?void 0:_.validate}]}))}),w=yt(De(f,"parseHTML",g));w&&(y.parseDOM=w.map(S=>vN(S,m)));const E=De(f,"renderHTML",g);return E&&(y.toDOM=S=>E({mark:S,HTMLAttributes:Wf(S,m)})),[f.name,y]}));return new qM({topNode:l,nodes:c,marks:d})}function zU(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Ox(t){return t.sort((n,r)=>{const i=De(n,"priority")||100,a=De(r,"priority")||100;return i>a?-1:i<a?1:0})}function hC(t){const e=Ox(_x(t)),n=zU(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function pC(t,e,n){const{from:r,to:i}=e,{blockSeparator:a=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(r,i,(d,f,m,g)=>{var x;d.isBlock&&f>r&&(c+=a);const y=l?.[d.type.name];if(y)return m&&(c+=y({node:d,pos:f,parent:m,index:g,range:e})),!1;d.isText&&(c+=(x=d?.text)==null?void 0:x.slice(Math.max(r,f)-f,i-f))}),c}function UU(t,e){const n={from:0,to:t.content.size};return pC(t,n,e)}function mC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function FU(t,e){const n=ln(e,t.schema),{from:r,to:i}=t.selection,a=[];t.doc.nodesBetween(r,i,c=>{a.push(c)});const l=a.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function gC(t,e){const n=Gh(typeof e=="string"?e:e.name,t.schema);return n==="node"?FU(t,e):n==="mark"?cC(t,e):{}}function VU(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function HU(t){const e=VU(t);return e.length===1?e:e.filter((n,r)=>!e.filter((a,l)=>l!==r).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function bC(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,a)=>{const l=[];if(i.ranges.length)i.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=n[a];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const f=e.slice(a).map(c,-1),m=e.slice(a).map(d),g=e.invert().map(f,-1),x=e.invert().map(m);r.push({oldRange:{from:g,to:x},newRange:{from:f,to:m}})})}),HU(r)}function Dx(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const a=n.resolve(t),l=Ax(a,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,a)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:a,to:a+i.nodeSize,mark:l})))}),r}var $U=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let a=r,l=null;for(;a>0&&l===null;){const c=i.node(a);c?.type.name===e?l=c:a-=1}return[l,a]};function Ug(t,e){return e.nodes[t]||e.marks[t]||null}function Nf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(a=>a.type===e&&a.name===r);return i?i.attribute.keepOnSplit:!1}))}var qU=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,a,l,c)=>{var d,f;const m=((f=(d=i.type.spec).toText)==null?void 0:f.call(d,{node:i,pos:a,parent:l,index:c}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,r-a))}),n};function eb(t,e,n={}){const{empty:r,ranges:i}=t.selection,a=e?us(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>a?a.name===g.type.name:!0).find(g=>Yf(g.attrs,n,{strict:!1}));let l=0;const c=[];if(i.forEach(({$from:g,$to:x})=>{const y=g.pos,w=x.pos;t.doc.nodesBetween(y,w,(E,S)=>{if(!E.isText&&!E.marks.length)return;const k=Math.max(y,S),_=Math.min(w,S+E.nodeSize),A=_-k;l+=A,c.push(...E.marks.map(P=>({mark:P,from:k,to:_})))})}),l===0)return!1;const d=c.filter(g=>a?a.name===g.mark.type.name:!0).filter(g=>Yf(g.mark.attrs,n,{strict:!1})).reduce((g,x)=>g+x.to-x.from,0),f=c.filter(g=>a?g.mark.type!==a&&g.mark.type.excludes(a):!0).reduce((g,x)=>g+x.to-x.from,0);return(d>0?d+f:d)>=l}function GU(t,e,n={}){if(!e)return oa(t,null,n)||eb(t,null,n);const r=Gh(e,t.schema);return r==="node"?oa(t,e,n):r==="mark"?eb(t,e,n):!1}var KU=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const a=Kh(c=>c.type.name===e)(t.selection);if(!a)return!1;const l=t.doc.resolve(a.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},YU=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function EN(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function SN(t,e){const{nodeExtensions:n}=gu(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},a=yt(De(r,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function Yh(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(a=>{i!==!1&&(Yh(a,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function xC(t){return t instanceof je}function WU(t,e,n){var r;const{selection:i}=e;let a=null;if(sC(i)&&(a=i.$cursor),a){const c=(r=t.storedMarks)!=null?r:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(f=>f.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:c,$to:d})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(m,g,x)=>{if(f)return!1;if(m.isInline){const y=!x||x.type.allowsMarkType(n),w=!!n.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(n));f=y&&w}return!f}),f})}var XU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=n,{empty:l,ranges:c}=a,d=us(t,r.schema);if(i)if(l){const f=cC(r,d);n.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const m=f.$from.pos,g=f.$to.pos;r.doc.nodesBetween(m,g,(x,y)=>{const w=Math.max(y,m),E=Math.min(y+x.nodeSize,g);x.marks.find(k=>k.type===d)?x.marks.forEach(k=>{d===k.type&&n.addMark(w,E,d.create({...k.attrs,...e}))}):n.addMark(w,E,d.create(e))})});return WU(r,n,d)},ZU=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),QU=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const a=ln(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:c})=>BS(a,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>BS(a,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},JU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Ha(t,0,r.content.size),a=je.create(r,i);e.setSelection(a)}return!0},e6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:a}=typeof t=="number"?{from:t,to:t}:t,l=Ye.atStart(r).from,c=Ye.atEnd(r).to,d=Ha(i,l,c),f=Ha(a,l,c),m=Ye.create(r,d,f);e.setSelection(m)}return!0},t6=t=>({state:e,dispatch:n})=>{const r=ln(t,e.schema);return JB(r)(e,n)};function NN(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var n6=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:a,doc:l}=e,{$from:c,$to:d}=a,f=i.extensionManager.attributes,m=Nf(f,c.node().type.name,c.node().attrs);if(a instanceof je&&a.node.isBlock)return!c.parentOffset||!ss(l,c.pos)?!1:(r&&(t&&NN(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,x=c.depth===0?void 0:DU(c.node(-1).contentMatchAt(c.indexAfter(-1)));let y=g&&x?[{type:x,attrs:m}]:void 0,w=ss(e.doc,e.mapping.map(c.pos),1,y);if(!y&&!w&&ss(e.doc,e.mapping.map(c.pos),1,x?[{type:x}]:void 0)&&(w=!0,y=x?[{type:x,attrs:m}]:void 0),r){if(w&&(a instanceof Ye&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,y),x&&!g&&!c.parentOffset&&c.parent.type!==x)){const E=e.mapping.map(c.before()),S=e.doc.resolve(E);c.node(-1).canReplaceWith(S.index(),S.index()+1,x)&&e.setNodeMarkup(e.mapping.map(c.before()),x)}t&&NN(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},r6=(t,e={})=>({tr:n,state:r,dispatch:i,editor:a})=>{var l;const c=ln(t,r.schema),{$from:d,$to:f}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(f))return!1;const g=d.node(-1);if(g.type!==c)return!1;const x=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let k=oe.empty;const _=d.index(-1)?1:d.index(-2)?2:3;for(let $=d.depth-_;$>=d.depth-3;$-=1)k=oe.from(d.node($).copy(k));const A=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,P={...Nf(x,d.node().type.name,d.node().attrs),...e},O=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(P))||void 0;k=k.append(oe.from(c.createAndFill(null,O)||void 0));const C=d.before(d.depth-(_-1));n.replace(C,d.after(-A),new xe(k,4-_,0));let L=-1;n.doc.nodesBetween(C,n.doc.content.size,($,J)=>{if(L>-1)return!1;$.isTextblock&&$.content.size===0&&(L=J+1)}),L>-1&&n.setSelection(Ye.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const y=f.pos===d.end()?g.contentMatchAt(0).defaultType:null,w={...Nf(x,g.type.name,g.attrs),...e},E={...Nf(x,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const S=y?[{type:c,attrs:w},{type:y,attrs:E}]:[{type:c,attrs:w}];if(!ss(n.doc,d.pos,2))return!1;if(i){const{selection:k,storedMarks:_}=r,{splittableMarks:A}=a.extensionManager,P=_||k.$to.parentOffset&&k.$from.marks();if(n.split(d.pos,2,S).scrollIntoView(),!P||!i)return!0;const O=P.filter(C=>A.includes(C.type.name));n.ensureMarks(O)}return!0},Fg=(t,e)=>{const n=Kh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&ua(t.doc,n.pos)&&t.join(n.pos),!0},Vg=(t,e)=>{const n=Kh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&ua(t.doc,r)&&t.join(r),!0},i6=(t,e,n,r={})=>({editor:i,tr:a,state:l,dispatch:c,chain:d,commands:f,can:m})=>{const{extensions:g,splittableMarks:x}=i.extensionManager,y=ln(t,l.schema),w=ln(e,l.schema),{selection:E,storedMarks:S}=l,{$from:k,$to:_}=E,A=k.blockRange(_),P=S||E.$to.parentOffset&&E.$from.marks();if(!A)return!1;const O=Kh(C=>SN(C.type.name,g))(E);if(A.depth>=1&&O&&A.depth-O.depth<=1){if(O.node.type===y)return f.liftListItem(w);if(SN(O.node.type.name,g)&&y.validContent(O.node.content)&&c)return d().command(()=>(a.setNodeMarkup(O.pos,y),!0)).command(()=>Fg(a,y)).command(()=>Vg(a,y)).run()}return!n||!P||!c?d().command(()=>m().wrapInList(y,r)?!0:f.clearNodes()).wrapInList(y,r).command(()=>Fg(a,y)).command(()=>Vg(a,y)).run():d().command(()=>{const C=m().wrapInList(y,r),L=P.filter($=>x.includes($.type.name));return a.ensureMarks(L),C?!0:f.clearNodes()}).wrapInList(y,r).command(()=>Fg(a,y)).command(()=>Vg(a,y)).run()},s6=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=n,l=us(t,r.schema);return eb(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:a}):i.setMark(l,e)},a6=(t,e,n={})=>({state:r,commands:i})=>{const a=ln(t,r.schema),l=ln(e,r.schema),c=oa(r,a,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?i.setNode(l,d):i.setNode(a,{...d,...n})},o6=(t,e={})=>({state:n,commands:r})=>{const i=ln(t,n.schema);return oa(n,i,e)?r.lift(i):r.wrapIn(i,e)},l6=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){const l=t.tr,c=a.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(a.text){const d=l.doc.resolve(a.from).marks();l.replaceWith(a.from,a.to,t.schema.text(a.text,d))}else l.delete(a.from,a.to)}return!0}}return!1},c6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},u6=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,d=us(t,r.schema),{$from:f,empty:m,ranges:g}=c;if(!i)return!0;if(m&&l){let{from:x,to:y}=c;const w=(a=f.marks().find(S=>S.type===d))==null?void 0:a.attrs,E=Ax(f,d,w);E&&(x=E.from,y=E.to),n.removeMark(x,y,d)}else g.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,d)});return n.removeStoredMark(d),!0},d6=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let a=null,l=null;const c=Gh(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(a=ln(t,r.schema)),c==="mark"&&(l=us(t,r.schema)),i&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;let g,x,y,w;n.selection.empty?r.doc.nodesBetween(f,m,(E,S)=>{a&&a===E.type&&(y=Math.max(S,f),w=Math.min(S+E.nodeSize,m),g=S,x=E)}):r.doc.nodesBetween(f,m,(E,S)=>{S<f&&a&&a===E.type&&(y=Math.max(S,f),w=Math.min(S+E.nodeSize,m),g=S,x=E),S>=f&&S<=m&&(a&&a===E.type&&n.setNodeMarkup(S,void 0,{...E.attrs,...e}),l&&E.marks.length&&E.marks.forEach(k=>{if(l===k.type){const _=Math.max(S,f),A=Math.min(S+E.nodeSize,m);n.addMark(_,A,l.create({...k.attrs,...e}))}}))}),x&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...x.attrs,...e}),l&&x.marks.length&&x.marks.forEach(E=>{l===E.type&&n.addMark(y,w,l.create({...E.attrs,...e}))}))}),!0):!1},f6=(t,e={})=>({state:n,dispatch:r})=>{const i=ln(t,n.schema);return GB(i,e)(n,r)},h6=(t,e={})=>({state:n,dispatch:r})=>{const i=ln(t,n.schema);return KB(i,e)(n,r)},p6=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Wh=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},m6=(t,e)=>{if(Mx(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Jd(t){var e;const{editor:n,from:r,to:i,text:a,rules:l,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let m=!1;const g=qU(f)+a;return l.forEach(x=>{if(m)return;const y=m6(g,x.find);if(!y)return;const w=d.state.tr,E=$h({state:d.state,transaction:w}),S={from:r-(y[0].length-a.length),to:i},{commands:k,chain:_,can:A}=new qh({editor:n,state:E});x.handler({state:E,range:S,match:y,commands:k,chain:_,can:A})===null||!w.steps.length||(x.undoable&&w.setMeta(c,{transform:w,from:r,to:i,text:a}),d.dispatch(w),m=!0)}),m}function g6(t){const{editor:e,rules:n}=t,r=new Ut({state:{init(){return null},apply(i,a,l){const c=i.getMeta(r);if(c)return c;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Rx(oe.from(m),l.schema);const{from:g}=d,x=g+m.length;Jd({editor:e,from:g,to:x,text:m,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,l,c){return Jd({editor:e,from:a,to:l,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&Jd({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Jd({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function b6(t){return Object.prototype.toString.call(t).slice(8,-1)}function ef(t){return b6(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function yC(t,e){const n={...t};return ef(t)&&ef(e)&&Object.keys(e).forEach(r=>{ef(e[r])&&ef(t[r])?n[r]=yC(t[r],e[r]):n[r]=e[r]}),n}var jx=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...yt(De(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...yt(De(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>yC(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ao=class vC extends jx{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new vC(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(f=>f?.type.name===n.name))return!1;const d=l.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function x6(t){return typeof t=="number"}var y6=class{constructor(t){this.find=t.find,this.handler=t.handler}},v6=(t,e,n)=>{if(Mx(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const a=[i.text];return a.index=i.index,a.input=t,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]};function w6(t){const{editor:e,state:n,from:r,to:i,rule:a,pasteEvent:l,dropEvent:c}=t,{commands:d,chain:f,can:m}=new qh({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,i,(y,w)=>{var E,S,k,_,A;if((S=(E=y.type)==null?void 0:E.spec)!=null&&S.code||!(y.isText||y.isTextblock||y.isInline))return;const P=(A=(_=(k=y.content)==null?void 0:k.size)!=null?_:y.nodeSize)!=null?A:0,O=Math.max(r,w),C=Math.min(i,w+P);if(O>=C)return;const L=y.isText?y.text||"":y.textBetween(O-w,C-w,void 0,"");v6(L,a.find,l).forEach(J=>{if(J.index===void 0)return;const pe=O+J.index+1,Te=pe+J[0].length,Ae={from:n.tr.mapping.map(pe),to:n.tr.mapping.map(Te)},Ee=a.handler({state:n,range:Ae,match:J,commands:d,chain:f,can:m,pasteEvent:l,dropEvent:c});g.push(Ee)})}),g.every(y=>y!==null)}var tf=null,E6=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function S6(t){const{editor:e,rules:n}=t;let r=null,i=!1,a=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:g,to:x,rule:y,pasteEvt:w})=>{const E=m.tr,S=$h({state:m,transaction:E});if(!(!w6({editor:e,state:S,from:Math.max(g-1,0),to:x.b-1,rule:y,pasteEvent:w,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(m=>new Ut({view(g){const x=w=>{var E;r=(E=g.dom.parentElement)!=null&&E.contains(w.target)?g.dom.parentElement:null,r&&(tf=e)},y=()=>{tf&&(tf=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(g,x)=>{if(a=r===g.dom.parentElement,c=x,!a){const y=tf;y?.isEditable&&setTimeout(()=>{const w=y.state.selection;w&&y.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,x)=>{var y;const w=(y=x.clipboardData)==null?void 0:y.getData("text/html");return l=x,i=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(g,x,y)=>{const w=g[0],E=w.getMeta("uiEvent")==="paste"&&!i,S=w.getMeta("uiEvent")==="drop"&&!a,k=w.getMeta("applyPasteRules"),_=!!k;if(!E&&!S&&!_)return;if(_){let{text:O}=k;typeof O=="string"?O=O:O=Rx(oe.from(O),y.schema);const{from:C}=k,L=C+O.length,$=E6(O);return d({rule:m,state:y,from:C,to:{b:L},pasteEvt:$})}const A=x.doc.content.findDiffStart(y.doc.content),P=x.doc.content.findDiffEnd(y.doc.content);if(!(!x6(A)||!P||A===P.b))return d({rule:m,state:y,from:A,to:P,pasteEvt:l})}}))}var Xh=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=hC(t),this.schema=BU(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ug(e.name,this.schema)},r=De(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Ox([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ug(r.name,this.schema)},a=[],l=De(r,"addKeyboardShortcuts",i);let c={};if(r.type==="mark"&&De(r,"exitable",i)&&(c.ArrowRight=()=>ao.handleExit({editor:t,mark:r})),l){const x=Object.fromEntries(Object.entries(l()).map(([y,w])=>[y,()=>w({editor:t})]));c={...c,...x}}const d=Fz(c);a.push(d);const f=De(r,"addInputRules",i);if(EN(r,t.options.enableInputRules)&&f){const x=f();if(x&&x.length){const y=g6({editor:t,rules:x}),w=Array.isArray(y)?y:[y];a.push(...w)}}const m=De(r,"addPasteRules",i);if(EN(r,t.options.enablePasteRules)&&m){const x=m();if(x&&x.length){const y=S6({editor:t,rules:x});a.push(...y)}}const g=De(r,"addProseMirrorPlugins",i);if(g){const x=g();a.push(...x)}return a})}get attributes(){return fC(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=gu(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ln(n.name,this.schema)},a=De(n,"addNodeView",i);if(!a)return[];const l=(c,d,f,m,g)=>{const x=Wf(c,r);return a()({node:c,view:d,getPos:f,decorations:m,innerDecorations:g,editor:t,extension:n,HTMLAttributes:x})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=gu(this.extensions);return Object.fromEntries(e.filter(n=>!!De(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:us(n.name,this.schema)},a=De(n,"addMarkView",i);if(!a)return[];const l=(c,d,f)=>{const m=Wf(c,r);return a()({mark:c,view:d,inline:f,editor:t,extension:n,HTMLAttributes:m,updateAttributes:g=>{I6(c,t,g)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ug(e.name,this.schema)};e.type==="mark"&&((n=yt(De(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=De(e,"onBeforeCreate",r),a=De(e,"onCreate",r),l=De(e,"onUpdate",r),c=De(e,"onSelectionUpdate",r),d=De(e,"onTransaction",r),f=De(e,"onFocus",r),m=De(e,"onBlur",r),g=De(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}};Xh.resolve=hC;Xh.sort=Ox;Xh.flatten=_x;var N6={};Tx(N6,{ClipboardTextSerializer:()=>EC,Commands:()=>SC,Delete:()=>NC,Drop:()=>kC,Editable:()=>TC,FocusEvents:()=>AC,Keymap:()=>CC,Paste:()=>_C,Tabindex:()=>RC,focusEventsPluginKey:()=>MC});var en=class wC extends jx{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new wC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},EC=en.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ut({key:new fn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:a}=i,l=Math.min(...a.map(m=>m.$from.pos)),c=Math.max(...a.map(m=>m.$to.pos)),d=mC(n);return pC(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),SC=en.create({name:"commands",addCommands(){return{...rC}}}),NC=en.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const a=()=>{var l,c,d,f;if((f=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const m=uC(t.before,[t,...e]);bC(m).forEach(y=>{m.mapping.mapResult(y.oldRange.from).deletedAfter&&m.mapping.mapResult(y.oldRange.to).deletedBefore&&m.before.nodesBetween(y.oldRange.from,y.oldRange.to,(w,E)=>{const S=E+w.nodeSize-2,k=y.oldRange.from<=E&&S<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:E,to:S,newFrom:m.mapping.map(E),newTo:m.mapping.map(S),deletedRange:y.oldRange,newRange:y.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:m})})});const x=m.mapping;m.steps.forEach((y,w)=>{var E,S;if(y instanceof li){const k=x.slice(w).map(y.from,-1),_=x.slice(w).map(y.to),A=x.invert().map(k,-1),P=x.invert().map(_),O=(E=m.doc.nodeAt(k-1))==null?void 0:E.marks.some(L=>L.eq(y.mark)),C=(S=m.doc.nodeAt(_))==null?void 0:S.marks.some(L=>L.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:A,to:P},newRange:{from:k,to:_},partial:!!(C||O),editor:this.editor,transaction:t,combinedTransform:m})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(a,0):a()}}),kC=en.create({name:"drop",addProseMirrorPlugins(){return[new Ut({key:new fn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),TC=en.create({name:"editable",addProseMirrorPlugins(){return[new Ut({key:new fn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),MC=new fn("focusEvents"),AC=en.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ut({key:MC,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),CC=en.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:m,$anchor:g}=d,{pos:x,parent:y}=g,w=g.parent.isTextblock&&x>0?c.doc.resolve(x-1):g,E=w.parent.type.spec.isolating,S=g.pos-g.parentOffset,k=E&&w.parent.childCount===1?S===g.pos:tt.atStart(f).from===x;return!m||!y.type.isTextblock||y.textContent.length||!k||k&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},a={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Cx()||lC()?a:i},addProseMirrorPlugins(){return[new Ut({key:new fn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),i=t.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:a,from:l,to:c}=e.selection,d=tt.atStart(e.doc).from,f=tt.atEnd(e.doc).to;if(a||!(l===d&&c===f)||!Yh(n.doc))return;const x=n.tr,y=$h({state:n,transaction:x}),{commands:w}=new qh({editor:this.editor,state:y});if(w.clearNodes(),!!x.steps.length)return x}})]}}),_C=en.create({name:"paste",addProseMirrorPlugins(){return[new Ut({key:new fn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),RC=en.create({name:"tabindex",addProseMirrorPlugins(){return[new Ut({key:new fn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),k6=class Go{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Go(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Go(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Go(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,l=this.pos+r+(a?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!i&&c.depth<=this.depth)return;const d=new Go(c,this.editor,i,i?n:null);i&&(d.actualDepth=this.depth+1),e.push(new Go(c,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const a=i.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(a[d]!==n[d])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const a=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&a.every(d=>n[d]===l.node.attrs[d])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},T6=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function M6(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var A6=class extends p6{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:a})=>this.options.onDrop(r,i,a)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=aC(e,this.options.autofocus);this.editorState=nl.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=M6(T6,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=dC(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;n=n.filter(l=>!l.key.startsWith(a))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[TC,EC.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),SC,AC,CC,RC,kC,_C,NC].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Xh(r,this)}createCommandManager(){this.commandManager=new qh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Q0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Q0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new tC(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=l?.getMeta("focus"),d=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return gC(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return GU(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Rx(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return UU(this.state.doc,{blockSeparator:e,textSerializers:{...mC(this.schema),...n}})}get isEmpty(){return Yh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new k6(e,this)}get $doc(){return this.$pos(0)}};function hl(t){return new Wh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=yt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:a}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),m=f+l.length;if(Dx(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(E=>E===t.type&&E!==y.mark.type)).filter(y=>y.to>f).length)return null;m<n.to&&a.delete(m,n.to),f>n.from&&a.delete(n.from+d,f);const x=n.from+d+l.length;a.addMark(n.from+d,x,t.type.create(i||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function OC(t){return new Wh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=yt(t.getAttributes,void 0,r)||{},{tr:a}=e,l=n.from;let c=n.to;const d=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let m=l+f;m>c?m=c:c=m+r[1].length;const g=r[0][r[0].length-1];a.insertText(g,l+r[0].length-1),a.replaceWith(m,c,d)}else if(r[0]){const f=t.type.isInline?l:l-1;a.insert(f,t.type.create(i)).delete(a.mapping.map(l),a.mapping.map(c))}a.scrollIntoView()},undoable:t.undoable})}function tb(t){return new Wh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),a=yt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)},undoable:t.undoable})}function pl(t){return new Wh({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const a=yt(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),f=d&&ux(d,t.type,a);if(!f)return null;if(l.wrap(d,f),t.keepMarks&&t.editor){const{selection:g,storedMarks:x}=e,{splittableMarks:y}=t.editor.extensionManager,w=x||g.$to.parentOffset&&g.$from.marks();if(w){const E=w.filter(S=>y.includes(S.type.name));l.ensureMarks(E)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,a).run()}const m=l.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&ua(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&l.join(n.from-1)},undoable:t.undoable})}function C6(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof je){const a=r.index();return r.parent.canReplaceWith(a,a+1,e)}let i=r.depth;for(;i>=0;){const a=r.index(i);if(r.node(i).contentMatchAt(a).matchType(e))return!0;i-=1}return!1}var _6={};Tx(_6,{createAtomBlockMarkdownSpec:()=>R6,createBlockMarkdownSpec:()=>O6,createInlineMarkdownSpec:()=>L6,parseAttributes:()=>Lx,parseIndentedBlocks:()=>nb,renderNestedMarkdownContent:()=>Px,serializeAttributes:()=>Ix});function Lx(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const f=i.map(m=>m.trim().slice(1));e.class=f.join(" ")}const a=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,f,m])=>{var g;const x=parseInt(((g=m.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),y=n[x];y&&(e[f]=y.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function Ix(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function R6(t){const{nodeName:e,name:n,parseAttributes:r=Lx,serializeAttributes:i=Ix,defaultAttributes:a={},requiredAttributes:l=[],allowedAttributes:c}=t,d=n||e,f=m=>{if(!c)return m;const g={};return c.forEach(x=>{x in m&&(g[x]=m[x])}),g};return{parseMarkdown:(m,g)=>{const x={...a,...m.attributes};return g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(m){var g;const x=new RegExp(`^:::${d}(?:\\s|$)`,"m"),y=(g=m.match(x))==null?void 0:g.index;return y!==void 0?y:-1},tokenize(m,g,x){const y=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=m.match(y);if(!w)return;const E=w[1]||"",S=r(E);if(!l.find(_=>!(_ in S)))return{type:e,raw:w[0],attributes:S}}},renderMarkdown:m=>{const g=f(m.attrs||{}),x=i(g),y=x?` {${x}}`:"";return`:::${d}${y} :::`}}}function O6(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Lx,serializeAttributes:a=Ix,defaultAttributes:l={},content:c="block",allowedAttributes:d}=t,f=n||e,m=g=>{if(!d)return g;const x={};return d.forEach(y=>{y in g&&(x[y]=g[y])}),x};return{parseMarkdown:(g,x)=>{let y;if(r){const E=r(g);y=typeof E=="string"?[{type:"text",text:E}]:E}else c==="block"?y=x.parseChildren(g.tokens||[]):y=x.parseInline(g.tokens||[]);const w={...l,...g.attributes};return x.createNode(e,w,y)},markdownTokenizer:{name:e,level:"block",start(g){var x;const y=new RegExp(`^:::${f}`,"m"),w=(x=g.match(y))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(g,x,y){var w;const E=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=g.match(E);if(!S)return;const[k,_=""]=S,A=i(_);let P=1;const O=k.length;let C="";const L=/^:::([\w-]*)(\s.*)?/gm,$=g.slice(O);for(L.lastIndex=0;;){const J=L.exec($);if(J===null)break;const pe=J.index,Te=J[1];if(!((w=J[2])!=null&&w.endsWith(":::"))){if(Te)P+=1;else if(P-=1,P===0){const Ae=$.slice(0,pe);C=Ae.trim();const Ee=g.slice(0,O+pe+J[0].length);let le=[];if(C)if(c==="block")for(le=y.blockTokens(Ae),le.forEach(ge=>{ge.text&&(!ge.tokens||ge.tokens.length===0)&&(ge.tokens=y.inlineTokens(ge.text))});le.length>0;){const ge=le[le.length-1];if(ge.type==="paragraph"&&(!ge.text||ge.text.trim()===""))le.pop();else break}else le=y.inlineTokens(C);return{type:e,raw:Ee,attributes:A,content:C,tokens:le}}}}}},renderMarkdown:(g,x)=>{const y=m(g.attrs||{}),w=a(y),E=w?` {${w}}`:"",S=x.renderChildren(g.content||[],`

`);return`:::${f}${E}

${S}

:::`}}}function D6(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,a,l]=r;e[i]=a||l,r=n.exec(t)}return e}function j6(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function L6(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=D6,serializeAttributes:a=j6,defaultAttributes:l={},selfClosing:c=!1,allowedAttributes:d}=t,f=n||e,m=x=>{if(!d)return x;const y={};return d.forEach(w=>{w in x&&(y[w]=x[w])}),y},g=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,y)=>{const w={...l,...x.attributes};if(c)return y.createNode(e,w);const E=r?r(x):x.content||"";return E?y.createNode(e,w,[y.createTextNode(E)]):y.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(x){const y=c?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),w=x.match(y),E=w?.index;return E!==void 0?E:-1},tokenize(x,y,w){const E=c?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),S=x.match(E);if(!S)return;let k="",_="";if(c){const[,P]=S;_=P}else{const[,P,O]=S;_=P,k=O||""}const A=i(_.trim());return{type:e,raw:S[0],content:k.trim(),attributes:A}}},renderMarkdown:x=>{let y="";r?y=r(x):x.content&&x.content.length>0&&(y=x.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const w=m(x.attrs||{}),E=a(w),S=E?` ${E}`:"";return c?`[${f}${S}]`:`[${f}${S}]${y}[/${f}]`}}}function nb(t,e,n){var r,i,a,l;const c=t.split(`
`),d=[];let f="",m=0;const g=e.baseIndentSize||2;for(;m<c.length;){const x=c[m],y=x.match(e.itemPattern);if(!y){if(d.length>0)break;if(x.trim()===""){m+=1;continue}else return}const w=e.extractItemData(y),{indentLevel:E,mainContent:S}=w;f=`${f}${x}
`;const k=[S];for(m+=1;m<c.length;){const O=c[m];if(O.trim()===""){const L=c.slice(m+1).findIndex(pe=>pe.trim()!=="");if(L===-1)break;if((((i=(r=c[m+1+L].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>E){k.push(O),f=`${f}${O}
`,m+=1;continue}else break}if((((l=(a=O.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:l.length)||0)>E)k.push(O),f=`${f}${O}
`,m+=1;else break}let _;const A=k.slice(1);if(A.length>0){const O=A.map(C=>C.slice(E+g)).join(`
`);O.trim()&&(e.customNestedParser?_=e.customNestedParser(O):_=n.blockTokens(O))}const P=e.createToken(w,_);d.push(P)}if(d.length!==0)return{items:d,raw:f.trim()}}function Px(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[a,...l]=t.content,c=e.renderChildren([a]),d=[`${i}${c}`];return l&&l.length>0&&l.forEach(f=>{const m=e.renderChildren([f]);if(m){const g=m.split(`
`).map(x=>x?e.indent(x):"").join(`
`);d.push(g)}}),d.join(`
`)}function I6(t,e,n={}){const{state:r}=e,{doc:i,tr:a}=r,l=t;i.descendants((c,d)=>{const f=a.mapping.map(d),m=a.mapping.map(d)+c.nodeSize;let g=null;if(c.marks.forEach(y=>{if(y!==l)return!1;g=y}),!g)return;let x=!1;if(Object.keys(n).forEach(y=>{n[y]!==g.attrs[y]&&(x=!0)}),x){const y=t.type.create({...t.attrs,...n});a.removeMark(f,m,t.type),a.addMark(f,m,y)}}),a.docChanged&&e.view.dispatch(a)}var lr=class DC extends jx{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new DC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function no(t){return new y6({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const a=yt(t.getAttributes,void 0,r,i);if(a===!1||a===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let f=n.to;if(c){const m=d.search(/\S/),g=n.from+d.indexOf(c),x=g+c.length;if(Dx(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>g).length)return null;x<n.to&&l.delete(x,n.to),g>n.from&&l.delete(n.from+m,g),f=n.from+m+c.length,l.addMark(n.from+m,f,t.type.create(a||{})),l.removeStoredMark(t.type)}}})}var Hg,kN;function P6(){return kN||(kN=1,Hg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Hg}var B6=P6();const z6=yu(B6);var $g={exports:{}},qg={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function U6(){if(TN)return qg;TN=1;var t=vu(),e=AM();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return qg.useSyncExternalStoreWithSelector=function(f,m,g,x,y){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function k(C){if(!_){if(_=!0,A=C,C=x(C),y!==void 0&&E.hasValue){var L=E.value;if(y(L,C))return P=L}return P=C}if(L=P,r(A,C))return L;var $=x(C);return y!==void 0&&y(L,$)?(A=C,L):(A=C,P=$)}var _=!1,A,P,O=g===void 0?null:g;return[function(){return k(m())},O===null?void 0:function(){return k(O())}]},[m,g,x,y]);var S=i(f,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},qg}var MN;function F6(){return MN||(MN=1,$g.exports=U6()),$g.exports}var V6=F6(),H6=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},$6=({contentComponent:t})=>{const e=CM.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(e)})};function q6(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:qD.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var G6=class extends na.Component{constructor(t){var e;super(t),this.editorContentRef=na.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=q6(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:H6(e,this.editorContentRef),...n}),t?.contentComponent&&h.jsx($6,{contentComponent:t.contentComponent})]})}},K6=T.forwardRef((t,e)=>{const n=na.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return na.createElement(G6,{key:n,innerRef:e,...t})}),Y6=na.memo(K6),W6=typeof window<"u"?T.useLayoutEffect:T.useEffect,X6=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Z6(t){var e;const[n]=T.useState(()=>new X6(t.editor)),r=V6.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:z6);return W6(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}var Q6=!1,rb=typeof window>"u",J6=rb||!!(typeof window<"u"&&window.next),e9=class jC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?rb||J6?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onBeforeCreate)==null?void 0:a.call(i,...r)},onBlur:(...r)=>{var i,a;return(a=(i=this.options.current).onBlur)==null?void 0:a.call(i,...r)},onCreate:(...r)=>{var i,a;return(a=(i=this.options.current).onCreate)==null?void 0:a.call(i,...r)},onDestroy:(...r)=>{var i,a;return(a=(i=this.options.current).onDestroy)==null?void 0:a.call(i,...r)},onFocus:(...r)=>{var i,a;return(a=(i=this.options.current).onFocus)==null?void 0:a.call(i,...r)},onSelectionUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onSelectionUpdate)==null?void 0:a.call(i,...r)},onTransaction:(...r)=>{var i,a;return(a=(i=this.options.current).onTransaction)==null?void 0:a.call(i,...r)},onUpdate:(...r)=>{var i,a;return(a=(i=this.options.current).onUpdate)==null?void 0:a.call(i,...r)},onContentError:(...r)=>{var i,a;return(a=(i=this.options.current).onContentError)==null?void 0:a.call(i,...r)},onDrop:(...r)=>{var i,a;return(a=(i=this.options.current).onDrop)==null?void 0:a.call(i,...r)},onPaste:(...r)=>{var i,a;return(a=(i=this.options.current).onPaste)==null?void 0:a.call(i,...r)},onDelete:(...r)=>{var i,a;return(a=(i=this.options.current).onDelete)==null?void 0:a.call(i,...r)}};return new A6(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,a)=>{var l;return i===((l=n.extensions)==null?void 0:l[a])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?jC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function t9(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new e9(n)),i=CM.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(i),T.useEffect(r.onRender(e)),Z6({editor:i,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),i}var n9=T.createContext({editor:null});n9.Consumer;var r9=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),i9=()=>T.useContext(r9);na.forwardRef((t,e)=>{const{onDragStart:n}=i9(),r=t.as||"div";return h.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});na.createContext({markViewContentRef:()=>{}});var Xf=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},s9=/^\s*>\s$/,a9=lr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Xf("blockquote",{...Qt(this.options.HTMLAttributes,t),children:Xf("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(i=>{const l=e.renderChildren(i).split(`
`).map(c=>`> ${c}`).join(`
`);n.push(l)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[pl({find:s9,type:this.type})]}}),o9=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l9=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,c9=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,u9=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,d9=ao.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Xf("strong",{...Qt(this.options.HTMLAttributes,t),children:Xf("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[hl({find:o9,type:this.type}),hl({find:c9,type:this.type})]},addPasteRules(){return[no({find:l9,type:this.type}),no({find:u9,type:this.type})]}}),f9=/(^|[^`])`([^`]+)`(?!`)$/,h9=/(^|[^`])`([^`]+)`(?!`)/g,p9=ao.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Qt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[hl({find:f9,type:this.type})]},addPasteRules(){return[no({find:h9,type:this.type})]}}),Gg=4,m9=/^```([a-z]+)?[\s\n]$/,g9=/^~~~([a-z]+)?[\s\n]$/,LC=lr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Gg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Qt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Gg,{state:r}=t,{selection:i}=r,{$from:a,empty:l}=i;if(a.parent.type!==this.type)return!1;const c=" ".repeat(n);return l?t.commands.insertContent(c):t.commands.command(({tr:d})=>{const{from:f,to:m}=i,y=r.doc.textBetween(f,m,`
`,`
`).split(`
`).map(w=>c+w).join(`
`);return d.replaceWith(f,m,r.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Gg,{state:r}=t,{selection:i}=r,{$from:a,empty:l}=i;return a.parent.type!==this.type?!1:l?t.commands.command(({tr:c})=>{var d;const{pos:f}=a,m=a.start(),g=a.end(),y=r.doc.textBetween(m,g,`
`,`
`).split(`
`);let w=0,E=0;const S=f-m;for(let C=0;C<y.length;C+=1){if(E+y[C].length>=S){w=C;break}E+=y[C].length+1}const _=((d=y[w].match(/^ */))==null?void 0:d[0])||"",A=Math.min(_.length,n);if(A===0)return!0;let P=m;for(let C=0;C<w;C+=1)P+=y[C].length+1;return c.delete(P,P+A),f-P<=A&&c.setSelection(Ye.create(c.doc,P)),!0}):t.commands.command(({tr:c})=>{const{from:d,to:f}=i,x=r.doc.textBetween(d,f,`
`,`
`).split(`
`).map(y=>{var w;const E=((w=y.match(/^ */))==null?void 0:w[0])||"",S=Math.min(E.length,n);return y.slice(S)}).join(`
`);return c.replaceWith(d,f,r.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!a||!l?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:a}=n;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(tt.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[tb({find:m9,type:this.type,getAttributes:t=>({language:t[1]})}),tb({find:g9,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ut({key:new fn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=i?.mode;if(!n||!a)return!1;const{tr:l,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:a},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ye.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),b9=LC,x9=lr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),y9=lr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Qt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:a}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:m})=>{if(m&&d&&l){const g=d.filter(x=>c.includes(x.type.name));f.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),v9=lr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Qt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>tb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),w9=lr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Qt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!C6(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return xC(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:a,tr:l,dispatch:c})=>{if(c){const{$to:d}=l.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?l.setSelection(Ye.create(l.doc,d.pos+1)):d.nodeAfter.isBlock?l.setSelection(je.create(l.doc,d.pos)):l.setSelection(Ye.create(l.doc,d.pos));else{const m=a.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,g=m?.create();g&&(l.insert(f,g),l.setSelection(Ye.create(l.doc,f+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[OC({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),E9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,S9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,N9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,k9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,T9=ao.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[hl({find:E9,type:this.type}),hl({find:N9,type:this.type})]},addPasteRules(){return[no({find:S9,type:this.type}),no({find:k9,type:this.type})]}});const M9="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",A9="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ib="numeric",sb="ascii",ab="alpha",$c="asciinumeric",Dc="alphanumeric",ob="domain",IC="emoji",C9="scheme",_9="slashscheme",Kg="whitespace";function R9(t,e){return t in e||(e[t]=[]),e[t]}function $a(t,e,n){e[ib]&&(e[$c]=!0,e[Dc]=!0),e[sb]&&(e[$c]=!0,e[ab]=!0),e[$c]&&(e[Dc]=!0),e[ab]&&(e[Dc]=!0),e[Dc]&&(e[ob]=!0),e[IC]&&(e[ob]=!0);for(const r in e){const i=R9(r,n);i.indexOf(t)<0&&i.push(t)}}function O9(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function sr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}sr.groups={};sr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],a=e.jr[r][1];if(a&&i.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||sr.groups;let i;return e&&e.j?i=e:(i=new sr(e),n&&r&&$a(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const a=t.length;if(!a)return i;for(let l=0;l<a-1;l++)i=i.tt(t[l]);return i.tt(t[a-1],e,n,r)},tt(t,e,n,r){r=r||sr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const a=e;let l,c=i.go(t);if(c?(l=new sr,Object.assign(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new sr,a){if(r)if(l.t&&typeof l.t=="string"){const d=Object.assign(O9(l.t,r),n);$a(a,d,r)}else n&&$a(a,n,r);l.t=a}return i.j[t]=l,l}};const et=(t,e,n,r,i)=>t.ta(e,n,r,i),$t=(t,e,n,r,i)=>t.tr(e,n,r,i),AN=(t,e,n,r,i)=>t.ts(e,n,r,i),ce=(t,e,n,r,i)=>t.tt(e,n,r,i),ns="WORD",lb="UWORD",PC="ASCIINUMERICAL",BC="ALPHANUMERICAL",bu="LOCALHOST",cb="TLD",ub="UTLD",kf="SCHEME",Ko="SLASH_SCHEME",Bx="NUM",db="WS",zx="NL",qc="OPENBRACE",Gc="CLOSEBRACE",Zf="OPENBRACKET",Qf="CLOSEBRACKET",Jf="OPENPAREN",eh="CLOSEPAREN",th="OPENANGLEBRACKET",nh="CLOSEANGLEBRACKET",rh="FULLWIDTHLEFTPAREN",ih="FULLWIDTHRIGHTPAREN",sh="LEFTCORNERBRACKET",ah="RIGHTCORNERBRACKET",oh="LEFTWHITECORNERBRACKET",lh="RIGHTWHITECORNERBRACKET",ch="FULLWIDTHLESSTHAN",uh="FULLWIDTHGREATERTHAN",dh="AMPERSAND",fh="APOSTROPHE",hh="ASTERISK",Hs="AT",ph="BACKSLASH",mh="BACKTICK",gh="CARET",Ys="COLON",Ux="COMMA",bh="DOLLAR",ki="DOT",xh="EQUALS",Fx="EXCLAMATION",Fr="HYPHEN",Kc="PERCENT",yh="PIPE",vh="PLUS",wh="POUND",Yc="QUERY",Vx="QUOTE",zC="FULLWIDTHMIDDLEDOT",Hx="SEMI",Ti="SLASH",Wc="TILDE",Eh="UNDERSCORE",UC="EMOJI",Sh="SYM";var FC=Object.freeze({__proto__:null,ALPHANUMERICAL:BC,AMPERSAND:dh,APOSTROPHE:fh,ASCIINUMERICAL:PC,ASTERISK:hh,AT:Hs,BACKSLASH:ph,BACKTICK:mh,CARET:gh,CLOSEANGLEBRACKET:nh,CLOSEBRACE:Gc,CLOSEBRACKET:Qf,CLOSEPAREN:eh,COLON:Ys,COMMA:Ux,DOLLAR:bh,DOT:ki,EMOJI:UC,EQUALS:xh,EXCLAMATION:Fx,FULLWIDTHGREATERTHAN:uh,FULLWIDTHLEFTPAREN:rh,FULLWIDTHLESSTHAN:ch,FULLWIDTHMIDDLEDOT:zC,FULLWIDTHRIGHTPAREN:ih,HYPHEN:Fr,LEFTCORNERBRACKET:sh,LEFTWHITECORNERBRACKET:oh,LOCALHOST:bu,NL:zx,NUM:Bx,OPENANGLEBRACKET:th,OPENBRACE:qc,OPENBRACKET:Zf,OPENPAREN:Jf,PERCENT:Kc,PIPE:yh,PLUS:vh,POUND:wh,QUERY:Yc,QUOTE:Vx,RIGHTCORNERBRACKET:ah,RIGHTWHITECORNERBRACKET:lh,SCHEME:kf,SEMI:Hx,SLASH:Ti,SLASH_SCHEME:Ko,SYM:Sh,TILDE:Wc,TLD:cb,UNDERSCORE:Eh,UTLD:ub,UWORD:lb,WORD:ns,WS:db});const es=/[a-z]/,kc=new RegExp("\\p{L}","u"),Yg=new RegExp("\\p{Emoji}","u"),ts=/\d/,Wg=/\s/,CN="\r",Xg=`
`,D9="",j9="",Zg="";let nf=null,rf=null;function L9(t=[]){const e={};sr.groups=e;const n=new sr;nf==null&&(nf=_N(M9)),rf==null&&(rf=_N(A9)),ce(n,"'",fh),ce(n,"{",qc),ce(n,"}",Gc),ce(n,"[",Zf),ce(n,"]",Qf),ce(n,"(",Jf),ce(n,")",eh),ce(n,"<",th),ce(n,">",nh),ce(n,"",rh),ce(n,"",ih),ce(n,"",sh),ce(n,"",ah),ce(n,"",oh),ce(n,"",lh),ce(n,"",ch),ce(n,"",uh),ce(n,"&",dh),ce(n,"*",hh),ce(n,"@",Hs),ce(n,"`",mh),ce(n,"^",gh),ce(n,":",Ys),ce(n,",",Ux),ce(n,"$",bh),ce(n,".",ki),ce(n,"=",xh),ce(n,"!",Fx),ce(n,"-",Fr),ce(n,"%",Kc),ce(n,"|",yh),ce(n,"+",vh),ce(n,"#",wh),ce(n,"?",Yc),ce(n,'"',Vx),ce(n,"/",Ti),ce(n,";",Hx),ce(n,"~",Wc),ce(n,"_",Eh),ce(n,"\\",ph),ce(n,"",zC);const r=$t(n,ts,Bx,{[ib]:!0});$t(r,ts,r);const i=$t(r,es,PC,{[$c]:!0}),a=$t(r,kc,BC,{[Dc]:!0}),l=$t(n,es,ns,{[sb]:!0});$t(l,ts,i),$t(l,es,l),$t(i,ts,i),$t(i,es,i);const c=$t(n,kc,lb,{[ab]:!0});$t(c,es),$t(c,ts,a),$t(c,kc,c),$t(a,ts,a),$t(a,es),$t(a,kc,a);const d=ce(n,Xg,zx,{[Kg]:!0}),f=ce(n,CN,db,{[Kg]:!0}),m=$t(n,Wg,db,{[Kg]:!0});ce(n,Zg,m),ce(f,Xg,d),ce(f,Zg,m),$t(f,Wg,m),ce(m,CN),ce(m,Xg),$t(m,Wg,m),ce(m,Zg,m);const g=$t(n,Yg,UC,{[IC]:!0});ce(g,"#"),$t(g,Yg,g),ce(g,D9,g);const x=ce(g,j9);ce(x,"#"),$t(x,Yg,g);const y=[[es,l],[ts,i]],w=[[es,null],[kc,c],[ts,a]];for(let E=0;E<nf.length;E++)Bs(n,nf[E],cb,ns,y);for(let E=0;E<rf.length;E++)Bs(n,rf[E],ub,lb,w);$a(cb,{tld:!0,ascii:!0},e),$a(ub,{utld:!0,alpha:!0},e),Bs(n,"file",kf,ns,y),Bs(n,"mailto",kf,ns,y),Bs(n,"http",Ko,ns,y),Bs(n,"https",Ko,ns,y),Bs(n,"ftp",Ko,ns,y),Bs(n,"ftps",Ko,ns,y),$a(kf,{scheme:!0,ascii:!0},e),$a(Ko,{slashscheme:!0,ascii:!0},e),t=t.sort((E,S)=>E[0]>S[0]?1:-1);for(let E=0;E<t.length;E++){const S=t[E][0],_=t[E][1]?{[C9]:!0}:{[_9]:!0};S.indexOf("-")>=0?_[ob]=!0:es.test(S)?ts.test(S)?_[$c]=!0:_[sb]=!0:_[ib]=!0,AN(n,S,S,_)}return AN(n,"localhost",bu,{ascii:!0}),n.jd=new sr(Sh),{start:n,tokens:Object.assign({groups:e},FC)}}function VC(t,e){const n=I9(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,i=[];let a=0,l=0;for(;l<r;){let c=t,d=null,f=0,m=null,g=-1,x=-1;for(;l<r&&(d=c.go(n[l]));)c=d,c.accepts()?(g=0,x=0,m=c):g>=0&&(g+=n[l].length,x++),f+=n[l].length,a+=n[l].length,l++;a-=g,l-=x,f-=g,i.push({t:m.t,v:e.slice(a-f,a),s:a-f,e:a})}return i}function I9(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),a,l=i<55296||i>56319||r+1===n||(a=t.charCodeAt(r+1))<56320||a>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Bs(t,e,n,r,i){let a;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];t.j[d]?a=t.j[d]:(a=new sr(r),a.jr=i.slice(),t.j[d]=a),t=a}return a=new sr(n),a.jr=i.slice(),t.j[e[l-1]]=a,a}function _N(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let a=0;for(;i.indexOf(t[r+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+a),10);l>0;l--)n.pop();r+=a}else n.push(t[r]),r++}return e}const xu={defaultProtocol:"http",events:null,format:RN,formatHref:RN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function $x(t,e=null){let n=Object.assign({},xu);t&&(n=Object.assign(n,t instanceof $x?t.o:t));const r=n.ignoreTags,i=[];for(let a=0;a<r.length;a++)i.push(r[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}$x.prototype={o:xu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:xu[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function RN(t){return t}function HC(t,e){this.t="token",this.v=t,this.tk=e}HC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=xu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),a=this.toFormattedString(t),l={},c=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),m=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),f&&(l.rel=f),m&&Object.assign(l,m),{tagName:i,attributes:l,content:a,eventListeners:g}}};function Zh(t,e){class n extends HC{constructor(i,a){super(i,a),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const ON=Zh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),DN=Zh("text"),P9=Zh("nl"),sf=Zh("url",{isLink:!0,toHref(t=xu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==bu&&t[1].t===Ys}}),zr=t=>new sr(t);function B9({groups:t}){const e=t.domain.concat([dh,hh,Hs,ph,mh,gh,bh,xh,Fr,Bx,Kc,yh,vh,wh,Ti,Sh,Wc,Eh]),n=[fh,Ys,Ux,ki,Fx,Kc,Yc,Vx,Hx,th,nh,qc,Gc,Qf,Zf,Jf,eh,rh,ih,sh,ah,oh,lh,ch,uh],r=[dh,fh,hh,ph,mh,gh,bh,xh,Fr,qc,Gc,Kc,yh,vh,wh,Yc,Ti,Sh,Wc,Eh],i=zr(),a=ce(i,Wc);et(a,r,a),et(a,t.domain,a);const l=zr(),c=zr(),d=zr();et(i,t.domain,l),et(i,t.scheme,c),et(i,t.slashscheme,d),et(l,r,a),et(l,t.domain,l);const f=ce(l,Hs);ce(a,Hs,f),ce(c,Hs,f),ce(d,Hs,f);const m=ce(a,ki);et(m,r,a),et(m,t.domain,a);const g=zr();et(f,t.domain,g),et(g,t.domain,g);const x=ce(g,ki);et(x,t.domain,g);const y=zr(ON);et(x,t.tld,y),et(x,t.utld,y),ce(f,bu,y);const w=ce(g,Fr);ce(w,Fr,w),et(w,t.domain,g),et(y,t.domain,g),ce(y,ki,x),ce(y,Fr,w);const E=ce(y,Ys);et(E,t.numeric,ON);const S=ce(l,Fr),k=ce(l,ki);ce(S,Fr,S),et(S,t.domain,l),et(k,r,a),et(k,t.domain,l);const _=zr(sf);et(k,t.tld,_),et(k,t.utld,_),et(_,t.domain,l),et(_,r,a),ce(_,ki,k),ce(_,Fr,S),ce(_,Hs,f);const A=ce(_,Ys),P=zr(sf);et(A,t.numeric,P);const O=zr(sf),C=zr();et(O,e,O),et(O,n,C),et(C,e,O),et(C,n,C),ce(_,Ti,O),ce(P,Ti,O);const L=ce(c,Ys),$=ce(d,Ys),J=ce($,Ti),pe=ce(J,Ti);et(c,t.domain,l),ce(c,ki,k),ce(c,Fr,S),et(d,t.domain,l),ce(d,ki,k),ce(d,Fr,S),et(L,t.domain,O),ce(L,Ti,O),ce(L,Yc,O),et(pe,t.domain,O),et(pe,e,O),ce(pe,Ti,O);const Te=[[qc,Gc],[Zf,Qf],[Jf,eh],[th,nh],[rh,ih],[sh,ah],[oh,lh],[ch,uh]];for(let Ae=0;Ae<Te.length;Ae++){const[Ee,le]=Te[Ae],ge=ce(O,Ee);ce(C,Ee,ge),ce(ge,le,O);const F=zr(sf);et(ge,e,F);const ee=zr();et(ge,n),et(F,e,F),et(F,n,ee),et(ee,e,F),et(ee,n,ee),ce(F,le,O),ce(ee,le,O)}return ce(i,bu,_),ce(i,zx,P9),{start:i,tokens:FC}}function z9(t,e,n){let r=n.length,i=0,a=[],l=[];for(;i<r;){let c=t,d=null,f=null,m=0,g=null,x=-1;for(;i<r&&!(d=c.go(n[i].t));)l.push(n[i++]);for(;i<r&&(f=d||c.go(n[i].t));)d=null,c=f,c.accepts()?(x=0,g=c):x>=0&&x++,i++,m++;if(x<0)i-=m,i<r&&(l.push(n[i]),i++);else{l.length>0&&(a.push(Qg(DN,e,l)),l=[]),i-=x,m-=x;const y=g.t,w=n.slice(i-m,i);a.push(Qg(y,e,w))}}return l.length>0&&a.push(Qg(DN,e,l)),a}function Qg(t,e,n){const r=n[0].s,i=n[n.length-1].e,a=e.slice(r,i);return new t(a,n)}const U9=typeof console<"u"&&console&&console.warn||(()=>{}),F9="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function V9(){return sr.groups={},Rt.scanner=null,Rt.parser=null,Rt.tokenQueue=[],Rt.pluginQueue=[],Rt.customSchemes=[],Rt.initialized=!1,Rt}function jN(t,e=!1){if(Rt.initialized&&U9(`linkifyjs: already initialized - will not register custom scheme "${t}" ${F9}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rt.customSchemes.push([t,e])}function H9(){Rt.scanner=L9(Rt.customSchemes);for(let t=0;t<Rt.tokenQueue.length;t++)Rt.tokenQueue[t][1]({scanner:Rt.scanner});Rt.parser=B9(Rt.scanner.tokens);for(let t=0;t<Rt.pluginQueue.length;t++)Rt.pluginQueue[t][1]({scanner:Rt.scanner,parser:Rt.parser});return Rt.initialized=!0,Rt}function qx(t){return Rt.initialized||H9(),z9(Rt.parser.start,t,VC(Rt.scanner.start,t))}qx.scan=VC;function $C(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new $x(n),i=qx(t),a=[];for(let l=0;l<i.length;l++){const c=i[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&a.push(c.toFormattedObject(r))}return a}var Gx="[\0- -\u2029]",$9=new RegExp(Gx),q9=new RegExp(`${Gx}$`),G9=new RegExp(Gx,"g");function K9(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Y9(t){return new Ut({key:new fn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),a=e.some(f=>f.getMeta("preventAutolink"));if(!i||a)return;const{tr:l}=r,c=uC(n.doc,[...e]);if(bC(c).forEach(({newRange:f})=>{const m=jU(r.doc,f,y=>y.isTextblock);let g,x;if(m.length>1)g=m[0],x=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(m.length){const y=r.doc.textBetween(f.from,f.to," "," ");if(!q9.test(y))return;g=m[0],x=r.doc.textBetween(g.pos,f.to,void 0," ")}if(g&&x){const y=x.split($9).filter(Boolean);if(y.length<=0)return!1;const w=y[y.length-1],E=g.pos+x.lastIndexOf(w);if(!w)return!1;const S=qx(w).map(k=>k.toObject(t.defaultProtocol));if(!K9(S))return!1;S.filter(k=>k.isLink).map(k=>({...k,from:E+k.start+1,to:E+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{Dx(k.from,k.to,r.doc).some(_=>_.mark.type===t.type)||l.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!l.steps.length)return l}})}function W9(t){return new Ut({key:new fn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,a;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let m=r.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;l=g.find(x=>x.nodeName==="A")}if(!l)return!1;const c=gC(e.state,t.type.name),d=(i=l?.href)!=null?i:c.href,f=(a=l?.target)!=null?a:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&d?(window.open(d,f),!0):!1}}})}function X9(t){return new Ut({key:new fn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:a}=e,{selection:l}=a,{empty:c}=l;if(c)return!1;let d="";r.content.forEach(m=>{d+=m.textContent});const f=$C(d,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!f||i!==void 0&&!i(f.href)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function La(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(G9,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var qC=ao.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){jN(t);return}jN(t.scheme,t.optionalSlashes)})},onDestroy(){V9()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!La(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!La(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!La(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Qt(this.options.HTMLAttributes,t),0]:["a",Qt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!La(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!La(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[no({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=$C(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:l=>!!La(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Y9({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!La(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(W9({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(X9({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Z9=qC,Q9=Object.defineProperty,J9=(t,e)=>{for(var n in e)Q9(t,n,{get:e[n],enumerable:!0})},e8="listItem",LN="textStyle",IN=/^\s*([-+*])\s$/,GC=lr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Qt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(e8,this.editor.getAttributes(LN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=pl({find:IN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=pl({find:IN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(LN),editor:this.editor})),[t]}}),KC=lr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Qt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),c=e.parseChildren(l);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Px(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),t8={};J9(t8,{findListItemPos:()=>Ru,getNextListDepth:()=>Kx,handleBackspace:()=>fb,handleDelete:()=>hb,hasListBefore:()=>YC,hasListItemAfter:()=>n8,hasListItemBefore:()=>WC,listItemHasSubList:()=>XC,nextListIsDeeper:()=>ZC,nextListIsHigher:()=>QC});var Ru=(t,e)=>{const{$from:n}=e.selection,r=ln(t,e.schema);let i=null,a=n.depth,l=n.pos,c=null;for(;a>0&&c===null;)i=n.node(a),i.type===r?c=a:(a-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},Kx=(t,e)=>{const n=Ru(t,e);if(!n)return!1;const[,r]=$U(e,t,n.$pos.pos+4);return r},YC=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),a=t.doc.resolve(i).node();return!(!a||!n.includes(a.type.name))},WC=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},XC=(t,e,n)=>{if(!n)return!1;const r=ln(t,e.schema);let i=!1;return n.descendants(a=>{a.type===r&&(i=!0)}),i},fb=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!oa(t.state,e)&&YC(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),f=[];d.node().descendants((x,y)=>{x.type.name===e&&f.push({node:x,pos:y})});const m=f.at(-1);if(!m)return!1;const g=t.state.doc.resolve(d.start()+m.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},g.end()).joinForward().run()}if(!oa(t.state,e)||!YU(t.state))return!1;const r=Ru(e,t.state);if(!r)return!1;const a=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=XC(e,t.state,a);return WC(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},ZC=(t,e)=>{const n=Kx(t,e),r=Ru(t,e);return!r||!n?!1:n>r.depth},QC=(t,e)=>{const n=Kx(t,e),r=Ru(t,e);return!r||!n?!1:n<r.depth},hb=(t,e)=>{if(!oa(t.state,e)||!KU(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:ZC(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():QC(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},n8=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},JC=en.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&hb(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&hb(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&fb(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&fb(t,n,r)&&(e=!0)}),e}}}}),PN=/^(\s*)(\d+)\.\s+(.*)$/,r8=/^\s/;function i8(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],a=i.match(PN);if(!a)break;const[,l,c,d]=a,f=l.length;let m=d,g=n+1;const x=[i];for(;g<t.length;){const y=t[g];if(y.match(PN))break;if(y.trim()==="")x.push(y),m+=`
`,g+=1;else if(y.match(r8))x.push(y),m+=`
${y.slice(f+2)}`,g+=1;else break}e.push({indent:f,number:parseInt(c,10),content:m.trim(),raw:x.join(`
`)}),r=g,n=g}return[e,r]}function e2(t,e,n){var r;const i=[];let a=0;for(;a<t.length;){const l=t[a];if(l.indent===e){const c=l.content.split(`
`),d=((r=c[0])==null?void 0:r.trim())||"",f=[];d&&f.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const m=c.slice(1).join(`
`).trim();if(m){const y=n.blockTokens(m);f.push(...y)}let g=a+1;const x=[];for(;g<t.length&&t[g].indent>e;)x.push(t[g]),g+=1;if(x.length>0){const y=Math.min(...x.map(E=>E.indent)),w=e2(x,y,n);f.push({type:"list",ordered:!0,start:x[0].number,items:w,raw:x.map(E=>E.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:f}),a=g}else a+=1}return i}function s8(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const a=e.parseChildren([i]);r.push({type:"paragraph",content:a})}else{const a=e.parseChildren([i]);a.length>0&&r.push(...a)}}),{type:"listItem",content:r}})}var a8="listItem",BN="textStyle",zN=/^(\d+)\.\s$/,t2=lr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Qt(this.options.HTMLAttributes,n),0]:["ol",Qt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?s8(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[a,l]=i8(i);if(a.length===0)return;const c=e2(a,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=a[0])==null?void 0:r.number)||1,items:c,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a8,this.editor.getAttributes(BN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=pl({find:zN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=pl({find:zN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(BN)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),o8=/^\s*(\[([( |x])?\])\s$/,l8=lr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Qt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Px(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),a=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=m=>{var g,x;c.ariaLabel=((x=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:x.call(g,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return f(t),a.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const y=n();if(typeof y!="number")return!1;const w=x.doc.nodeAt(y);return x.setNodeMarkup(y,void 0,{...w?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{i.setAttribute(m,g)}),i.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,a.append(c,l),i.append(a,d),Object.entries(e).forEach(([m,g])=>{i.setAttribute(m,g)}),{dom:i,contentDOM:d,update:m=>m.type!==this.type?!1:(i.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,f(m),!0)}}},addInputRules(){return[pl({find:o8,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),c8=lr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Qt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=a=>{const l=nb(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,d)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:d}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(a)},i=nb(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});en.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(GC.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(KC.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(JC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(t2.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(l8.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(c8.configure(this.options.taskList)),t}});var u8=lr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Qt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),d8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,f8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,h8=ao.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Qt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[hl({find:d8,type:this.type})]},addPasteRules(){return[no({find:f8,type:this.type})]}}),p8=lr.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),n2=ao.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Qt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const a=i[2].trim();return{type:"underline",raw:i[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),m8=n2;function g8(t={}){return new Ut({view(e){return new b8(e,t)}})}class b8{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=l=>{this[i](l)};return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,a=i.getBoundingClientRect(),l=a.width/i.offsetWidth,c=a.height/i.offsetHeight;if(n){let g=e.nodeBefore,x=e.nodeAfter;if(g||x){let y=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(y){let w=y.getBoundingClientRect(),E=g?w.bottom:w.top;g&&x&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*c;r={left:w.left,right:w.right,top:E-S,bottom:E+S}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*l;r={left:g.left-x,right:g.left+x,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,m=-pageYOffset;else{let g=d.getBoundingClientRect(),x=g.width/d.offsetWidth,y=g.height/d.offsetHeight;f=g.left-d.scrollLeft*x,m=g.top-d.scrollTop*y}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!a){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=nA(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Gt extends tt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Gt.valid(r)?new Gt(r):tt.near(r)}content(){return xe.empty}eq(e){return e instanceof Gt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Gt(e.resolve(n.pos))}getBookmark(){return new Yx(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!x8(e)||!y8(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Gt.valid(e))return e;let i=e.pos,a=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){a=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let d=e.doc.resolve(i);if(Gt.valid(d))return d}for(;;){let l=n>0?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!je.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*n),r=!1;continue e}break}a=l,i+=n;let c=e.doc.resolve(i);if(Gt.valid(c))return c}return null}}}Gt.prototype.visible=!1;Gt.findFrom=Gt.findGapCursorFrom;tt.jsonID("gapcursor",Gt);class Yx{constructor(e){this.pos=e}map(e){return new Yx(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Gt.valid(n)?new Gt(n):tt.near(n)}}function r2(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function x8(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||r2(i.type))return!0;if(i.inlineContent)return!1}}return!0}function y8(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||r2(i.type))return!0;if(i.inlineContent)return!1}}return!0}function v8(){return new Ut({props:{decorations:N8,createSelectionBetween(t,e,n){return e.pos==n.pos&&Gt.valid(n)?new Gt(n):null},handleClick:E8,handleKeyDown:w8,handleDOMEvents:{beforeinput:S8}}})}const w8=nC({ArrowLeft:af("horiz",-1),ArrowRight:af("horiz",1),ArrowUp:af("vert",-1),ArrowDown:af("vert",1)});function af(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,a){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof Ye){if(!a.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=Gt.findGapCursorFrom(c,e,d);return f?(i&&i(r.tr.setSelection(new Gt(f))),!0):!1}}function E8(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Gt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&je.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Gt(r))),!0)}function S8(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Gt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=oe.empty;for(let l=r.length-1;l>=0;l--)i=oe.from(r[l].createAndFill(null,i));let a=t.state.tr.replace(n.pos,n.pos,new xe(i,0,0));return a.setSelection(Ye.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function N8(t){if(!(t.selection instanceof Gt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",It.create(t.doc,[Un.widget(t.selection.head,e,{key:"gapcursor"})])}var Nh=200,vn=function(){};vn.prototype.append=function(e){return e.length?(e=vn.from(e),!this.length&&e||e.length<Nh&&this.leafAppend(e)||this.length<Nh&&e.leafPrepend(this)||this.appendInner(e)):this};vn.prototype.prepend=function(e){return e.length?vn.from(e).append(this):this};vn.prototype.appendInner=function(e){return new k8(this,e)};vn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?vn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};vn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};vn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};vn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,l){return i.push(e(a,l))},n,r),i};vn.from=function(e){return e instanceof vn?e:e&&e.length?new i2(e):vn.empty};var i2=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,l,c){for(var d=a;d<l;d++)if(i(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,l,c){for(var d=a-1;d>=l;d--)if(i(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Nh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Nh)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(vn);vn.empty=new i2([]);var k8=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,a,l){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(a,c),l)===!1||a>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,a)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,a,l){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(a,c)-c,l+c)===!1||a<c&&this.left.forEachInvertedInner(r,Math.min(i,c),a,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(vn);const T8=500;class oi{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;n&&(i=this.remapping(r,this.items.length),a=i.maps.length);let l=e.tr,c,d,f=[],m=[];return this.items.forEach((g,x)=>{if(!g.step){i||(i=this.remapping(r,x+1),a=i.maps.length),a--,m.push(g);return}if(i){m.push(new Mi(g.map));let y=g.step.map(i.slice(a)),w;y&&l.maybeStep(y).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new Mi(w,void 0,void 0,f.length+m.length))),a--,w&&i.appendMap(w,a)}else l.maybeStep(g.step);if(g.selection)return c=i?g.selection.map(i.slice(a)):g.selection,d=new oi(this.items.slice(0,r).append(m.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,n,r,i){let a=[],l=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),x=new Mi(e.mapping.maps[m],g,n),y;(y=d&&d.merge(x))&&(x=y,m?a.pop():c=c.slice(0,c.length-1)),a.push(x),n&&(l++,n=void 0),i||(d=x)}let f=l-r.depth;return f>A8&&(c=M8(c,f),l-=f),new oi(c.append(a),l)}remapping(e,n){let r=new uu;return this.items.forEach((i,a)=>{let l=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new oi(this.items.append(e.map(n=>new Mi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),a=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(x=>{x.selection&&c--},i);let d=n;this.items.forEach(x=>{let y=a.getMirror(--d);if(y==null)return;l=Math.min(l,y);let w=a.maps[y];if(x.step){let E=e.steps[y].invert(e.docs[y]),S=x.selection&&x.selection.map(a.slice(d+1,y));S&&c++,r.push(new Mi(w,E,S))}else r.push(new Mi(w))},i);let f=[];for(let x=n;x<l;x++)f.push(new Mi(a.maps[x]));let m=this.items.slice(0,i).append(f).append(r),g=new oi(m,c);return g.emptyItemCount()>T8&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],a=0;return this.items.forEach((l,c)=>{if(c>=e)i.push(l),l.selection&&a++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let m=l.selection&&l.selection.map(n.slice(r));m&&a++;let g=new Mi(f.invert(),d,m),x,y=i.length-1;(x=i.length&&i[y].merge(g))?i[y]=x:i.push(g)}}else l.map&&r--},this.items.length,0),new oi(vn.from(i.reverse()),a)}}oi.empty=new oi(vn.empty,0);function M8(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Mi{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Mi(n.getMap().invert(),n,this.selection)}}}class $s{constructor(e,n,r,i,a){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const A8=20;function C8(t,e,n,r){let i=n.getMeta(Za),a;if(i)return i.historyState;n.getMeta(O8)&&(t=new $s(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Za))return l.getMeta(Za).redo?new $s(t.done.addTransform(n,void 0,r,Tf(e)),t.undone,UN(n.mapping.maps),t.prevTime,t.prevComposition):new $s(t.done,t.undone.addTransform(n,void 0,r,Tf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_8(n,t.prevRanges)),f=l?Jg(t.prevRanges,n.mapping):UN(n.mapping.maps);return new $s(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Tf(e)),oi.empty,f,n.time,c??t.prevComposition)}else return(a=n.getMeta("rebased"))?new $s(t.done.rebased(n,a),t.undone.rebased(n,a),Jg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new $s(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Jg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _8(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&i>=e[a]&&(n=!0)}),n}function UN(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,a,l)=>e.push(a,l));return e}function Jg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),a=e.map(t[r+1],-1);i<=a&&n.push(i,a)}return n}function R8(t,e,n){let r=Tf(e),i=Za.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,r);if(!a)return null;let l=a.selection.resolve(a.transform.doc),c=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,r),d=new $s(n?c:a.remaining,n?a.remaining:c,null,0,-1);return a.transform.setSelection(l).setMeta(Za,{redo:n,historyState:d})}let e0=!1,FN=null;function Tf(t){let e=t.plugins;if(FN!=e){e0=!1,FN=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){e0=!0;break}}return e0}const Za=new fn("history"),O8=new fn("closeHistory");function D8(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ut({key:Za,state:{init(){return new $s(oi.empty,oi.empty,null,0,-1)},apply(e,n,r){return C8(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?a2:r=="historyRedo"?o2:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function s2(t,e){return(n,r)=>{let i=Za.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let a=R8(i,n,t);a&&r(e?a.scrollIntoView():a)}return!0}}const a2=s2(!1,!0),o2=s2(!0,!0);en.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ut({key:new fn("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const a=this.storage.characters({node:r.doc});if(a>i){const l=a-i,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=r||i>r&&a>r&&a<=i)return!0;if(i>r&&a>r&&a>i||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=a-r,f=c-d,m=c;return e.deleteRange(f,m),!(this.storage.characters({node:e.doc})>r)}})]}});var j8=en.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[g8(this.options)]}});en.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ut({key:new fn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,a=[];if(!n||!r)return It.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((d,f)=>{if(d.isText)return;if(!(i>=f&&i<=f+d.nodeSize-1))return!1;l+=1});let c=0;return t.descendants((d,f)=>{if(d.isText||!(i>=f&&i<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";a.push(Un.node(f,f+d.nodeSize,{class:this.options.className}))}),It.create(t,a)}}})]}});var L8=en.create({name:"gapCursor",addProseMirrorPlugins(){return[v8()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=yt(De(t,"allowGapCursor",n)))!=null?e:null}}}),I8=en.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ut({key:new fn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const a=this.editor.isEmpty;return t.descendants((l,c)=>{const d=r>=c&&r<=c+l.nodeSize,f=!l.isLeaf&&Yh(l);if((d||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];a&&m.push(this.options.emptyEditorClass);const g=Un.node(c,c+l.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),It.create(t,i)}}})]}});en.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ut({key:new fn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||xC(n.selection)||t.view.dragging?null:It.create(n.doc,[Un.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function VN({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var P8=en.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new fn(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Ut({key:e,appendTransaction:(i,a,l)=>{const{doc:c,tr:d,schema:f}=l,m=e.getState(l),g=c.content.size,x=f.nodes[n];if(m)return d.insert(g,x.create())},state:{init:(i,a)=>{const l=a.tr.doc.lastChild;return!VN({node:l,types:r})},apply:(i,a)=>{if(!i.docChanged)return a;const l=i.doc.lastChild;return!VN({node:l,types:r})}}})]}}),B8=en.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>a2(t,e),redo:()=>({state:t,dispatch:e})=>o2(t,e)}},addProseMirrorPlugins(){return[D8(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),z8=en.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(d9.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(a9.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(GC.configure(this.options.bulletList)),this.options.code!==!1&&i.push(p9.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(LC.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(x9.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(j8.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(L8.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(y9.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(v9.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(B8.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(w9.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(T9.configure(this.options.italic)),this.options.listItem!==!1&&i.push(KC.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(JC.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(qC.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(t2.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(u8.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(h8.configure(this.options.strike)),this.options.text!==!1&&i.push(p8.configure(this.options.text)),this.options.underline!==!1&&i.push(n2.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(P8.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),U8=z8,F8=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,V8=lr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Qt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,a,l;const c=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",d=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",f=(l=(a=t.attrs)==null?void 0:a.title)!=null?l:"";return f?`![${d}](${c} "${f}")`:`![${d}](${c})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[OC({find:F8,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),H8=V8,$8=I8,q8=en.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),G8=q8,t0,HN;function K8(){if(HN)return t0;HN=1;function t(I){return I instanceof Map?I.clear=I.delete=I.set=function(){throw new Error("map is read-only")}:I instanceof Set&&(I.add=I.clear=I.delete=function(){throw new Error("set is read-only")}),Object.freeze(I),Object.getOwnPropertyNames(I).forEach(ne=>{const de=I[ne],Be=typeof de;(Be==="object"||Be==="function")&&!Object.isFrozen(de)&&t(de)}),I}class e{constructor(ne){ne.data===void 0&&(ne.data={}),this.data=ne.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(I,...ne){const de=Object.create(null);for(const Be in I)de[Be]=I[Be];return ne.forEach(function(Be){for(const D in Be)de[D]=Be[D]}),de}const i="</span>",a=I=>!!I.scope,l=(I,{prefix:ne})=>{if(I.startsWith("language:"))return I.replace("language:","language-");if(I.includes(".")){const de=I.split(".");return[`${ne}${de.shift()}`,...de.map((Be,D)=>`${Be}${"_".repeat(D+1)}`)].join(" ")}return`${ne}${I}`};class c{constructor(ne,de){this.buffer="",this.classPrefix=de.classPrefix,ne.walk(this)}addText(ne){this.buffer+=n(ne)}openNode(ne){if(!a(ne))return;const de=l(ne.scope,{prefix:this.classPrefix});this.span(de)}closeNode(ne){a(ne)&&(this.buffer+=i)}value(){return this.buffer}span(ne){this.buffer+=`<span class="${ne}">`}}const d=(I={})=>{const ne={children:[]};return Object.assign(ne,I),ne};class f{constructor(){this.rootNode=d(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(ne){this.top.children.push(ne)}openNode(ne){const de=d({scope:ne});this.add(de),this.stack.push(de)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(ne){return this.constructor._walk(ne,this.rootNode)}static _walk(ne,de){return typeof de=="string"?ne.addText(de):de.children&&(ne.openNode(de),de.children.forEach(Be=>this._walk(ne,Be)),ne.closeNode(de)),ne}static _collapse(ne){typeof ne!="string"&&ne.children&&(ne.children.every(de=>typeof de=="string")?ne.children=[ne.children.join("")]:ne.children.forEach(de=>{f._collapse(de)}))}}class m extends f{constructor(ne){super(),this.options=ne}addText(ne){ne!==""&&this.add(ne)}startScope(ne){this.openNode(ne)}endScope(){this.closeNode()}__addSublanguage(ne,de){const Be=ne.root;de&&(Be.scope=`language:${de}`),this.add(Be)}toHTML(){return new c(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function g(I){return I?typeof I=="string"?I:I.source:null}function x(I){return E("(?=",I,")")}function y(I){return E("(?:",I,")*")}function w(I){return E("(?:",I,")?")}function E(...I){return I.map(de=>g(de)).join("")}function S(I){const ne=I[I.length-1];return typeof ne=="object"&&ne.constructor===Object?(I.splice(I.length-1,1),ne):{}}function k(...I){return"("+(S(I).capture?"":"?:")+I.map(Be=>g(Be)).join("|")+")"}function _(I){return new RegExp(I.toString()+"|").exec("").length-1}function A(I,ne){const de=I&&I.exec(ne);return de&&de.index===0}const P=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function O(I,{joinWith:ne}){let de=0;return I.map(Be=>{de+=1;const D=de;let U=g(Be),B="";for(;U.length>0;){const H=P.exec(U);if(!H){B+=U;break}B+=U.substring(0,H.index),U=U.substring(H.index+H[0].length),H[0][0]==="\\"&&H[1]?B+="\\"+String(Number(H[1])+D):(B+=H[0],H[0]==="("&&de++)}return B}).map(Be=>`(${Be})`).join(ne)}const C=/\b\B/,L="[a-zA-Z]\\w*",$="[a-zA-Z_]\\w*",J="\\b\\d+(\\.\\d+)?",pe="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Te="\\b(0b[01]+)",Ae="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ee=(I={})=>{const ne=/^#![ ]*\//;return I.binary&&(I.begin=E(ne,/.*\b/,I.binary,/\b.*/)),r({scope:"meta",begin:ne,end:/$/,relevance:0,"on:begin":(de,Be)=>{de.index!==0&&Be.ignoreMatch()}},I)},le={begin:"\\\\[\\s\\S]",relevance:0},ge={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[le]},F={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[le]},ee={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},X=function(I,ne,de={}){const Be=r({scope:"comment",begin:I,end:ne,contains:[]},de);Be.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const D=k("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Be.contains.push({begin:E(/[ ]+/,"(",D,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Be},ue=X("//","$"),R=X("/\\*","\\*/"),W=X("#","$"),Z={scope:"number",begin:J,relevance:0},te={scope:"number",begin:pe,relevance:0},be={scope:"number",begin:Te,relevance:0},Fe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[le,{begin:/\[/,end:/\]/,relevance:0,contains:[le]}]},Ce={scope:"title",begin:L,relevance:0},Ft={scope:"title",begin:$,relevance:0},ct={begin:"\\.\\s*"+$,relevance:0};var gt=Object.freeze({__proto__:null,APOS_STRING_MODE:ge,BACKSLASH_ESCAPE:le,BINARY_NUMBER_MODE:be,BINARY_NUMBER_RE:Te,COMMENT:X,C_BLOCK_COMMENT_MODE:R,C_LINE_COMMENT_MODE:ue,C_NUMBER_MODE:te,C_NUMBER_RE:pe,END_SAME_AS_BEGIN:function(I){return Object.assign(I,{"on:begin":(ne,de)=>{de.data._beginMatch=ne[1]},"on:end":(ne,de)=>{de.data._beginMatch!==ne[1]&&de.ignoreMatch()}})},HASH_COMMENT_MODE:W,IDENT_RE:L,MATCH_NOTHING_RE:C,METHOD_GUARD:ct,NUMBER_MODE:Z,NUMBER_RE:J,PHRASAL_WORDS_MODE:ee,QUOTE_STRING_MODE:F,REGEXP_MODE:Fe,RE_STARTERS_RE:Ae,SHEBANG:Ee,TITLE_MODE:Ce,UNDERSCORE_IDENT_RE:$,UNDERSCORE_TITLE_MODE:Ft});function hn(I,ne){I.input[I.index-1]==="."&&ne.ignoreMatch()}function Sr(I,ne){I.className!==void 0&&(I.scope=I.className,delete I.className)}function Nr(I,ne){ne&&I.beginKeywords&&(I.begin="\\b("+I.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",I.__beforeBegin=hn,I.keywords=I.keywords||I.beginKeywords,delete I.beginKeywords,I.relevance===void 0&&(I.relevance=0))}function wn(I,ne){Array.isArray(I.illegal)&&(I.illegal=k(...I.illegal))}function Di(I,ne){if(I.match){if(I.begin||I.end)throw new Error("begin & end are not supported with match");I.begin=I.match,delete I.match}}function ot(I,ne){I.relevance===void 0&&(I.relevance=1)}const Ct=(I,ne)=>{if(!I.beforeMatch)return;if(I.starts)throw new Error("beforeMatch cannot be used with starts");const de=Object.assign({},I);Object.keys(I).forEach(Be=>{delete I[Be]}),I.keywords=de.keywords,I.begin=E(de.beforeMatch,x(de.begin)),I.starts={relevance:0,contains:[Object.assign(de,{endsParent:!0})]},I.relevance=0,delete de.beforeMatch},Vn=["of","and","for","in","not","or","if","then","parent","list","value"],kr="keyword";function hi(I,ne,de=kr){const Be=Object.create(null);return typeof I=="string"?D(de,I.split(" ")):Array.isArray(I)?D(de,I):Object.keys(I).forEach(function(U){Object.assign(Be,hi(I[U],ne,U))}),Be;function D(U,B){ne&&(B=B.map(H=>H.toLowerCase())),B.forEach(function(H){const Q=H.split("|");Be[Q[0]]=[U,pi(Q[0],Q[1])]})}}function pi(I,ne){return ne?Number(ne):cr(I)?0:1}function cr(I){return Vn.includes(I.toLowerCase())}const Ge={},Qe=I=>{console.error(I)},ds=(I,...ne)=>{console.log(`WARN: ${I}`,...ne)},Yt=(I,ne)=>{Ge[`${I}/${ne}`]||(console.log(`Deprecated as of ${I}. ${ne}`),Ge[`${I}/${ne}`]=!0)},vt=new Error;function Zn(I,ne,{key:de}){let Be=0;const D=I[de],U={},B={};for(let H=1;H<=ne.length;H++)B[H+Be]=D[H],U[H+Be]=!0,Be+=_(ne[H-1]);I[de]=B,I[de]._emit=U,I[de]._multi=!0}function cn(I){if(Array.isArray(I.begin)){if(I.skip||I.excludeBegin||I.returnBegin)throw Qe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),vt;if(typeof I.beginScope!="object"||I.beginScope===null)throw Qe("beginScope must be object"),vt;Zn(I,I.begin,{key:"beginScope"}),I.begin=O(I.begin,{joinWith:""})}}function El(I){if(Array.isArray(I.end)){if(I.skip||I.excludeEnd||I.returnEnd)throw Qe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),vt;if(typeof I.endScope!="object"||I.endScope===null)throw Qe("endScope must be object"),vt;Zn(I,I.end,{key:"endScope"}),I.end=O(I.end,{joinWith:""})}}function Tr(I){I.scope&&typeof I.scope=="object"&&I.scope!==null&&(I.beginScope=I.scope,delete I.scope)}function oo(I){Tr(I),typeof I.beginScope=="string"&&(I.beginScope={_wrap:I.beginScope}),typeof I.endScope=="string"&&(I.endScope={_wrap:I.endScope}),cn(I),El(I)}function ji(I){function ne(B,H){return new RegExp(g(B),"m"+(I.case_insensitive?"i":"")+(I.unicodeRegex?"u":"")+(H?"g":""))}class de{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(H,Q){Q.position=this.position++,this.matchIndexes[this.matchAt]=Q,this.regexes.push([Q,H]),this.matchAt+=_(H)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const H=this.regexes.map(Q=>Q[1]);this.matcherRe=ne(O(H,{joinWith:"|"}),!0),this.lastIndex=0}exec(H){this.matcherRe.lastIndex=this.lastIndex;const Q=this.matcherRe.exec(H);if(!Q)return null;const fe=Q.findIndex((ye,Me)=>Me>0&&ye!==void 0),he=this.matchIndexes[fe];return Q.splice(0,fe),Object.assign(Q,he)}}class Be{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(H){if(this.multiRegexes[H])return this.multiRegexes[H];const Q=new de;return this.rules.slice(H).forEach(([fe,he])=>Q.addRule(fe,he)),Q.compile(),this.multiRegexes[H]=Q,Q}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(H,Q){this.rules.push([H,Q]),Q.type==="begin"&&this.count++}exec(H){const Q=this.getMatcher(this.regexIndex);Q.lastIndex=this.lastIndex;let fe=Q.exec(H);if(this.resumingScanAtSamePosition()&&!(fe&&fe.index===this.lastIndex)){const he=this.getMatcher(0);he.lastIndex=this.lastIndex+1,fe=he.exec(H)}return fe&&(this.regexIndex+=fe.position+1,this.regexIndex===this.count&&this.considerAll()),fe}}function D(B){const H=new Be;return B.contains.forEach(Q=>H.addRule(Q.begin,{rule:Q,type:"begin"})),B.terminatorEnd&&H.addRule(B.terminatorEnd,{type:"end"}),B.illegal&&H.addRule(B.illegal,{type:"illegal"}),H}function U(B,H){const Q=B;if(B.isCompiled)return Q;[Sr,Di,oo,Ct].forEach(he=>he(B,H)),I.compilerExtensions.forEach(he=>he(B,H)),B.__beforeBegin=null,[Nr,wn,ot].forEach(he=>he(B,H)),B.isCompiled=!0;let fe=null;return typeof B.keywords=="object"&&B.keywords.$pattern&&(B.keywords=Object.assign({},B.keywords),fe=B.keywords.$pattern,delete B.keywords.$pattern),fe=fe||/\w+/,B.keywords&&(B.keywords=hi(B.keywords,I.case_insensitive)),Q.keywordPatternRe=ne(fe,!0),H&&(B.begin||(B.begin=/\B|\b/),Q.beginRe=ne(Q.begin),!B.end&&!B.endsWithParent&&(B.end=/\B|\b/),B.end&&(Q.endRe=ne(Q.end)),Q.terminatorEnd=g(Q.end)||"",B.endsWithParent&&H.terminatorEnd&&(Q.terminatorEnd+=(B.end?"|":"")+H.terminatorEnd)),B.illegal&&(Q.illegalRe=ne(B.illegal)),B.contains||(B.contains=[]),B.contains=[].concat(...B.contains.map(function(he){return Qr(he==="self"?B:he)})),B.contains.forEach(function(he){U(he,Q)}),B.starts&&U(B.starts,H),Q.matcher=D(Q),Q}if(I.compilerExtensions||(I.compilerExtensions=[]),I.contains&&I.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return I.classNameAliases=r(I.classNameAliases||{}),U(I)}function mi(I){return I?I.endsWithParent||mi(I.starts):!1}function Qr(I){return I.variants&&!I.cachedVariants&&(I.cachedVariants=I.variants.map(function(ne){return r(I,{variants:null},ne)})),I.cachedVariants?I.cachedVariants:mi(I)?r(I,{starts:I.starts?r(I.starts):null}):Object.isFrozen(I)?r(I):I}var Li="11.11.1";class Mr extends Error{constructor(ne,de){super(ne),this.name="HTMLInjectionError",this.html=de}}const fs=n,Ii=r,fa=Symbol("nomatch"),hs=7,gi=function(I){const ne=Object.create(null),de=Object.create(null),Be=[];let D=!0;const U="Could not find the language '{}', did you forget to load/include a language module?",B={disableAutodetect:!0,name:"Plain text",contains:[]};let H={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:m};function Q(ae){return H.noHighlightRe.test(ae)}function fe(ae){let ke=ae.className+" ";ke+=ae.parentNode?ae.parentNode.className:"";const Ve=H.languageDetectRe.exec(ke);if(Ve){const ze=jt(Ve[1]);return ze||(ds(U.replace("{}",Ve[1])),ds("Falling back to no-highlight mode for this block.",ae)),ze?Ve[1]:"no-highlight"}return ke.split(/\s+/).find(ze=>Q(ze)||jt(ze))}function he(ae,ke,Ve){let ze="",wt="";typeof ke=="object"?(ze=ae,Ve=ke.ignoreIllegals,wt=ke.language):(Yt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Yt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),wt=ae,ze=ke),Ve===void 0&&(Ve=!0);const Dn={code:ze,language:wt};Qn("before:highlight",Dn);const ur=Dn.result?Dn.result:ye(Dn.language,Dn.code,Ve);return ur.code=Dn.code,Qn("after:highlight",ur),ur}function ye(ae,ke,Ve,ze){const wt=Object.create(null);function Dn(me,ve){return me.keywords[ve]}function ur(){if(!We.keywords){tn.addText(mt);return}let me=0;We.keywordPatternRe.lastIndex=0;let ve=We.keywordPatternRe.exec(mt),Ke="";for(;ve;){Ke+=mt.substring(me,ve.index);const ut=dr.case_insensitive?ve[0].toLowerCase():ve[0],nn=Dn(We,ut);if(nn){const[_r,ga]=nn;if(tn.addText(Ke),Ke="",wt[ut]=(wt[ut]||0)+1,wt[ut]<=hs&&(lo+=ga),_r.startsWith("_"))Ke+=ve[0];else{const ni=dr.classNameAliases[_r]||_r;Cr(ve[0],ni)}}else Ke+=ve[0];me=We.keywordPatternRe.lastIndex,ve=We.keywordPatternRe.exec(mt)}Ke+=mt.substring(me),tn.addText(Ke)}function En(){if(mt==="")return;let me=null;if(typeof We.subLanguage=="string"){if(!ne[We.subLanguage]){tn.addText(mt);return}me=ye(We.subLanguage,mt,!0,kl[We.subLanguage]),kl[We.subLanguage]=me._top}else me=Re(mt,We.subLanguage.length?We.subLanguage:null);We.relevance>0&&(lo+=me.relevance),tn.__addSublanguage(me._emitter,me.language)}function jn(){We.subLanguage!=null?En():ur(),mt=""}function Cr(me,ve){me!==""&&(tn.startScope(ve),tn.addText(me),tn.endScope())}function ha(me,ve){let Ke=1;const ut=ve.length-1;for(;Ke<=ut;){if(!me._emit[Ke]){Ke++;continue}const nn=dr.classNameAliases[me[Ke]]||me[Ke],_r=ve[Ke];nn?Cr(_r,nn):(mt=_r,ur(),mt=""),Ke++}}function Sl(me,ve){return me.scope&&typeof me.scope=="string"&&tn.openNode(dr.classNameAliases[me.scope]||me.scope),me.beginScope&&(me.beginScope._wrap?(Cr(mt,dr.classNameAliases[me.beginScope._wrap]||me.beginScope._wrap),mt=""):me.beginScope._multi&&(ha(me.beginScope,ve),mt="")),We=Object.create(me,{parent:{value:We}}),We}function pa(me,ve,Ke){let ut=A(me.endRe,Ke);if(ut){if(me["on:end"]){const nn=new e(me);me["on:end"](ve,nn),nn.isMatchIgnored&&(ut=!1)}if(ut){for(;me.endsParent&&me.parent;)me=me.parent;return me}}if(me.endsWithParent)return pa(me.parent,ve,Ke)}function Qh(me){return We.matcher.regexIndex===0?(mt+=me[0],1):(ma=!0,0)}function Jn(me){const ve=me[0],Ke=me.rule,ut=new e(Ke),nn=[Ke.__beforeBegin,Ke["on:begin"]];for(const _r of nn)if(_r&&(_r(me,ut),ut.isMatchIgnored))return Qh(ve);return Ke.skip?mt+=ve:(Ke.excludeBegin&&(mt+=ve),jn(),!Ke.returnBegin&&!Ke.excludeBegin&&(mt=ve)),Sl(Ke,me),Ke.returnBegin?0:ve.length}function Nl(me){const ve=me[0],Ke=ke.substring(me.index),ut=pa(We,me,Ke);if(!ut)return fa;const nn=We;We.endScope&&We.endScope._wrap?(jn(),Cr(ve,We.endScope._wrap)):We.endScope&&We.endScope._multi?(jn(),ha(We.endScope,me)):nn.skip?mt+=ve:(nn.returnEnd||nn.excludeEnd||(mt+=ve),jn(),nn.excludeEnd&&(mt=ve));do We.scope&&tn.closeNode(),!We.skip&&!We.subLanguage&&(lo+=We.relevance),We=We.parent;while(We!==ut.parent);return ut.starts&&Sl(ut.starts,me),nn.returnEnd?0:ve.length}function Ou(){const me=[];for(let ve=We;ve!==dr;ve=ve.parent)ve.scope&&me.unshift(ve.scope);me.forEach(ve=>tn.openNode(ve))}let ps={};function Bi(me,ve){const Ke=ve&&ve[0];if(mt+=me,Ke==null)return jn(),0;if(ps.type==="begin"&&ve.type==="end"&&ps.index===ve.index&&Ke===""){if(mt+=ke.slice(ve.index,ve.index+1),!D){const ut=new Error(`0 width match regex (${ae})`);throw ut.languageName=ae,ut.badRule=ps.rule,ut}return 1}if(ps=ve,ve.type==="begin")return Jn(ve);if(ve.type==="illegal"&&!Ve){const ut=new Error('Illegal lexeme "'+Ke+'" for mode "'+(We.scope||"<unnamed>")+'"');throw ut.mode=We,ut}else if(ve.type==="end"){const ut=Nl(ve);if(ut!==fa)return ut}if(ve.type==="illegal"&&Ke==="")return mt+=`
`,1;if(ms>1e5&&ms>ve.index*3)throw new Error("potential infinite loop, way more iterations than matches");return mt+=Ke,Ke.length}const dr=jt(ae);if(!dr)throw Qe(U.replace("{}",ae)),new Error('Unknown language: "'+ae+'"');const Du=ji(dr);let xi="",We=ze||Du;const kl={},tn=new H.__emitter(H);Ou();let mt="",lo=0,zi=0,ms=0,ma=!1;try{if(dr.__emitTokens)dr.__emitTokens(ke,tn);else{for(We.matcher.considerAll();;){ms++,ma?ma=!1:We.matcher.considerAll(),We.matcher.lastIndex=zi;const me=We.matcher.exec(ke);if(!me)break;const ve=ke.substring(zi,me.index),Ke=Bi(ve,me);zi=me.index+Ke}Bi(ke.substring(zi))}return tn.finalize(),xi=tn.toHTML(),{language:ae,value:xi,relevance:lo,illegal:!1,_emitter:tn,_top:We}}catch(me){if(me.message&&me.message.includes("Illegal"))return{language:ae,value:fs(ke),illegal:!0,relevance:0,_illegalBy:{message:me.message,index:zi,context:ke.slice(zi-100,zi+100),mode:me.mode,resultSoFar:xi},_emitter:tn};if(D)return{language:ae,value:fs(ke),illegal:!1,relevance:0,errorRaised:me,_emitter:tn,_top:We};throw me}}function Me(ae){const ke={value:fs(ae),illegal:!1,relevance:0,_top:B,_emitter:new H.__emitter(H)};return ke._emitter.addText(ae),ke}function Re(ae,ke){ke=ke||H.languages||Object.keys(ne);const Ve=Me(ae),ze=ke.filter(jt).filter(Pi).map(jn=>ye(jn,ae,!1));ze.unshift(Ve);const wt=ze.sort((jn,Cr)=>{if(jn.relevance!==Cr.relevance)return Cr.relevance-jn.relevance;if(jn.language&&Cr.language){if(jt(jn.language).supersetOf===Cr.language)return 1;if(jt(Cr.language).supersetOf===jn.language)return-1}return 0}),[Dn,ur]=wt,En=Dn;return En.secondBest=ur,En}function Se(ae,ke,Ve){const ze=ke&&de[ke]||Ve;ae.classList.add("hljs"),ae.classList.add(`language-${ze}`)}function Ne(ae){let ke=null;const Ve=fe(ae);if(Q(Ve))return;if(Qn("before:highlightElement",{el:ae,language:Ve}),ae.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ae);return}if(ae.children.length>0&&(H.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ae)),H.throwUnescapedHTML))throw new Mr("One of your code blocks includes unescaped HTML.",ae.innerHTML);ke=ae;const ze=ke.textContent,wt=Ve?he(ze,{language:Ve,ignoreIllegals:!0}):Re(ze);ae.innerHTML=wt.value,ae.dataset.highlighted="yes",Se(ae,Ve,wt.language),ae.result={language:wt.language,re:wt.relevance,relevance:wt.relevance},wt.secondBest&&(ae.secondBest={language:wt.secondBest.language,relevance:wt.secondBest.relevance}),Qn("after:highlightElement",{el:ae,result:wt,text:ze})}function Xe(ae){H=Ii(H,ae)}const ft=()=>{qe(),Yt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Dt(){qe(),Yt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let _t=!1;function qe(){function ae(){qe()}if(document.readyState==="loading"){_t||window.addEventListener("DOMContentLoaded",ae,!1),_t=!0;return}document.querySelectorAll(H.cssSelector).forEach(Ne)}function pt(ae,ke){let Ve=null;try{Ve=ke(I)}catch(ze){if(Qe("Language definition for '{}' could not be registered.".replace("{}",ae)),D)Qe(ze);else throw ze;Ve=B}Ve.name||(Ve.name=ae),ne[ae]=Ve,Ve.rawDefinition=ke.bind(null,I),Ve.aliases&&$n(Ve.aliases,{languageName:ae})}function Ar(ae){delete ne[ae];for(const ke of Object.keys(de))de[ke]===ae&&delete de[ke]}function Hn(){return Object.keys(ne)}function jt(ae){return ae=(ae||"").toLowerCase(),ne[ae]||ne[de[ae]]}function $n(ae,{languageName:ke}){typeof ae=="string"&&(ae=[ae]),ae.forEach(Ve=>{de[Ve.toLowerCase()]=ke})}function Pi(ae){const ke=jt(ae);return ke&&!ke.disableAutodetect}function bi(ae){ae["before:highlightBlock"]&&!ae["before:highlightElement"]&&(ae["before:highlightElement"]=ke=>{ae["before:highlightBlock"](Object.assign({block:ke.el},ke))}),ae["after:highlightBlock"]&&!ae["after:highlightElement"]&&(ae["after:highlightElement"]=ke=>{ae["after:highlightBlock"](Object.assign({block:ke.el},ke))})}function ei(ae){bi(ae),Be.push(ae)}function ti(ae){const ke=Be.indexOf(ae);ke!==-1&&Be.splice(ke,1)}function Qn(ae,ke){const Ve=ae;Be.forEach(function(ze){ze[Ve]&&ze[Ve](ke)})}function Ze(ae){return Yt("10.7.0","highlightBlock will be removed entirely in v12.0"),Yt("10.7.0","Please use highlightElement now."),Ne(ae)}Object.assign(I,{highlight:he,highlightAuto:Re,highlightAll:qe,highlightElement:Ne,highlightBlock:Ze,configure:Xe,initHighlighting:ft,initHighlightingOnLoad:Dt,registerLanguage:pt,unregisterLanguage:Ar,listLanguages:Hn,getLanguage:jt,registerAliases:$n,autoDetection:Pi,inherit:Ii,addPlugin:ei,removePlugin:ti}),I.debugMode=function(){D=!1},I.safeMode=function(){D=!0},I.versionString=Li,I.regex={concat:E,lookahead:x,either:k,optional:w,anyNumberOfTimes:y};for(const ae in gt)typeof gt[ae]=="object"&&t(gt[ae]);return Object.assign(I,gt),I},Jr=gi({});return Jr.newInstance=()=>gi({}),t0=Jr,Jr.HighlightJS=Jr,Jr.default=Jr,t0}var Y8=K8();const l2=yu(Y8);function c2(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?c2(n.children,r):{text:n.value,classes:r}})}function $N(t){return t.value||t.children||[]}function W8(t){return!!l2.getLanguage(t)}function qN({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return J0(t,a=>a.type.name===e).forEach(a=>{var l;let c=a.pos+1;const d=a.node.attrs.language||r,f=n.listLanguages(),m=d&&(f.includes(d)||W8(d)||(l=n.registered)!=null&&l.call(n,d))?$N(n.highlight(d,a.node.textContent)):$N(n.highlightAuto(a.node.textContent));c2(m).forEach(g=>{const x=c+g.text.length;if(g.classes.length){const y=Un.inline(c,x,{class:g.classes.join(" ")});i.push(y)}c=x})}),It.create(t,i)}function X8(t){return typeof t=="function"}function Z8({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>X8(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Ut({key:new fn("lowlight"),state:{init:(i,{doc:a})=>qN({doc:a,name:t,lowlight:e,defaultLanguage:n}),apply:(i,a,l,c)=>{const d=l.selection.$head.parent.type.name,f=c.selection.$head.parent.type.name,m=J0(l.doc,x=>x.type.name===t),g=J0(c.doc,x=>x.type.name===t);return i.docChanged&&([d,f].includes(t)||g.length!==m.length||i.steps.some(x=>x.from!==void 0&&x.to!==void 0&&m.some(y=>y.pos>=x.from&&y.pos+y.node.nodeSize<=x.to)))?qN({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):a.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var Q8=b9.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],Z8({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),J8=Q8;function eF(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",c={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},m={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},x={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},y=e.optional(i)+t.IDENT_RE+"\\s*\\(",w=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],S=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],k=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],P={type:E,keyword:w,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:S},O={className:"function.dispatch",relevance:0,keywords:{_hint:k},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},C=[O,g,c,n,t.C_BLOCK_COMMENT_MODE,m,f],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:P,contains:C.concat([{begin:/\(/,end:/\)/,keywords:P,contains:C.concat(["self"]),relevance:0}]),relevance:0},$={className:"function",begin:"("+l+"[\\*&\\s]+)+"+y,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:P,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:P,relevance:0},{begin:y,returnBegin:!0,contains:[x],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,m]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:P,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,f,m,c,{begin:/\(/,end:/\)/,keywords:P,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,f,m,c]}]},c,n,t.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:P,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,$,O,C,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:P,contains:["self",c]},{begin:t.IDENT_RE+"::",keywords:P},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function tF(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=eF(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function nF(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},a=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),l={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},c={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(c);const d={match:/\\"/},f={className:"string",begin:/'/,end:/'/},m={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},x=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],y=t.SHEBANG({binary:`(${x.join("|")})`,relevance:10}),w={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],S=["true","false"],k={match:/(\/[a-z._-]+)+/},_=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],A=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],P=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],O=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:S,built_in:[..._,...A,"set","shopt",...P,...O]},contains:[y,t.SHEBANG(),w,g,a,l,k,c,d,f,m,n]}}function rF(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",c={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},m={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},x={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},y=e.optional(i)+t.IDENT_RE+"\\s*\\(",S={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},k=[g,c,n,t.C_BLOCK_COMMENT_MODE,m,f],_={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:S,contains:k.concat([{begin:/\(/,end:/\)/,keywords:S,contains:k.concat(["self"]),relevance:0}]),relevance:0},A={begin:"("+l+"[\\*&\\s]+)+"+y,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:S,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:S,relevance:0},{begin:y,returnBegin:!0,contains:[t.inherit(x,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,f,m,c,{begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,f,m,c]}]},c,n,t.C_BLOCK_COMMENT_MODE,g]};return{name:"C",aliases:["h"],keywords:S,disableAutodetect:!0,illegal:"</",contains:[].concat(_,A,k,[g,{begin:t.IDENT_RE+"::",keywords:S},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:g,strings:f,keywords:S}}}function iF(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",l="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",c={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},f={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},m={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},g={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(f,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},x={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},y=e.optional(i)+t.IDENT_RE+"\\s*\\(",w=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],E=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],S=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],k=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],P={type:E,keyword:w,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:S},O={className:"function.dispatch",relevance:0,keywords:{_hint:k},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},C=[O,g,c,n,t.C_BLOCK_COMMENT_MODE,m,f],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:P,contains:C.concat([{begin:/\(/,end:/\)/,keywords:P,contains:C.concat(["self"]),relevance:0}]),relevance:0},$={className:"function",begin:"("+l+"[\\*&\\s]+)+"+y,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:P,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:P,relevance:0},{begin:y,returnBegin:!0,contains:[x],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[f,m]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:P,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,f,m,c,{begin:/\(/,end:/\)/,keywords:P,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,f,m,c]}]},c,n,t.C_BLOCK_COMMENT_MODE,g]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:P,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,$,O,C,[g,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:P,contains:["self",c]},{begin:t.IDENT_RE+"::",keywords:P},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function sF(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],a=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],l={keyword:i.concat(a),built_in:e,literal:r},c=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},f={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},m={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},g=t.inherit(m,{illegal:/\n/}),x={className:"subst",begin:/\{/,end:/\}/,keywords:l},y=t.inherit(x,{illegal:/\n/}),w={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,y]},E={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},x]},S=t.inherit(E,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},y]});x.contains=[E,w,m,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,t.C_BLOCK_COMMENT_MODE],y.contains=[S,w,g,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const k={variants:[f,E,w,m,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},_={begin:"<",end:">",contains:[{beginKeywords:"in out"},c]},A=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",P={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:l,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},k,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},c,_,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,_,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+A+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:l,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,_],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,relevance:0,contains:[k,d,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},P]}}const aF=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),oF=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],lF=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],cF=[...oF,...lF],uF=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),dF=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),fF=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),hF=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function pF(t){const e=t.regex,n=aF(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,l="[a-zA-Z-][a-zA-Z0-9_-]*",c=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+l,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+dF.join("|")+")"},{begin:":(:)?("+fF.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+hF.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:uF.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+cF.join("|")+")\\b"}]}}function mF(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function gF(t){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}function bF(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function xF(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},l={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},c={begin:/\[/,end:/\]/,contains:[r,a,i,l,n,"self"],relevance:0},d=/[A-Za-z0-9_-]+/,f=/"(\\"|[^"])*"/,m=/'[^']*'/,g=e.either(d,f,m),x=e.concat(g,"(\\s*\\.\\s*",g,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:x,className:"attr",starts:{end:/$/,contains:[r,c,a,i,l,n]}}]}}var Yo="[0-9](_*[0-9])*",of=`\\.(${Yo})`,lf="[0-9a-fA-F](_*[0-9a-fA-F])*",GN={className:"number",variants:[{begin:`(\\b(${Yo})((${of})|\\.)?|(${of}))[eE][+-]?(${Yo})[fFdD]?\\b`},{begin:`\\b(${Yo})((${of})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${of})[fFdD]?\\b`},{begin:`\\b(${Yo})[fFdD]\\b`},{begin:`\\b0[xX]((${lf})\\.?|(${lf})?\\.(${lf}))[pP][+-]?(${Yo})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${lf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function u2(t,e,n){return n===-1?"":t.replace(e,r=>u2(t,e,n-1))}function yF(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+u2("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),d={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},f={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},m={className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:d,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[m,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:d,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:d,relevance:0,contains:[f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,GN,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},GN,f]}}const KN="[A-Za-z$_][0-9A-Za-z$_]*",vF=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],wF=["true","false","null","undefined","NaN","Infinity"],d2=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],f2=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],h2=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],EF=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],SF=[].concat(h2,d2,f2);function NF(t){const e=t.regex,n=(X,{after:ue})=>{const R="</"+X[0].slice(1);return X.input.indexOf(R,ue)!==-1},r=KN,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(X,ue)=>{const R=X[0].length+X.index,W=X.input[R];if(W==="<"||W===","){ue.ignoreMatch();return}W===">"&&(n(X,{after:R})||ue.ignoreMatch());let Z;const te=X.input.substring(R);if(Z=te.match(/^\s*=/)){ue.ignoreMatch();return}if((Z=te.match(/^\s+extends\s+/))&&Z.index===0){ue.ignoreMatch();return}}},c={$pattern:KN,keyword:vF,literal:wF,built_in:SF,"variable.language":EF},d="[0-9](_?[0-9])*",f=`\\.(${d})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${m})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${m})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},x={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},y={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,x],subLanguage:"xml"}},w={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,x],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,x],subLanguage:"graphql"}},S={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,x]},_={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,y,w,E,S,{match:/\$\d+/},g];x.contains=A.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(A)});const P=[].concat(_,x.contains),O=P.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(P)}]),C={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:O},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...d2,...f2]}},J={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},pe={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},Te={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Ae(X){return e.concat("(?!",X.join("|"),")")}const Ee={match:e.concat(/\b/,Ae([...h2,"super","import"].map(X=>`${X}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},le={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ge={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",ee={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),J,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,y,w,E,S,_,{match:/\$\d+/},g,$,{scope:"attr",match:r+e.lookahead(":"),relevance:0},ee,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,t.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},pe,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},le,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},Ee,Te,L,ge,{match:/\$[(.]/}]}}function kF(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Wo="[0-9](_*[0-9])*",cf=`\\.(${Wo})`,uf="[0-9a-fA-F](_*[0-9a-fA-F])*",TF={className:"number",variants:[{begin:`(\\b(${Wo})((${cf})|\\.)?|(${cf}))[eE][+-]?(${Wo})[fFdD]?\\b`},{begin:`\\b(${Wo})((${cf})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${cf})[fFdD]?\\b`},{begin:`\\b(${Wo})[fFdD]\\b`},{begin:`\\b0[xX]((${uf})\\.?|(${uf})?\\.(${uf}))[pP][+-]?(${Wo})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${uf})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function MF(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},l={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,a,i]}]};i.contains.push(l);const c={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},d={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(l,{className:"string"}),"self"]}]},f=TF,m=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),g={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},x=g;return x.variants[1].contains=[g],g.variants[1].contains=[x],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,m,n,r,c,d,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[g,t.C_LINE_COMMENT_MODE,m],relevance:0},t.C_LINE_COMMENT_MODE,m,c,d,l,t.C_NUMBER_MODE]},m]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},c,d]},l,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},f]}}const AF=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),CF=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],_F=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],RF=[...CF,..._F],OF=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),p2=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),m2=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),DF=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),jF=p2.concat(m2).sort().reverse();function LF(t){const e=AF(t),n=jF,r="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",l=[],c=[],d=function(A){return{className:"string",begin:"~?"+A+".*?"+A}},f=function(A,P,O){return{className:A,begin:P,relevance:O}},m={$pattern:/[a-z-]+/,keyword:r,attribute:OF.join(" ")},g={begin:"\\(",end:"\\)",contains:c,keywords:m,relevance:0};c.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,d("'"),d('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,g,f("variable","@@?"+i,10),f("variable","@\\{"+i+"\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const x=c.concat({begin:/\{/,end:/\}/,contains:l}),y={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(c)},w={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+DF.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:c}}]},E={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:m,returnEnd:!0,contains:c,relevance:0}},S={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:x}},k={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,y,f("keyword","all\\b"),f("variable","@\\{"+i+"\\}"),{begin:"\\b("+RF.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,f("selector-tag",a,0),f("selector-id","#"+a),f("selector-class","\\."+a,0),f("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+p2.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+m2.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:x},{begin:"!important"},e.FUNCTION_DISPATCH]},_={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[k]};return l.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,E,S,_,w,k,y,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:l}}function IF(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function PF(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},l={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,a,l]}}function BF(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},l={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,d={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},f={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},m={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=t.inherit(f,{contains:[]}),x=t.inherit(m,{contains:[]});f.contains.push(x),m.contains.push(g);let y=[n,d];return[f,m,g,x].forEach(k=>{k.contains=k.contains.concat(y)}),y=y.concat(f,m),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:y},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:y}]}]},n,a,f,m,{className:"quote",begin:"^>\\s+",contains:y,end:"$"},i,r,d,l,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function zF(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,c={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},d={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:c,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+d.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:d,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function UF(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},l={begin:/->\{/,end:/\}/},c={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},d={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[c]},f={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},m=[t.BACKSLASH_ESCAPE,a,d],g=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],x=(E,S,k="\\1")=>{const _=k==="\\1"?k:e.concat(k,S);return e.concat(e.concat("(?:",E,")"),S,/(?:\\.|[^\\\/])*?/,_,/(?:\\.|[^\\\/])*?/,k,r)},y=(E,S,k)=>e.concat(e.concat("(?:",E,")"),S,/(?:\\.|[^\\\/])*?/,k,r),w=[d,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),l,{className:"string",contains:m,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},f,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:x("s|tr|y",e.either(...g,{capture:!0}))},{begin:x("s|tr|y","\\(","\\)")},{begin:x("s|tr|y","\\[","\\]")},{begin:x("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:y("(?:m|qr)?",/\//,/\//)},{begin:y("m|qr",e.either(...g,{capture:!0}),/\1/)},{begin:y("m|qr",/\(/,/\)/)},{begin:y("m|qr",/\[/,/\]/)},{begin:y("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,c]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,c,f]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=w,l.contains=w,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:w}}function FF(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a=e.concat(/[A-Z]+/,n),l={scope:"variable",match:"\\$+"+r},c={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},d={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},f=t.inherit(t.APOS_STRING_MODE,{illegal:null}),m=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(d)}),g={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(d),"on:begin":(le,ge)=>{ge.data._beginMatch=le[1]||le[2]},"on:end":(le,ge)=>{ge.data._beginMatch!==le[1]&&ge.ignoreMatch()}},x=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),y=`[ 	
]`,w={scope:"string",variants:[m,f,g,x]},E={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},S=["false","null","true"],k=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],_=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],P={keyword:k,literal:(le=>{const ge=[];return le.forEach(F=>{ge.push(F),F.toLowerCase()===F?ge.push(F.toUpperCase()):ge.push(F.toLowerCase())}),ge})(S),built_in:_},O=le=>le.map(ge=>ge.replace(/\|\d+$/,"")),C={variants:[{match:[/new/,e.concat(y,"+"),e.concat("(?!",O(_).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},L=e.concat(r,"\\b(?!\\()"),$={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),L],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),L],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},J={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},pe={relevance:0,begin:/\(/,end:/\)/,keywords:P,contains:[J,l,$,t.C_BLOCK_COMMENT_MODE,w,E,C]},Te={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",O(k).join("\\b|"),"|",O(_).join("\\b|"),"\\b)"),r,e.concat(y,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[pe]};pe.contains.push(Te);const Ae=[J,$,t.C_BLOCK_COMMENT_MODE,w,E,C],Ee={begin:e.concat(/#\[\s*\\?/,e.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:S,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:S,keyword:["new","array"]},contains:["self",...Ae]},...Ae,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:P,contains:[Ee,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},c,{scope:"variable.language",match:/\$this\b/},l,Te,$,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},C,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:P,contains:["self",Ee,l,$,t.C_BLOCK_COMMENT_MODE,w,E]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},w,E]}}function VF(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function HF(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function $F(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],c={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},d={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:c,illegal:/#/},m={begin:/\{\{/,relevance:0},g={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,d],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,d,m,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,d,m,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,m,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,m,f]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},x="[0-9](_?[0-9])*",y=`(\\b(${x}))?\\.(${x})|\\b(${x})\\.`,w=`\\b|${r.join("|")}`,E={className:"number",relevance:0,variants:[{begin:`(\\b(${x})|(${y}))[eE][+-]?(${x})[jJ]?(?=${w})`},{begin:`(${y})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${w})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${w})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${w})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${w})`},{begin:`\\b(${x})[jJ](?=${w})`}]},S={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:c,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},k={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:["self",d,E,g,t.HASH_COMMENT_MODE]}]};return f.contains=[g,E,d],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:c,illegal:/(<\/|\?)|=>/,contains:[d,E,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,S,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[k]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[E,k,g]}]}}function qF(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function GF(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[a,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function KF(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),l={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},c={className:"doctag",begin:"@[A-Za-z]+"},d={begin:"#<",end:">"},f=[t.COMMENT("#","$",{contains:[c]}),t.COMMENT("^=begin","^=end",{contains:[c],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],m={className:"subst",begin:/#\{/,end:/\}/,keywords:l},g={className:"string",contains:[t.BACKSLASH_ESCAPE,m],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,m]})]}]},x="[1-9](_?[0-9])*|0",y="[0-9](_?[0-9])*",w={className:"number",relevance:0,variants:[{begin:`\\b(${x})(\\.(${y}))?([eE][+-]?(${y})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},E={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:l}]},C=[g,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:l},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:l},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[E]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[g,{begin:n}],relevance:0},w,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:l},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,m],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(d,f),relevance:0}].concat(d,f);m.contains=C,E.contains=C;const pe=[{begin:/^\s*=>/,starts:{end:"$",contains:C}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:l,contains:C}}];return f.unshift(d),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:l,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(pe).concat(f).concat(C)}}function YF(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},l="([ui](8|16|32|64|128|size)|f(32|64))?",c=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],d=["true","false","Some","None","Ok","Err"],f=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],m=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:m,keyword:c,literal:d,built_in:f},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+l},{begin:"\\b0o([0-7_]+)"+l},{begin:"\\b0x([A-Fa-f0-9_]+)"+l},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+l}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:f,type:m}},{className:"punctuation",begin:"->"},a]}}const WF=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),XF=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ZF=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],QF=[...XF,...ZF],JF=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),eV=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),tV=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),nV=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function rV(t){const e=WF(t),n=tV,r=eV,i="@[a-z-]+",a="and or not only",c={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+QF.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},c,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+nV.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,c,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:JF.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},c,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function iV(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function sV(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],l=["double precision","large object","with timezone","without timezone"],c=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],d=["add","asc","collation","desc","final","first","last","view"],f=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],m=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],g=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],x=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],y=m,w=[...f,...d].filter(O=>!m.includes(O)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},S={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},k={match:e.concat(/\b/,e.either(...y),/\s*\(/),relevance:0,keywords:{built_in:y}};function _(O){return e.concat(/\b/,e.either(...O.map(C=>C.replace(/\s+/,"\\s+"))),/\b/)}const A={scope:"keyword",match:_(x),relevance:0};function P(O,{exceptions:C,when:L}={}){const $=L;return C=C||[],O.map(J=>J.match(/\|\d+$/)||C.includes(J)?J:$(J)?`${J}|0`:J)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:P(w,{when:O=>O.length<3}),literal:a,type:c,built_in:g},contains:[{scope:"type",match:_(l)},A,k,E,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,S]}}function g2(t){return t?typeof t=="string"?t:t.source:null}function Tc(t){return kt("(?=",t,")")}function kt(...t){return t.map(n=>g2(n)).join("")}function aV(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Gn(...t){return"("+(aV(t).capture?"":"?:")+t.map(r=>g2(r)).join("|")+")"}const Wx=t=>kt(/\b/,t,/\w$/.test(t)?/\b/:/\B/),oV=["Protocol","Type"].map(Wx),YN=["init","self"].map(Wx),lV=["Any","Self"],n0=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],WN=["false","nil","true"],cV=["assignment","associativity","higherThan","left","lowerThan","none","right"],uV=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],XN=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],b2=Gn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),x2=Gn(b2,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),r0=kt(b2,x2,"*"),y2=Gn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),kh=Gn(y2,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Ni=kt(y2,kh,"*"),df=kt(/[A-Z]/,kh,"*"),dV=["attached","autoclosure",kt(/convention\(/,Gn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",kt(/objc\(/,Ni,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],fV=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function hV(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,Gn(...oV,...YN)],className:{2:"keyword"}},a={match:kt(/\./,Gn(...n0)),relevance:0},l=n0.filter(ot=>typeof ot=="string").concat(["_|0"]),c=n0.filter(ot=>typeof ot!="string").concat(lV).map(Wx),d={variants:[{className:"keyword",match:Gn(...c,...YN)}]},f={$pattern:Gn(/\b\w+/,/#\w+/),keyword:l.concat(uV),literal:WN},m=[i,a,d],g={match:kt(/\./,Gn(...XN)),relevance:0},x={className:"built_in",match:kt(/\b/,Gn(...XN),/(?=\()/)},y=[g,x],w={match:/->/,relevance:0},E={className:"operator",relevance:0,variants:[{match:r0},{match:`\\.(\\.|${x2})+`}]},S=[w,E],k="([0-9]_*)+",_="([0-9a-fA-F]_*)+",A={className:"number",relevance:0,variants:[{match:`\\b(${k})(\\.(${k}))?([eE][+-]?(${k}))?\\b`},{match:`\\b0x(${_})(\\.(${_}))?([pP][+-]?(${k}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},P=(ot="")=>({className:"subst",variants:[{match:kt(/\\/,ot,/[0\\tnr"']/)},{match:kt(/\\/,ot,/u\{[0-9a-fA-F]{1,8}\}/)}]}),O=(ot="")=>({className:"subst",match:kt(/\\/,ot,/[\t ]*(?:[\r\n]|\r\n)/)}),C=(ot="")=>({className:"subst",label:"interpol",begin:kt(/\\/,ot,/\(/),end:/\)/}),L=(ot="")=>({begin:kt(ot,/"""/),end:kt(/"""/,ot),contains:[P(ot),O(ot),C(ot)]}),$=(ot="")=>({begin:kt(ot,/"/),end:kt(/"/,ot),contains:[P(ot),C(ot)]}),J={className:"string",variants:[L(),L("#"),L("##"),L("###"),$(),$("#"),$("##"),$("###")]},pe=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],Te={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:pe},Ae=ot=>{const Ct=kt(ot,/\//),Vn=kt(/\//,ot);return{begin:Ct,end:Vn,contains:[...pe,{scope:"comment",begin:`#(?!.*${Vn})`,end:/$/}]}},Ee={scope:"regexp",variants:[Ae("###"),Ae("##"),Ae("#"),Te]},le={match:kt(/`/,Ni,/`/)},ge={className:"variable",match:/\$\d+/},F={className:"variable",match:`\\$${kh}+`},ee=[le,ge,F],X={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:fV,contains:[...S,A,J]}]}},ue={scope:"keyword",match:kt(/@/,Gn(...dV),Tc(Gn(/\(/,/\s+/)))},R={scope:"meta",match:kt(/@/,Ni)},W=[X,ue,R],Z={match:Tc(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:kt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,kh,"+")},{className:"type",match:df,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:kt(/\s+&\s+/,Tc(df)),relevance:0}]},te={begin:/</,end:/>/,keywords:f,contains:[...r,...m,...W,w,Z]};Z.contains.push(te);const be={match:kt(Ni,/\s*:/),keywords:"_|0",relevance:0},Fe={begin:/\(/,end:/\)/,relevance:0,keywords:f,contains:["self",be,...r,Ee,...m,...y,...S,A,J,...ee,...W,Z]},Ce={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,Z]},Ft={begin:Gn(Tc(kt(Ni,/\s*:/)),Tc(kt(Ni,/\s+/,Ni,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Ni}]},ct={begin:/\(/,end:/\)/,keywords:f,contains:[Ft,...r,...m,...S,A,J,...W,Z,Fe],endsParent:!0,illegal:/["']/},On={match:[/(func|macro)/,/\s+/,Gn(le.match,Ni,r0)],className:{1:"keyword",3:"title.function"},contains:[Ce,ct,e],illegal:[/\[/,/%/]},gt={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Ce,ct,e],illegal:/\[|%/},hn={match:[/operator/,/\s+/,r0],className:{1:"keyword",3:"title"}},Sr={begin:[/precedencegroup/,/\s+/,df],className:{1:"keyword",3:"title"},contains:[Z],keywords:[...cV,...WN],end:/}/},Nr={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},wn={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Di={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Ni,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:f,contains:[Ce,...m,{begin:/:/,end:/\{/,keywords:f,contains:[{scope:"title.class.inherited",match:df},...m],relevance:0}]};for(const ot of J.variants){const Ct=ot.contains.find(kr=>kr.label==="interpol");Ct.keywords=f;const Vn=[...m,...y,...S,A,J,...ee];Ct.contains=[...Vn,{begin:/\(/,end:/\)/,contains:["self",...Vn]}]}return{name:"Swift",keywords:f,contains:[...r,On,gt,Nr,wn,Di,hn,Sr,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},Ee,...m,...y,...S,A,J,...ee,...W,Z,Fe]}}const Th="[A-Za-z$_][0-9A-Za-z$_]*",v2=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],w2=["true","false","null","undefined","NaN","Infinity"],E2=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],S2=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],N2=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],k2=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],T2=[].concat(N2,E2,S2);function pV(t){const e=t.regex,n=(X,{after:ue})=>{const R="</"+X[0].slice(1);return X.input.indexOf(R,ue)!==-1},r=Th,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(X,ue)=>{const R=X[0].length+X.index,W=X.input[R];if(W==="<"||W===","){ue.ignoreMatch();return}W===">"&&(n(X,{after:R})||ue.ignoreMatch());let Z;const te=X.input.substring(R);if(Z=te.match(/^\s*=/)){ue.ignoreMatch();return}if((Z=te.match(/^\s+extends\s+/))&&Z.index===0){ue.ignoreMatch();return}}},c={$pattern:Th,keyword:v2,literal:w2,built_in:T2,"variable.language":k2},d="[0-9](_?[0-9])*",f=`\\.(${d})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${m})((${f})|\\.)?|(${f}))[eE][+-]?(${d})\\b`},{begin:`\\b(${m})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},x={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},y={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,x],subLanguage:"xml"}},w={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,x],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,x],subLanguage:"graphql"}},S={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,x]},_={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,y,w,E,S,{match:/\$\d+/},g];x.contains=A.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(A)});const P=[].concat(_,x.contains),O=P.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(P)}]),C={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:O},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...E2,...S2]}},J={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},pe={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[C],illegal:/%/},Te={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Ae(X){return e.concat("(?!",X.join("|"),")")}const Ee={match:e.concat(/\b/,Ae([...N2,"super","import"].map(X=>`${X}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},le={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ge={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},C]},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",ee={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[C]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),J,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,y,w,E,S,_,{match:/\$\d+/},g,$,{scope:"attr",match:r+e.lookahead(":"),relevance:0},ee,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,t.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:l.begin,"on:begin":l.isTrulyOpeningTag,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}]},pe,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[C,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},le,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[C]},Ee,Te,L,ge,{match:/\$[(.]/}]}}function mV(t){const e=t.regex,n=pV(t),r=Th,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},l={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},c={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},d=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:Th,keyword:v2.concat(d),literal:w2,built_in:T2.concat(i),"variable.language":k2},m={className:"meta",begin:"@"+r},g=(E,S,k)=>{const _=E.contains.findIndex(A=>A.label===S);if(_===-1)throw new Error("can not find mode to replace");E.contains.splice(_,1,k)};Object.assign(n.keywords,f),n.exports.PARAMS_CONTAINS.push(m);const x=n.contains.find(E=>E.scope==="attr"),y=Object.assign({},x,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,x,y]),n.contains=n.contains.concat([m,a,l,y]),g(n,"shebang",t.SHEBANG()),g(n,"use_strict",c);const w=n.contains.find(E=>E.label==="func.def");return w.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function gV(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,l=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,c=/\d{1,2}(:\d{1,2}){1,2}/,d={className:"literal",variants:[{begin:e.concat(/# */,e.either(a,i),/ *#/)},{begin:e.concat(/# */,c,/ *#/)},{begin:e.concat(/# */,l,/ *#/)},{begin:e.concat(/# */,e.either(a,i),/ +/,e.either(l,c),/ *#/)}]},f={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},m={className:"label",begin:/^\w+:/},g=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),x=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,d,f,m,g,x,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[x]}]}}function bV(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},a={className:"variable",begin:/\$[\w_]+/},l={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},c={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},d={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},f={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},a,l,i,t.QUOTE_STRING_MODE,d,f,c]}}function xV(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=t.inherit(a,{begin:/\(/,end:/\)/}),c=t.inherit(t.APOS_STRING_MODE,{className:"string"}),d=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,d,c,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,l,d,c]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[d]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function yV(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},l={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},c=t.inherit(l,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),x={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},y={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},w={begin:/\{/,end:/\}/,contains:[y],illegal:"\\n",relevance:0},E={begin:"\\[",end:"\\]",contains:[y],illegal:"\\n",relevance:0},S=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},x,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},w,E,a,l],k=[...S];return k.pop(),k.push(c),y.contains=k,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:S}}const vV={arduino:tF,bash:nF,c:rF,cpp:iF,csharp:sF,css:pF,diff:mF,go:gF,graphql:bF,ini:xF,java:yF,javascript:NF,json:kF,kotlin:MF,less:LF,lua:IF,makefile:PF,markdown:BF,objectivec:zF,perl:UF,php:FF,"php-template":VF,plaintext:HF,python:$F,"python-repl":qF,r:GF,ruby:KF,rust:YF,scss:rV,shell:iV,sql:sV,swift:hV,typescript:mV,vbnet:gV,wasm:bV,xml:xV,yaml:yV},ZN={},wV="hljs-";function EV(t){const e=l2.newInstance();return t&&a(t),{highlight:n,highlightAuto:r,listLanguages:i,register:a,registerAlias:l,registered:c};function n(d,f,m){const g=m||ZN,x=typeof g.prefix=="string"?g.prefix:wV;if(!e.getLanguage(d))throw new Error("Unknown language: `"+d+"` is not registered");e.configure({__emitter:SV,classPrefix:x});const y=e.highlight(f,{ignoreIllegals:!0,language:d});if(y.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:y.errorRaised});const w=y._emitter.root,E=w.data;return E.language=y.language,E.relevance=y.relevance,w}function r(d,f){const g=(f||ZN).subset||i();let x=-1,y=0,w;for(;++x<g.length;){const E=g[x];if(!e.getLanguage(E))continue;const S=n(E,d,f);S.data&&S.data.relevance!==void 0&&S.data.relevance>y&&(y=S.data.relevance,w=S)}return w||{type:"root",children:[],data:{language:void 0,relevance:y}}}function i(){return e.listLanguages()}function a(d,f){if(typeof d=="string")e.registerLanguage(d,f);else{let m;for(m in d)Object.hasOwn(d,m)&&e.registerLanguage(m,d[m])}}function l(d,f){if(typeof d=="string")e.registerAliases(typeof f=="string"?f:[...f],{languageName:d});else{let m;for(m in d)if(Object.hasOwn(d,m)){const g=d[m];e.registerAliases(typeof g=="string"?g:[...g],{languageName:m})}}}function c(d){return!!e.getLanguage(d)}}class SV{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(l,c){return c?l+"_".repeat(c):n.options.classPrefix+l}),i=this.stack[this.stack.length-1],a={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(a),this.stack.push(a)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const NV=EV(vV),Tn=({onClick:t,active:e,children:n,title:r})=>h.jsx("button",{type:"button",title:r,onClick:t,className:"h-8 min-w-[2rem] px-2 rounded-md border text-sm "+(e?"bg-neutral-200/70 dark:bg-neutral-700/70 border-neutral-300 dark:border-neutral-600":"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-800"),children:n}),M2=({content:t="<p></p>",onUpdate:e,label:n="Content"})=>{const r=t9({extensions:[U8.configure({codeBlock:!1,heading:{levels:[1,2,3]}}),m8,Z9.configure({openOnClick:!1}),H8.configure({allowBase64:!0,inline:!0}),$8.configure({placeholder:"Write something awesome..."}),G8.configure({types:["heading","paragraph"]}),J8.configure({lowlight:NV,defaultLanguage:"javascript"})],content:t,onUpdate:({editor:a})=>e?.(a.getHTML()),editorProps:{attributes:{class:"prose max-w-none dark:prose-invert prose-neutral min-h-[220px] rounded-md border border-neutral-200 bg-white p-3.5 text-sm dark:border-neutral-800 dark:bg-neutral-900"}}});if(!r)return null;const i=(a,l={})=>r.isActive(a,l);return h.jsxs("section",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200",children:n}),h.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 rounded-t-md",children:[h.jsx(Tn,{title:"Bold",active:i("bold"),onClick:()=>r.chain().focus().toggleBold().run(),children:h.jsx("span",{className:"font-semibold",children:"B"})}),h.jsx(Tn,{title:"Italic",active:i("italic"),onClick:()=>r.chain().focus().toggleItalic().run(),children:h.jsx("span",{className:"italic",children:"I"})}),h.jsx(Tn,{title:"Underline",active:i("underline"),onClick:()=>r.chain().focus().toggleUnderline().run(),children:h.jsx("span",{className:"underline",children:"U"})}),h.jsx(Tn,{title:"Strike",active:i("strike"),onClick:()=>r.chain().focus().toggleStrike().run(),children:h.jsx("span",{className:"line-through",children:"S"})}),h.jsx("div",{className:"mx-2 h-6 w-px bg-neutral-200 dark:bg-neutral-700"}),h.jsx(Tn,{title:"Ordered list",active:i("orderedList"),onClick:()=>r.chain().focus().toggleOrderedList().run(),children:"1."}),h.jsx(Tn,{title:"Bullet list",active:i("bulletList"),onClick:()=>r.chain().focus().toggleBulletList().run(),children:""}),h.jsx("div",{className:"mx-2 h-6 w-px bg-neutral-200 dark:bg-neutral-700"}),h.jsx(Tn,{title:"Heading 1",active:i("heading",{level:1}),onClick:()=>r.chain().focus().toggleHeading({level:1}).run(),children:"H1"}),h.jsx(Tn,{title:"Heading 2",active:i("heading",{level:2}),onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),children:"H2"}),h.jsx(Tn,{title:"Heading 3",active:i("heading",{level:3}),onClick:()=>r.chain().focus().toggleHeading({level:3}).run(),children:"H3"}),h.jsx("div",{className:"mx-2 h-6 w-px bg-neutral-200 dark:bg-neutral-700"}),h.jsx(Tn,{title:"Align left",onClick:()=>r.chain().focus().setTextAlign("left").run(),children:""}),h.jsx(Tn,{title:"Align center",onClick:()=>r.chain().focus().setTextAlign("center").run(),children:""}),h.jsx(Tn,{title:"Align right",onClick:()=>r.chain().focus().setTextAlign("right").run(),children:""}),h.jsx("div",{className:"mx-2 h-6 w-px bg-neutral-200 dark:bg-neutral-700"}),h.jsx(Tn,{title:"Link",active:i("link"),onClick:()=>{const a=window.prompt("URL");a&&r.chain().focus().setLink({href:a}).run()},children:""}),h.jsx(Tn,{title:"Image",onClick:()=>{const a=window.prompt("Image URL"),l=window.prompt("Alt text (optional)");a&&r.chain().focus().setImage({src:a,alt:l||""}).run()},children:""}),h.jsx("div",{className:"mx-2 h-6 w-px bg-neutral-200 dark:bg-neutral-700"}),h.jsx(Tn,{title:"Code block",active:i("codeBlock"),onClick:()=>r.chain().focus().toggleCodeBlock().run(),children:"</>"}),h.jsx("div",{className:"mx-2 h-6 w-px bg-neutral-200 dark:bg-neutral-700"}),h.jsx(Tn,{title:"Undo",onClick:()=>r.chain().focus().undo().run(),children:""}),h.jsx(Tn,{title:"Redo",onClick:()=>r.chain().focus().redo().run(),children:""})]}),h.jsx(Y6,{editor:r}),h.jsx("p",{className:"mt-1 text-xs text-neutral-500 dark:text-neutral-400",children:"Tip: Use the toolbar to format text, insert links/images (via URL), and code blocks."})]})};function kV(){const[t,e]=T.useState(!1),[n,r]=T.useState(null),[i,a]=T.useState(null);return{createResource:T.useCallback(async({category:c,title:d,subTitle:f,content:m,properties:g,resourceMedia:x=[],publish:y=!1,coverFile:w})=>{e(!0),r(null),a(null);try{const E=localStorage.getItem("accessToken"),S={category:c,title:d.trim(),subTitle:f?.trim()||"",content:m,properties:{tags:g.tags||[],metaTitle:g.metaTitle?.trim()||"",metaDescription:g.metaDescription?.trim()||"",metaKeywords:g.metaKeywords?.trim()||""},resourceMedia:x,publish:y},k=new FormData;k.append("payload",JSON.stringify(S)),w&&k.append("coverPhoto",w,w.name||"cover.jpg");const P=await fetch("https://api.jovirealty.com/v1/auth/staff/resources",{method:"POST",headers:{Authorization:`Bearer ${E}`},body:k}),O=await P.json().catch(()=>({}));if(!P.ok)throw new Error(O?.error||O?.message||"Failed to create resource.");return a(O?.data||O),O}catch(E){throw r(E?.message||"Something went wrong."),E}finally{e(!1)}},[]),loading:t,error:n,setError:r,data:i}}const i0="w-full rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500 dark:text-neutral-100",TV="rounded-xl border border-neutral-200/80 dark:border-neutral-700/80 bg-white dark:bg-neutral-900",MV="inline-flex items-center justify-center rounded-lg bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 text-sm font-medium transition-colors disabled:opacity-60",AV="inline-flex items-center justify-center rounded-lg border border-neutral-300 dark:border-neutral-700 px-4 py-2 text-sm font-medium hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",CV=["news","blog","podcast","e-book"],QN=({className:t="",...e})=>h.jsx("input",{...e,className:"w-full rounded-md border border-neutral-200 bg-white px-3.5 py-2 text-sm shadow-sm outline-none transition focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100 "+t}),JN=({className:t="",...e})=>h.jsx("textarea",{...e,className:"w-full rounded-md border border-neutral-200 bg-white px-3.5 py-2 text-sm shadow-sm outline-none transition focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100 "+t});function _V(){const t=Jt(),{createResource:e,loading:n,error:r}=kV(),[i,a]=T.useState("blog"),[l,c]=T.useState(""),[d,f]=T.useState(""),[m,g]=T.useState(!0),[x,y]=T.useState(null),[w,E]=T.useState(""),S=T.useRef(null),[k,_]=T.useState(["design","ux"]),[A,P]=T.useState(""),[O,C]=T.useState(""),[L,$]=T.useState(""),[J,pe]=T.useState(""),[Te,Ae]=T.useState("<p></p>"),Ee=X=>{const ue=X.target.files?.[0];if(!ue)return;if(!ue.type.startsWith("image/")){alert("Only image files allowed for Cover.");return}if(ue.size>1.5*1024*1024){alert("Cover must be  1.5MB");return}y(ue);const R=new FileReader;R.onload=W=>E(W.target.result),R.readAsDataURL(ue)},le=()=>{y(null),E(""),S.current.value=""},ge=X=>{_(X.target.value.split(",").map(ue=>ue.trim()).filter(Boolean))},F=async X=>{if(X.preventDefault(),r){alert(r);return}try{await e({category:i,title:l,subTitle:d,content:Te,properties:{tags:k,metaTitle:A,metaDescription:"this is static from code",metaKeywords:L},resourceMedia:J.split(",").map(ue=>ue.trim()).filter(Boolean),publish:m,coverFile:x}),alert("Resource created successfully!"),t("/admin/resources")}catch{alert(r||"Failed to create resource.")}},ee=T.useMemo(()=>[{label:"Dashboard",to:"/admin"},{label:"Resources",to:"/admin/resources"},{label:"Create resource"}],[]);return h.jsxs("div",{className:"p-6",children:[h.jsx(Er,{items:ee}),h.jsx("div",{className:"mt-4",children:h.jsx("h1",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:"Create Resource"})}),h.jsxs("form",{onSubmit:F,className:"mt-6 grid gap-6 lg:grid-cols-[1fr_360px]",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("section",{children:[h.jsx("div",{className:"mb-2 text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"CATEGORY"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:CV.map(X=>h.jsx("button",{type:"button",onClick:()=>a(X),className:"rounded-md border px-3 py-1.5 text-sm capitalize transition "+(i===X?"border-blue-200 bg-blue-50 text-blue-700 dark:border-blue-900/40 dark:bg-blue-900/20 dark:text-blue-300":"border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-50 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-200"),children:X},X))})]}),h.jsxs("section",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Title"}),h.jsx(QN,{placeholder:"Post title",value:l,onChange:X=>c(X.target.value),required:!0})]}),h.jsxs("section",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Subtitle"}),h.jsx(QN,{placeholder:"Post subtitle",value:d,onChange:X=>f(X.target.value)})]}),h.jsxs("section",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Cover"}),h.jsxs("div",{className:"relative overflow-hidden rounded-md border border-dashed border-neutral-300 dark:border-neutral-800",children:[h.jsx("div",{className:"h-[320px] w-full bg-neutral-50 dark:bg-neutral-900",children:w?h.jsx("img",{src:w,alt:"Cover",className:"h-full w-full object-cover"}):h.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-neutral-500 dark:text-neutral-400",children:"Drop or select a file"})}),h.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex items-center gap-2 bg-gradient-to-t from-black/25 to-transparent p-2",children:[h.jsx("button",{type:"button",onClick:()=>S.current?.click(),className:"rounded-md bg-white/90 px-3 py-1.5 text-xs font-medium text-neutral-700 shadow hover:bg-white",children:"Choose image"}),w&&h.jsx("button",{type:"button",onClick:le,className:"rounded-md bg-white/90 px-3 py-1.5 text-xs font-medium text-red-600 shadow hover:bg-white",title:"Remove cover",children:"Delete"}),h.jsx("input",{ref:S,type:"file",accept:"image/*",hidden:!0,onChange:Ee})]})]}),h.jsx("p",{className:"mt-1 text-xs text-neutral-500 dark:text-neutral-400",children:"JPG/PNG  1.5MB. Shown at ~320px height."})]}),h.jsx(M2,{content:Te,onUpdate:Ae})]}),h.jsx("aside",{className:"space-y-6",children:h.jsxs("div",{className:`${TV} p-4`,children:[h.jsx("h3",{className:"text-sm font-semibold mb-3 text-neutral-800 dark:text-neutral-100",children:"Properties"}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block text-xs font-medium mb-1 text-neutral-600 dark:text-neutral-300",children:"Resource Media (comma-separated URLs)"}),h.jsx(JN,{value:J,onChange:X=>pe(X.target.value),placeholder:"https://example.com/media1.jpg, https://example.com/video1.mp4",rows:2})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block text-xs font-medium mb-1 text-neutral-600 dark:text-neutral-300",children:"Tags (add  2)"}),h.jsx("input",{value:k.join(", "),onChange:ge,placeholder:"Type and press Enter",className:i0})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block text-xs font-medium mb-1 text-neutral-600 dark:text-neutral-300",children:"Meta title"}),h.jsx("input",{value:A,onChange:X=>P(X.target.value),placeholder:"Meta title for SEO",className:i0})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"block text-xs font-medium mb-1 text-neutral-600 dark:text-neutral-300",children:"Meta description"}),h.jsx(JN,{value:O,onChange:X=>C(X.target.value),placeholder:"Brief description for SEO",rows:3})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-xs font-medium mb-1 text-neutral-600 dark:text-neutral-300",children:"Meta keywords"}),h.jsx("input",{value:L,onChange:X=>$(X.target.value),placeholder:"keyword, another, more",className:i0})]}),h.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[h.jsx("input",{id:"publish",type:"checkbox",checked:m,onChange:X=>g(X.target.checked),className:"h-4 w-4 rounded border-neutral-300 text-blue-600 focus:ring-blue-500"}),h.jsx("label",{htmlFor:"publish",className:"text-sm text-neutral-700 dark:text-neutral-200",children:"Publish"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:AV,onClick:()=>t(-1),children:"Cancel"}),h.jsx("button",{type:"submit",className:MV,disabled:n,children:n?"Creating...":"Create post"})]})]})})]})]})}const RV=["news","blog","podcast","e-book"],pb=1.5,OV=pb*1024*1024,ff=({className:t="",...e})=>h.jsx("input",{...e,className:"w-full rounded-md border border-neutral-200 bg-white px-3.5 py-2 text-sm shadow-sm outline-none transition focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100 "+t}),ek=({className:t="",...e})=>h.jsx("textarea",{...e,className:"w-full rounded-md border border-neutral-200 bg-white px-3.5 py-2 text-sm shadow-sm outline-none transition focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100 "+t});async function DV(t){await new Promise(n=>setTimeout(n,400));const e=zc.find(n=>n.id===t)||{};return{id:t,category:e.category||"blog",title:e.title||"",subTitle:e.subTitle||"",content:e.content||"<p></p>",coverUrl:e.coverPhoto||"",tags:e.properties?.tags||[],metaTitle:e.properties?.metaTitle||"",metaDescription:e.properties?.metaDescription||"",metaKeywords:e.properties?.metaKeywords||"",resourceMedia:e.resourceMedia?.join(", ")||"",published:!!e.publish}}async function jV(t,e){await new Promise(r=>setTimeout(r,600));const n=zc.findIndex(r=>r.id===t);return n!==-1&&(zc[n]={...zc[n],...e}),{ok:!0}}function LV(){const{id:t}=gl(),e=Jt(),[n,r]=T.useState(!0),[i,a]=T.useState(!1),[l,c]=T.useState("blog"),[d,f]=T.useState(""),[m,g]=T.useState(""),[x,y]=T.useState(""),[w,E]=T.useState(null),[S,k]=T.useState([]),[_,A]=T.useState(""),[P,O]=T.useState(""),[C,L]=T.useState(""),[$,J]=T.useState(""),[pe,Te]=T.useState(!0),[Ae,Ee]=T.useState("<p></p>"),le=T.useRef(null);T.useEffect(()=>{let Z=!0;return(async()=>{try{r(!0);const te=await DV(t);if(!Z)return;c(te.category),f(te.title),g(te.subTitle),y(te.coverUrl||""),k(Array.isArray(te.tags)?te.tags:[]),A(te.metaTitle||""),O(te.metaDescription||""),L(te.metaKeywords||""),J(te.resourceMedia||""),Te(!!te.published),Ee(te.content||"<p></p>")}finally{Z&&r(!1)}})(),()=>{Z=!1}},[t]);function ge(){le.current?.click()}function F(Z){const te=Z.target.files?.[0];if(!te)return;if(!te.type.startsWith("image/")){alert("Only image files are allowed for Cover."),Z.target.value="";return}if(te.size>OV){alert(`Cover must be  ${pb}MB`),Z.target.value="";return}E(te);const be=new FileReader;be.onload=()=>y(be.result?.toString()||""),be.readAsDataURL(te)}function ee(){E(null),y(""),le.current&&(le.current.value="")}function X(Z){if(Z.key!=="Enter")return;Z.preventDefault();const te=Z.currentTarget.value.trim();te&&(k(be=>be.includes(te)?be:[...be,te].slice(0,12)),Z.currentTarget.value="")}function ue(Z){k(te=>te.filter(be=>be!==Z))}async function R(Z){Z.preventDefault(),a(!0);try{const te={category:l,title:d.trim(),subTitle:m.trim(),content:Ae,coverPhoto:x,properties:{tags:S,metaTitle:_.trim(),metaDescription:P.trim(),metaKeywords:C.trim()},resourceMedia:$.split(",").map(Fe=>Fe.trim()).filter(Boolean),publish:pe};(await jV(t,te))?.ok?e("/admin/resources"):alert("Saving failed. Please try again.")}finally{a(!1)}}const W=T.useMemo(()=>[{label:"Dashboard",to:"/admin"},{label:"Resources",to:"/admin/resources"},{label:"Edit resource"}],[]);return n?h.jsx("div",{className:"p-6",children:h.jsx(ou,{})}):h.jsxs("div",{className:"p-6",children:[h.jsx(Er,{items:W}),h.jsx("div",{className:"mt-4",children:h.jsx("h1",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:"Edit Resource"})}),h.jsxs("form",{onSubmit:R,className:"mt-6 grid gap-6 lg:grid-cols-[1fr_360px]",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("section",{children:[h.jsx("div",{className:"mb-2 text-xs font-medium text-neutral-500 dark:text-neutral-400",children:"CATEGORY"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:RV.map(Z=>h.jsx("button",{type:"button",onClick:()=>c(Z),className:"rounded-md border px-3 py-1.5 text-sm capitalize transition "+(l===Z?"border-blue-200 bg-blue-50 text-blue-700 dark:border-blue-900/40 dark:bg-blue-900/20 dark:text-blue-300":"border-neutral-200 bg-white text-neutral-700 hover:bg-neutral-50 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-200"),children:Z},Z))})]}),h.jsxs("section",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Title"}),h.jsx(ff,{placeholder:"Post title",value:d,onChange:Z=>f(Z.target.value),required:!0})]}),h.jsxs("section",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Subtitle"}),h.jsx(ff,{placeholder:"Post subtitle",value:m,onChange:Z=>g(Z.target.value)})]}),h.jsxs("section",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Cover"}),h.jsxs("div",{className:"relative overflow-hidden rounded-md border border-dashed border-neutral-300 dark:border-neutral-800",children:[h.jsx("div",{className:"h-[320px] w-full bg-neutral-50 dark:bg-neutral-900",children:x?h.jsx("img",{src:x,alt:"Cover",className:"h-full w-full object-cover"}):h.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-neutral-500 dark:text-neutral-400",children:"Drop or select a file"})}),h.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex items-center gap-2 bg-gradient-to-t from-black/25 to-transparent p-2",children:[h.jsx("button",{type:"button",onClick:ge,className:"rounded-md bg-white/90 px-3 py-1.5 text-xs font-medium text-neutral-700 shadow hover:bg-white",children:"Choose image"}),x&&h.jsx("button",{type:"button",onClick:ee,className:"rounded-md bg-white/90 px-3 py-1.5 text-xs font-medium text-red-600 shadow hover:bg-white",title:"Remove cover",children:"Delete"}),h.jsx("input",{ref:le,type:"file",accept:"image/*",hidden:!0,onChange:F})]})]}),h.jsxs("p",{className:"mt-1 text-xs text-neutral-500 dark:text-neutral-400",children:["JPG/PNG  ",pb,"MB. Shown at ~320px height."]})]}),h.jsx(M2,{content:Ae,onUpdate:Ee})]}),h.jsx("aside",{className:"space-y-6",children:h.jsxs("div",{className:"rounded-lg border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[h.jsx("h3",{className:"mb-4 text-sm font-semibold text-neutral-800 dark:text-neutral-100",children:"Properties"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Tags"}),h.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-md border border-neutral-200 bg-white p-2 dark:border-neutral-800 dark:bg-neutral-900",children:[S.map(Z=>h.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-neutral-100 px-2 py-0.5 text-xs text-neutral-700 dark:bg-neutral-800 dark:text-neutral-200",children:[Z,h.jsx("button",{type:"button",onClick:()=>ue(Z),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300","aria-label":`Remove ${Z}`,children:""})]},Z)),h.jsx("input",{onKeyDown:X,placeholder:"Type and press Enter",className:"min-w-[140px] flex-1 bg-transparent text-sm outline-none placeholder:text-neutral-400 dark:placeholder:text-neutral-500"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Resource Media (comma-separated URLs)"}),h.jsx(ek,{rows:2,value:$,onChange:Z=>J(Z.target.value),placeholder:"https://example.com/media1.jpg, https://example.com/video1.mp4"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Meta title"}),h.jsx(ff,{value:_,onChange:Z=>A(Z.target.value),placeholder:"Meta title for SEO"})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Meta description"}),h.jsx(ek,{rows:3,value:P,onChange:Z=>O(Z.target.value),placeholder:"Brief description for SEO"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Meta keywords"}),h.jsx(ff,{value:C,onChange:Z=>L(Z.target.value),placeholder:"keyword, another, more"})]}),h.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[h.jsx("input",{id:"publish",type:"checkbox",checked:pe,onChange:Z=>Te(Z.target.checked),className:"h-4 w-4 accent-blue-600"}),h.jsx("label",{htmlFor:"publish",className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Publish"})]}),h.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[h.jsx("button",{type:"button",onClick:()=>e("/admin/resources"),className:"cursor-pointer rounded-md border border-neutral-300 bg-white px-3.5 py-2 text-sm text-neutral-700 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-200",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:i,className:"cursor-pointer rounded-md bg-blue-600 px-3.5 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 disabled:opacity-60",children:i?"Saving":"Save changes"})]})]})})]})]})}function IV(t){const[e,n]=T.useState(!1),[r,i]=T.useState(null),[a,l]=T.useState(null),c=T.useCallback(async()=>{if(t){n(!0),i(null);try{const d=localStorage.getItem("accessToken"),m=await fetch(`https://api.jovirealty.com/v1/auth/staff/property-listings/${t}`,{method:"GET",headers:{Authorization:`Bearer ${d}`}}),g=await m.json().catch(()=>({}));if(!m.ok)throw new Error(g?.message||"Failed to fetch property.");return l(g.data||null),g}catch(d){throw i(d?.message||"Something went wrong while fetching property."),d}finally{n(!1)}}},[t]);return T.useEffect(()=>{c()},[c]),{loading:e,error:r,data:a,refetch:c}}function hf(t,e="CAD"){try{return new Intl.NumberFormat("en-CA",{style:"currency",currency:e,maximumFractionDigits:0}).format(t||0)}catch{return`${e} ${Number(t||0).toLocaleString()}`}}const s0=t=>t?new Date(t).toLocaleDateString("en-CA"):"",PV=t=>{if(!t)return"";const e=t/1024,n=e/1024;return n>1?`${n.toFixed(1)} MB`:`${e.toFixed(0)} KB`},Oe=({label:t,value:e,multiline:n=!1,className:r=""})=>h.jsxs("div",{className:`grid grid-cols-2 items-start gap-2 p-3 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800/30 transition-colors ${r}`,children:[h.jsxs("div",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:[t,":"]}),h.jsx("div",{className:`text-sm font-semibold text-neutral-900 dark:text-neutral-100 ${n?"col-span-1":""}`,children:n?h.jsx("p",{className:"whitespace-pre-wrap",children:e||""}):e||""})]}),a0=({onClick:t})=>h.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded p-1 text-black hover:text-neutral-600 dark:text-white dark:hover:text-neutral-300 transition-colors","aria-label":"Edit section",children:h.jsxs("svg",{viewBox:"0 0 24 24",className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M12 20h9"}),h.jsx("path",{d:"M16.5 3.5l4 4L7 21l-4 1 1-4 12.5-14.5z"})]})}),tk=({status:t})=>{if(!t)return h.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:""});const n={Active:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200",Inactive:"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-200",Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-200",Sold:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-200"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-900/50 dark:text-gray-200";return h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n}`,children:t})},BV=({media:t,onClose:e})=>h.jsx(c3,{children:t&&h.jsx(Rn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",onClick:e,children:h.jsxs(Rn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-h-full max-w-full",onClick:n=>n.stopPropagation(),children:[h.jsx("button",{onClick:e,className:"absolute -right-2 -top-2 z-10 rounded-full bg-white/90 p-2 text-black shadow-lg hover:bg-white transition-colors",children:h.jsx("svg",{viewBox:"0 0 24 24",className:"size-5",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),t.mediaCategory==="Photo"?h.jsx("img",{src:t.mediaURL,alt:t.shortDescription||"Property media",className:"max-h-full max-w-full object-contain"}):t.mediaCategory==="Video"?h.jsx("video",{src:t.mediaURL,controls:!0,className:"max-h-full max-w-full object-contain",autoPlay:!0,children:"Your browser does not support the video tag."}):null]})})});function zV(){const{id:t}=gl(),e=Jt(),[n,r]=T.useState(null),{loading:i,error:a,data:l}=IV(t),c=l?.propertyDetails||{},d=l?.agentDetails||{},f=c.propertyFor==="sale",m=T.useMemo(()=>{const w=[c.unitNumber&&`#${c.unitNumber}`,c.streetNumber,c.streetName,c.streetSuffix].filter(Boolean).join(" ");return w?`${w}, ${c.city}, ${c.stateProvince} ${c.postalCode}`:""},[c]),g=w=>{e(`/admin/property/${t}/edit`)},x=w=>{r(w)};if(i)return h.jsx(ou,{label:"Loading property details"});if(a)return h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"rounded-lg border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-950/30 dark:text-red-300",children:a}),h.jsx("button",{onClick:()=>e("/admin/property"),className:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500",children:"Back to Properties"})]});if(!l)return h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"text-center text-neutral-500 dark:text-neutral-400",children:"Property not found."})});const y=[{title:`${f?"Sale":"Rent"} Property Information`,content:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Oe,{label:"Property For",value:c.propertyFor?.toUpperCase()}),h.jsx(Oe,{label:"Type",value:c.type}),h.jsx(Oe,{label:"Subtype",value:c.subtype}),h.jsx(Oe,{label:"Status",value:h.jsx(tk,{status:c.status})}),h.jsx(Oe,{label:"Listing Date",value:s0(c.listingDate)}),f?h.jsx(Oe,{label:"List Price",value:hf(c.listPrice,c.currency)}):h.jsx(Oe,{label:"Rent Price",value:hf(c.rentPrice,c.currency)}),h.jsx(Oe,{label:"Currency",value:c.currency,multiline:!0}),h.jsx(Oe,{label:"Description",value:c.description,multiline:!0,className:"!grid-cols-1"}),c.isPrivateRoom!==void 0&&h.jsx(Oe,{label:"Private Room in Shared Property",value:c.isPrivateRoom?"Yes":"No"})]}),onEdit:()=>g()},{title:"Location Information",content:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Oe,{label:"Full Address",value:m,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Unit Number",value:c.unitNumber}),h.jsx(Oe,{label:"Street Number",value:c.streetNumber}),h.jsx(Oe,{label:"Street Name",value:c.streetName}),h.jsx(Oe,{label:"Street Suffix",value:c.streetSuffix}),h.jsx(Oe,{label:"City",value:c.city}),h.jsx(Oe,{label:"State/Province",value:c.stateProvince}),h.jsx(Oe,{label:"Postal Code",value:c.postalCode}),h.jsx(Oe,{label:"Latitude",value:c.latitude}),h.jsx(Oe,{label:"Longitude",value:c.longitude}),h.jsx(Oe,{label:"Subdivision",value:c.subdivision,multiline:!0,className:"!grid-cols-1"})]}),onEdit:()=>g()},{title:"Interior Information",content:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[h.jsx(Oe,{label:"Bedrooms",value:c.bedrooms}),h.jsx(Oe,{label:"Total Baths",value:c.totalBath}),h.jsx(Oe,{label:"Half Baths",value:c.halfBath})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[h.jsx(Oe,{label:"Living Area (sqft)",value:c.livingArea}),h.jsx(Oe,{label:"Floor Area (sqft)",value:c.floorArea})]}),h.jsx(Oe,{label:"Interior Features",value:c.interiorFeatures,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Heating System",value:c.heatingSystem}),h.jsx(Oe,{label:"Total Fireplaces",value:c.totalFireplace}),h.jsx(Oe,{label:"Fireplace Features",value:c.fireplaceFeature,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Laundry Features",value:c.laundryFeature,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Appliances",value:c.appliances,multiline:!0,className:"!grid-cols-1"})]}),onEdit:()=>g()},{title:"Exterior Information",content:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Oe,{label:"Parking",value:c.parking}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[h.jsx(Oe,{label:"Lot Size (acres)",value:c.lotAcre}),h.jsx(Oe,{label:"Lot Size (sqft)",value:c.lotSqft}),h.jsx(Oe,{label:"Open Parking",value:c.openParking})]}),h.jsx(Oe,{label:"Total Parking",value:c.totalParking}),h.jsx(Oe,{label:"Lot Dimensions",value:c.lotDimensions,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Lot Features",value:c.lotFeatures,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Parking Features",value:c.parkingFeatures,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"View Description",value:c.viewDescription,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Exterior Features",value:c.exteriorFeatures,multiline:!0,className:"!grid-cols-1"})]}),onEdit:()=>g()},{title:"Building & Community Information",content:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Oe,{label:"Strata",value:c.strata}),h.jsx(Oe,{label:"Amenities",value:c.amenities,multiline:!0,className:"!grid-cols-1"}),h.jsx(Oe,{label:"Pet Policy",value:c.petPolicy,multiline:!0,className:"!grid-cols-1"})]}),onEdit:()=>g()},{title:"Financial Information",content:h.jsxs("div",{className:"space-y-2",children:[h.jsx(Oe,{label:"Tax Year",value:c.taxYear}),h.jsx(Oe,{label:"Annual Tax Amount",value:hf(c.annualTaxAmount,c.currency)}),h.jsx(Oe,{label:"Price Per Sqft",value:hf(c.pricePerSqft,c.currency)})]}),onEdit:()=>g()}];return h.jsxs("div",{className:"p-6",children:[h.jsx(Er,{className:"mb-6",items:[{label:"Dashboard",to:"/admin/dashboard"},{label:"Property",to:"/admin/property"},{label:c.listingId||"Property Details"}]}),h.jsx("div",{className:"mb-8 flex items-start justify-between",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("h1",{className:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"Property Details"}),h.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["Listing ID: ",c.listingId||""," | Status: ",h.jsx(tk,{status:c.status})]})]})}),h.jsxs(ci,{title:"Agent Information",className:"mb-6 relative",children:[h.jsxs("div",{className:"flex items-start gap-6 p-4",children:[h.jsx("div",{className:"flex-shrink-0",children:d.photoUrl?h.jsx("img",{src:d.photoUrl,alt:d.fullName,className:"size-24 rounded-full object-cover ring-2 ring-blue-500"}):h.jsx("div",{className:"size-24 rounded-full bg-neutral-200 dark:bg-neutral-700 flex items-center justify-center ring-2 ring-blue-500",children:h.jsx("span",{className:"text-lg font-bold text-neutral-500 dark:text-neutral-400",children:"A"})})}),h.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(Oe,{label:"Full Name",value:d.fullName,className:"grid-cols-1"}),h.jsx(Oe,{label:"Email",value:d.email,className:"grid-cols-1"}),h.jsx(Oe,{label:"MLS ID",value:d.mlsId}),h.jsx(Oe,{label:"License Number",value:d.licenseNumber}),h.jsx(Oe,{label:"Licensed As",value:d.licensedAs}),h.jsx(Oe,{label:"Personal Real Estate Corporation",value:d.personalRealEstateCorporationName}),h.jsx(Oe,{label:"Licensed For",value:d.licensedFor})]})]}),h.jsx(a0,{onClick:()=>g()})]}),h.jsxs(ci,{title:"Media",subtitle:`${c.media?.length||0} items (Photos & Videos)`,className:"relative mb-6",children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.media?.length>0?c.media.map(w=>h.jsxs(Rn.div,{whileHover:{scale:1.02},className:"group cursor-pointer space-y-2 rounded-lg border border-neutral-200 dark:border-neutral-700 p-3 hover:border-blue-500 transition-colors",onClick:()=>x(w),children:[h.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-square",children:w.mediaCategory==="Photo"?h.jsx("img",{src:w.mediaURL,alt:w.shortDescription||"Property media",className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):w.mediaCategory==="Video"?h.jsx("video",{src:w.mediaURL,className:"w-full h-full object-cover",muted:!0,children:"Your browser does not support the video tag."}):null}),h.jsxs("div",{className:"space-y-1 text-xs",children:[h.jsxs("p",{className:"font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:[w.mediaCategory," #",w.order+1]}),h.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 truncate",children:w.shortDescription||"No description"}),h.jsxs("p",{className:"text-neutral-600 dark:text-neutral-300",children:["Size: ",PV(w.fileSize)," | Type: ",w.mimeType||"image/jpeg"]}),h.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400 truncate",children:["Resource: ",w.resourceName||w.mediaObjectID]})]})]},w.mediaObjectID)):h.jsx("p",{className:"col-span-full text-center py-8 text-neutral-500 dark:text-neutral-400",children:"No media available."})}),h.jsx(a0,{onClick:()=>g()}),h.jsx(BV,{media:n,onClose:()=>r(null)})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:y.map((w,E)=>h.jsxs(ci,{title:w.title,className:"relative",children:[w.content,h.jsx(a0,{onClick:w.onEdit})]},E))}),h.jsxs("div",{className:"mt-8 text-xs text-neutral-500 dark:text-neutral-400 border-t pt-6",children:[h.jsxs("p",{children:["Created: ",s0(l.createdAt)]}),h.jsxs("p",{children:["Last Updated: ",s0(l.updatedAt)]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsx(Ot,{to:"/admin/property",className:"inline-flex items-center gap-2 rounded-lg border border-neutral-300 px-4 py-2 text-sm font-medium text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:text-neutral-200 dark:hover:bg-neutral-800/60",children:"Back to Properties"})})]})}const UV={path:"/admin",element:h.jsx(kb,{allow:["superadmin"]}),children:[{element:h.jsx(Pk,{}),children:[{index:!0,element:h.jsx(Jc,{to:"dashboard",replace:!0})},{path:"dashboard",element:h.jsx(q4,{})},{path:"administrators",element:h.jsx(RP,{}),children:[{path:":id/show",element:h.jsx(PP,{})}]},{path:"administrators/:id/edit",element:h.jsx(LP,{})},{path:"administrators/newadministrators",element:h.jsx(DP,{})},{path:"property",element:h.jsx(X4,{})},{path:"property/add-property",element:h.jsx(bP,{})},{path:"property/property-detail/:id",element:h.jsx(zV,{})},{path:"resources",element:h.jsx(NP,{})},{path:"resources/new",element:h.jsx(_V,{})},{path:"resources/edit/:id",element:h.jsx(LV,{})},{path:"categories",element:h.jsx(eu,{title:"Categories"})},{path:"products",element:h.jsx(eu,{title:"Products"})},{path:"/admin/*",element:h.jsx(Tb,{})}]}]},Vo={image:"https://media-jovirealty.sfo3.cdn.digitaloceanspaces.com/Agents/AgentProfiles/aditya-tawatia",name:"John Doe",email:"john.doe@jovi.com",phone:"+1 (555) 123-4567",licenseNumber:"LIC-123456"};function FV(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:[h.jsx("path",{d:"M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Z"}),h.jsx("path",{d:"m3 7 9 6 9-6"})]})}function VV(t){return h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:h.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h3a2 2 0 0 1 2 1.72c.12.89.33 1.76.62 2.6a2 2 0 0 1-.45 2.11l-1.27 1.27a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.84.29 1.71.5 2.6.62A2 2 0 0 1 22 16.92Z"})})}function HV(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),h.jsx("circle",{cx:"8",cy:"12",r:"2.5"}),h.jsx("path",{d:"M13 8h5M13 12h5M13 16h5"})]})}function o0({icon:t,children:e}){return h.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/70 dark:bg-neutral-800/70 border border-neutral-200 dark:border-neutral-700 text-sm text-neutral-700 dark:text-neutral-300",children:[t,h.jsx("span",{className:"truncate max-w-[220px]",children:e})]})}function $V(){return h.jsx(Rn.div,{className:"rounded-2xl border border-neutral-200 dark:border-neutral-700 bg-gradient-to-r from-blue-50 via-indigo-50 to-sky-50 dark:from-neutral-800 dark:via-neutral-850 dark:to-neutral-900 p-6 shadow-sm",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35},children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:Vo.image,alt:Vo.name,className:"w-16 h-16 rounded-full border-2 border-blue-600 object-cover shadow"}),h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:["Hey, ",Vo.name]}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Lets win the day. "})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsx(o0,{icon:h.jsx(FV,{className:"w-4 h-4"}),children:Vo.email}),h.jsx(o0,{icon:h.jsx(VV,{className:"w-4 h-4"}),children:Vo.phone}),h.jsxs(o0,{icon:h.jsx(HV,{className:"w-4 h-4"}),children:["License: ",Vo.licenseNumber]})]}),h.jsx(Ot,{to:"/agent/profile",className:"inline-flex items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-white text-sm font-medium hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"View Profile"})]})})}const qV=[{image:"https://images.pexels.com/photos/185576/pexels-photo-185576.jpeg",duration:"1h 40m",views:497,title:"Introduction to Python Programming",price:83.74,level:"Beginner",enrolled:245},{image:"https://images.pexels.com/photos/2675861/pexels-photo-2675861.jpeg",duration:"2h 15m",views:763,title:"Digital Marketing Fundamentals",price:97.14,level:"Intermediate",enrolled:312},{image:"https://images.pexels.com/photos/1595385/pexels-photo-1595385.jpeg",duration:"3h 0m",views:684,title:"Data Science with R",price:68.71,level:"Advanced",enrolled:189},{image:"https://images.pexels.com/photos/414720/pexels-photo-414720.jpeg",duration:"1h 30m",views:512,title:"Graphic Design Basics",price:85.21,level:"Beginner",enrolled:156}],nk={totalMedia:45,lastUploads:[{title:"Flyer Template Q4",type:"Print Template",icon:"F",count:3,downloads:12},{title:"Social Media Kit",type:"Digital Assets",icon:"S",count:8,downloads:25},{title:"Email Newsletter Template",type:"Email Campaign",icon:"E",count:5,downloads:18}]},rk={totalIncidents:23,active:5},Xo=[{id:1,title:"Issue with Property Listing Upload",description:"Unable to upload images for new listing - error message appears.",category:"Technical Issue",status:"Open",date:"Wed, Oct 2, 2025",assignedTo:"Super Admin"},{id:2,title:"Billing Inquiry for Premium Subscription",description:"Question about the recent charge on my account.",category:"Billing",status:"Pending",date:"Sun, Sep 7, 2025",assignedTo:"Super Admin"},{id:3,title:"General Question on MLS Integration",description:"How to sync MLS data with the platform?",category:"General Inquiry",status:"Open",date:"Fri, Oct 1, 2025",assignedTo:"Super Admin"},{id:4,title:"Error in Lead Management Dashboard",description:"Dashboard not loading leads from the last 30 days correctly.",category:"Technical Issue",status:"Closed",date:"Wed, Sep 18, 2025",assignedTo:"Super Admin"},{id:5,title:"Subscription Renewal Notification Missing",description:"Did not receive email alert for upcoming renewal.",category:"Billing",status:"Closed",date:"Fri, Sep 10, 2025",assignedTo:"Super Admin"},{id:6,title:"Feature Request: Advanced Search Filters",description:"Need more customizable filters for property searches.",category:"General Inquiry",status:"Pending",date:"Mon, Oct 20, 2025",assignedTo:"Super Admin"},{id:7,title:"API Access Permissions Issue",description:"Unable to grant API access to third-party integration tool.",category:"Technical Issue",status:"Closed",date:"Tue, Aug 15, 2025",assignedTo:"Super Admin"},{id:8,title:"Training Video Access Problem",description:"Videos in the training hub are not playing on mobile devices.",category:"General Inquiry",status:"Closed",date:"Thu, Jul 28, 2025",assignedTo:"Super Admin"}],ik=[{id:1,title:"Guide to Effective Property Listings",description:"Learn how to create compelling listings that attract more buyers and close deals faster.",date:"Oct 15, 2025",views:150,file:"Guide to Listings.pdf"},{id:2,title:"Market Trends Analysis for Q4 2025",description:"In-depth report on emerging trends, pricing strategies, and regional hotspots.",date:"Oct 20, 2025",views:89,file:"Market Trends 2025.docx"},{id:3,title:"Client Onboarding Best Practices",description:"Streamline your client intake process with proven templates and communication tips.",date:"Sep 28, 2025",views:203,file:"Client Onboarding Guide.pdf"}],GV=[{title:"Real Estate Market Surge in Q4 2025",link:"https://example.com/news1"},{title:"New Regulations on Property Listings",link:"https://example.com/news2"},{title:"Interest Rates Update: October 2025",link:"https://example.com/news3"},{title:"Sustainable Housing Trends Rising",link:"https://example.com/news4"}];function sk({label:t,value:e,color:n="neutral"}){const r={active:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",resolved:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",inProgress:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",total:"bg-gray-100 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200"};return h.jsxs("div",{className:`p-3 rounded-lg text-center ${r[n]||r.total}`,children:[h.jsx("p",{className:"text-2xl font-bold",children:e}),h.jsx("p",{className:"text-xs uppercase font-medium",children:t})]})}function KV({to:t,children:e="View all"}){return h.jsxs(Ot,{to:t,className:"group inline-flex items-center gap-2 rounded-full bg-blue-50 dark:bg-blue-900/30 px-3 py-1.5 text-blue-700 dark:text-blue-300 text-sm font-medium border border-blue-200/80 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition",children:[h.jsx("span",{children:e}),h.jsxs("svg",{className:"w-4 h-4 transition-transform duration-200 group-hover:translate-x-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M5 12h14"}),h.jsx("path",{d:"m12 5 7 7-7 7"})]})]})}function Mc({title:t,to:e,children:n,className:r=""}){return h.jsx(Rn.div,{className:`bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-neutral-200 dark:border-neutral-700 overflow-hidden ${r}`,whileHover:{y:-2},transition:{duration:.2},children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:t}),e&&h.jsx(KV,{to:e,children:"View all"})]}),n]})})}function YV({course:t}){return h.jsxs(Rn.div,{className:"rounded-xl p-4 bg-gradient-to-br from-gray-50 to-white dark:from-neutral-700 dark:to-neutral-700 border border-neutral-200/80 dark:border-neutral-600 hover:shadow-md",whileHover:{scale:1.02},children:[h.jsxs("div",{className:"relative overflow-hidden rounded-lg mb-3",children:[h.jsx("img",{src:t.image,alt:t.title,className:"w-full h-32 object-cover"}),h.jsx("span",{className:"absolute top-2 right-2 rounded-full bg-black/60 text-white text-xs px-2 py-0.5",children:t.level})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:[h.jsxs("span",{children:[" ",t.duration]}),h.jsxs("span",{children:[" ",t.views]})]}),h.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 line-clamp-2 mb-2",children:t.title}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",t.price,"/year"]}),h.jsx("span",{className:"text-xs rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-0.5",children:t.enrolled?`${t.enrolled} enrolled`:"Enroll now"})]})]})}function WV({guide:t}){return h.jsxs(Rn.div,{className:"flex items-center gap-3 p-4 rounded-xl border border-blue-100 dark:border-blue-900/60 bg-blue-50/60 dark:bg-blue-900/20 hover:shadow-sm",whileHover:{x:4},children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-700 dark:text-blue-300",children:""}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:t.title}),h.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 line-clamp-2",children:t.description}),h.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1",children:[t.date,"   ",t.views]})]})]})}function XV({material:t}){return h.jsxs(Rn.div,{className:"p-4 rounded-xl border border-neutral-200 dark:border-neutral-600 bg-white dark:bg-neutral-700 hover:shadow-sm",whileHover:{y:-2},children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-sky-400 to-blue-600 text-white font-semibold grid place-content-center",children:t.icon}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:t.title}),h.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.type})]})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300",children:[h.jsxs("span",{children:["Used ",t.count," times"]}),h.jsxs("span",{className:"rounded-full bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-0.5",children:[t.downloads," downloads"]})]})]})}function ZV({ticket:t}){const e={Open:"bg-green-100 text-green-700",Pending:"bg-yellow-100 text-yellow-800",Closed:"bg-neutral-100 text-neutral-700"};return h.jsxs(Rn.div,{className:"flex items-center gap-3 p-4 rounded-lg border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700",whileHover:{x:4},children:[h.jsxs("div",{className:"w-9 h-9 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 grid place-content-center text-xs font-semibold",children:["#",t.id]}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 truncate",children:t.title}),h.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:t.category})]}),h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${e[t.status]}`,children:t.status})]})}function QV(){return T.useState("overview"),h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900",children:h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[h.jsx(Er,{items:[{label:"Dashboard"}]}),h.jsx($V,{}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs(Mc,{title:"Tips & Guides",to:"/agent/tipsandguides",className:"lg:col-span-1",children:[h.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:["Total Articles: ",ik.length]}),h.jsx("div",{className:"space-y-3",children:ik.slice(0,3).map(t=>h.jsx(WV,{guide:t},t.id))})]}),h.jsxs(Mc,{title:"Marketing Materials",to:"/agent/marketing-material",className:"lg:col-span-1",children:[h.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:["Total Media: ",nk.totalMedia," items"]}),h.jsx("div",{className:"space-y-3",children:nk.lastUploads.map((t,e)=>h.jsx(XV,{material:t},e))})]}),h.jsxs(Mc,{title:"Agent Support",to:"/agent/agent-support",className:"lg:col-span-1",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[h.jsx(sk,{label:"Active",value:rk.active,color:"active"}),h.jsx(sk,{label:"Total",value:rk.totalIncidents,color:"total"})]}),h.jsx("div",{className:"space-y-2",children:Xo.slice(0,2).map(t=>h.jsx(ZV,{ticket:t},t.id))})]})]}),h.jsx(Mc,{title:"Training Hub  Featured Courses",to:"/agent/training-hub",className:"lg:col-span-full",children:h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:qV.map((t,e)=>h.jsx(YV,{course:t},e))})}),h.jsx(Mc,{title:"Market Updates",to:"#",className:"lg:col-span-full",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:GV.map((t,e)=>h.jsx(Rn.div,{className:"p-4 rounded-xl border border-neutral-200 dark:border-neutral-600 bg-white dark:bg-neutral-800 hover:shadow",whileHover:{y:-4},children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"mt-1 w-2 h-2 rounded-full bg-blue-600"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("h4",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:t.title}),h.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 line-clamp-2 mb-1",children:t.excerpt}),h.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 flex items-center gap-2",children:[h.jsx("span",{children:t.date}),h.jsxs(Ot,{to:t.link,className:"text-blue-600 hover:text-blue-700 inline-flex items-center gap-1",children:["Read more",h.jsxs("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M7 17 17 7"}),h.jsx("path",{d:"M7 7h10v10"})]})]})]})]})]})},e))})})]})})}const JV={PDF:"",Article:"",Podcast:"",Video:""};function eH({item:t}){return h.jsx(Ot,{to:`/agent/tipsandguides/${t.id}`,className:"block",children:h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 overflow-hidden hover:shadow-md transition-shadow duration-300 group",children:[h.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded-full",children:[JV[t.type]," ",t.type]}),t.duration&&h.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.duration})]}),h.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2 line-clamp-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:t.title}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3 line-clamp-2",children:t.description}),h.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags.map((e,n)=>h.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 px-2 py-1 rounded",children:["#",e]},n))}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500 dark:text-neutral-400",children:[h.jsx("span",{children:new Date(t.date).toLocaleDateString()}),h.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 font-medium",children:"View Details "})]})]})]})})}const Mf=[{id:1,title:"How to Handle Off-Market Listings Effectively",description:"A comprehensive guide on managing off-market property deals, including legal considerations and client communication tips.",fullContent:null,type:"PDF",thumbnail:"https://images.pexels.com/photos/1396132/pexels-photo-1396132.jpeg?_gl=1*qwzfd8*_ga*MTczNzgwOTIzMy4xNzU0NTA1NzU3*_ga_8JE65Q40S6*czE3NjE2MzQ5NTkkbzUkZzEkdDE3NjE2MzQ5OTQkajI1JGwwJGgw",tags:["how-to","compliance","listings"],date:"2025-10-15",fileUrl:"/downloads/off-market-guide.pdf",embedUrl:null,duration:null},{id:2,title:"Market Update: Q4 2025 Trends in Real Estate",description:"Latest insights into housing market shifts, interest rates, and investment opportunities for agents.",fullContent:"The real estate market in Q4 2025 is showing signs of recovery with a 5% increase in housing starts compared to last year. Interest rates have stabilized at 4.5%, making borrowing more attractive for first-time buyers. Key trends include a surge in sustainable housing developments and remote work-friendly properties in suburban areas. Agents should focus on eco-friendly listings to capitalize on this shift. Investment opportunities are particularly strong in urban renewal projects in major cities like New York and Los Angeles.",type:"Article",thumbnail:"https://images.pexels.com/photos/29097442/pexels-photo-29097442.jpeg?_gl=1*1f59b6s*_ga*MTczNzgwOTIzMy4xNzU0NTA1NzU3*_ga_8JE65Q40S6*czE3NjE2MzQ5NTkkbzUkZzEkdDE3NjE2MzUyNjckajQ5JGwwJGgw",tags:["market-updates","trends"],date:"2025-10-20",fileUrl:null,embedUrl:null,duration:null},{id:3,title:"Podcast: Negotiating with Confidence",description:"Expert tips from top agents on mastering negotiation techniques in competitive markets.",fullContent:null,type:"Podcast",thumbnail:"https://images.pexels.com/photos/32607488/pexels-photo-32607488.jpeg?_gl=1*1e8gyyo*_ga*MTczNzgwOTIzMy4xNzU0NTA1NzU3*_ga_8JE65Q40S6*czE3NjE2Mzc0MTYkbzYkZzEkdDE3NjE2Mzc0MjAkajU2JGwwJGgw",tags:["podcast","negotiation"],date:"2025-10-10",fileUrl:"/audio/negotiation-podcast.mp3",embedUrl:"https://example.com/embed/podcast-negotiation",duration:"25:30"},{id:4,title:"Quick Video: Virtual Tour Best Practices",description:"Step-by-step tutorial on creating engaging virtual property tours using free tools.",fullContent:null,type:"Video",thumbnail:"https://images.pexels.com/photos/5524166/pexels-photo-5524166.jpeg?_gl=1*13gb2q4*_ga*MTczNzgwOTIzMy4xNzU0NTA1NzU3*_ga_8JE65Q40S6*czE3NjE2MzQ5NTkkbzUkZzEkdDE3NjE2MzUzOTQkajQ4JGwwJGgw",tags:["video","how-to","tours"],date:"2025-10-25",fileUrl:null,embedUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"4:15"},{id:5,title:"Compliance Checklist for Rental Agreements",description:"Essential compliance steps for drafting and signing rental contracts to avoid legal pitfalls.",fullContent:null,type:"PDF",thumbnail:"https://images.pexels.com/photos/10499758/pexels-photo-10499758.jpeg?_gl=1*qprja5*_ga*MTczNzgwOTIzMy4xNzU0NTA1NzU3*_ga_8JE65Q40S6*czE3NjE2MzQ5NTkkbzUkZzEkdDE3NjE2MzU0MjQkajE4JGwwJGgw",tags:["compliance","rentals"],date:"2025-10-05",fileUrl:"/downloads/compliance-checklist.pdf",embedUrl:null,duration:null},{id:6,title:"Article: Building Your Client Referral Network",description:"Strategies for leveraging past clients and partners to generate consistent referrals.",fullContent:"Building a strong referral network is crucial for long-term success in real estate. Start by nurturing relationships with past clients through personalized follow-ups and anniversary cards. Partner with complementary professionals like mortgage brokers and home inspectors for mutual referrals. Host client appreciation events to stay top-of-mind. Track your referrals using simple CRM tools to measure effectiveness and refine your approach. Remember, one satisfied client can lead to 2-3 new leads annually.",type:"Article",thumbnail:"https://images.pexels.com/photos/29097442/pexels-photo-29097442.jpeg?_gl=1*1f59b6s*_ga*MTczNzgwOTIzMy4xNzU0NTA1NzU3*_ga_8JE65Q40S6*czE3NjE2MzQ5NTkkbzUkZzEkdDE3NjE2MzUyNjckajQ5JGwwJGgw",tags:["how-to","networking"],date:"2025-10-18",fileUrl:null,embedUrl:null,duration:null}];function tH(){const[t,e]=T.useState(""),[n,r]=T.useState("All"),[i,a]=T.useState([]),l=["All","PDF","Article","Podcast","Video"],c=[...new Set(Mf.flatMap(f=>f.tags))],d=Mf.filter(f=>{const m=f.title.toLowerCase().includes(t.toLowerCase())||f.description.toLowerCase().includes(t.toLowerCase()),g=n==="All"||f.type===n,x=i.length===0||i.every(y=>f.tags.includes(y));return m&&g&&x});return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900",children:h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-8",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Tips & Guides"}]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Tips & Guides Library"}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Access exclusive resources to boost your real estate expertise."})]}),h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[h.jsx("div",{className:"md:col-span-2",children:h.jsx("input",{type:"text",placeholder:"Search by title or description...",value:t,onChange:f=>e(f.target.value),className:"w-full rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 px-4 py-2.5 text-sm text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:border-indigo-500 dark:focus:border-indigo-400 outline-none"})}),h.jsx("select",{value:n,onChange:f=>r(f.target.value),className:"rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 px-4 py-2.5 text-sm text-neutral-900 dark:text-neutral-100 focus:border-indigo-500 dark:focus:border-indigo-400 outline-none",children:l.map(f=>h.jsx("option",{value:f,children:f},f))})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(f=>h.jsxs("button",{onClick:()=>{a(m=>m.includes(f)?m.filter(g=>g!==f):[...m,f])},className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${i.includes(f)?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-indigo-100 dark:hover:bg-indigo-900"}`,children:["#",f]},f))})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.length>0?d.map(f=>h.jsx(eH,{item:f},f.id)):h.jsxs("div",{className:"col-span-full text-center py-12",children:[h.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:"No resources found matching your filters."}),h.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-500 mt-1",children:"Try adjusting your search or filters."})]})}),d.length===0&&h.jsx("div",{className:"text-center",children:h.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-500",children:["Total resources: ",Mf.length]})})]})]})})}function nH(){const{id:t}=gl(),[e,n]=T.useState(null);if(T.useEffect(()=>{const i=Mf.find(a=>a.id===parseInt(t));n(i)},[t]),!e)return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900 flex items-center justify-center",children:h.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Resource not found."})});const r=i=>{if(i){const a=document.createElement("a");a.href=i,a.download=`${e.title}.${i.split(".").pop()}`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}};return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900",children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-8",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Tips & Guides",to:"/agent/tipsandguides"},{label:e.title}]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:e.title}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:new Date(e.date).toLocaleDateString()})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[e.duration&&h.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:e.duration}),h.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-2 py-1 rounded-full",children:e.type})]})]}),h.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-64 object-cover rounded-lg shadow-sm"}),h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Description"}),h.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 mb-4",children:e.description}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map((i,a)=>h.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 px-3 py-1 rounded-full",children:["#",i]},a))})]}),e.fullContent&&h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Full Article"}),h.jsx("div",{className:"prose dark:prose-invert max-w-none",children:h.jsx("p",{children:e.fullContent})})]}),e.embedUrl&&(e.type==="Video"||e.type==="Podcast")&&h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-6",children:[h.jsxs("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:[e.type," Player"]}),e.type==="Video"?h.jsx("iframe",{src:e.embedUrl,className:"w-full h-64 rounded-lg",allowFullScreen:!0}):h.jsxs("audio",{controls:!0,className:"w-full",children:[h.jsx("source",{src:e.embedUrl,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}),(e.fileUrl||e.embedUrl)&&h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"Actions"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.fileUrl&&h.jsxs("button",{onClick:()=>r(e.fileUrl),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:["Download ",e.type]}),e.embedUrl&&e.type==="Podcast"&&h.jsx("a",{href:e.embedUrl,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors font-medium text-center",children:"Play in New Tab"})]})]})]})]})})}function rH(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:[h.jsx("circle",{cx:"5",cy:"12",r:"1.5"}),h.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),h.jsx("circle",{cx:"19",cy:"12",r:"1.5"})]})}function iH(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:[h.jsx("path",{d:"M6 2h8l4 4v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2Z"}),h.jsx("path",{d:"M14 2v6h6"})]})}function sH({template:t}){const e=Jt(),[n,r]=T.useState(!1),i=T.useMemo(()=>{const f=(t.format||"").toUpperCase();return["PDF"].includes(f)?{chip:"bg-red-50 text-red-700 border-red-200",icon:"text-red-600"}:["PNG"].includes(f)?{chip:"bg-green-50 text-green-700 border-green-200",icon:"text-green-600"}:["JPG","JPEG"].includes(f)?{chip:"bg-amber-50 text-amber-700 border-amber-200",icon:"text-amber-600"}:["PSD"].includes(f)?{chip:"bg-violet-50 text-violet-700 border-violet-200",icon:"text-violet-600"}:["AI","INDD"].includes(f)?{chip:"bg-blue-50 text-blue-700 border-blue-200",icon:"text-blue-600"}:{chip:"bg-neutral-100 text-neutral-700 border-neutral-200",icon:"text-neutral-600"}},[t.format]),a=t.formats?.[0]?.fileUrl||t.fileUrl,l=f=>{f.preventDefault();const m=document.createElement("a");m.href=a,m.download="",document.body.appendChild(m),m.click(),m.remove(),r(!1)},c=async f=>{f.preventDefault();const m=`${location.origin}/agent/marketing-material/${t.id}`;await navigator.clipboard.writeText(m),r(!1)},d=f=>{f.preventDefault(),e(`/agent/marketing-material/${t.id}`)};return h.jsxs(Ot,{to:`/agent/marketing-material/${t.id}`,className:"group block rounded-2xl overflow-hidden bg-white border border-neutral-200 shadow-sm hover:shadow-md transition-all duration-200 relative",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:t.previewUrl,alt:t.title,className:"h-44 w-full object-cover object-center bg-neutral-100",loading:"lazy"}),h.jsx("div",{className:"absolute top-3 right-3",children:h.jsx("button",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-white/95 backdrop-blur border border-neutral-200 text-neutral-600 hover:text-neutral-900 hover:bg-white shadow-sm",onClick:f=>{f.preventDefault(),r(m=>!m)},"aria-label":"More options",children:h.jsx(rH,{className:"w-4 h-4"})})}),n&&h.jsxs("div",{className:"absolute top-12 right-3 z-10 w-40 rounded-lg border border-neutral-200 bg-white shadow-md p-1 text-sm",children:[h.jsx("button",{onClick:d,className:"w-full text-left px-3 py-2 rounded-md hover:bg-neutral-50",children:"Preview"}),h.jsx("button",{onClick:l,className:"w-full text-left px-3 py-2 rounded-md hover:bg-neutral-50",children:"Download"}),h.jsx("button",{onClick:c,className:"w-full text-left px-3 py-2 rounded-md hover:bg-neutral-50",children:"Copy link"})]})]}),h.jsxs("div",{className:"px-4 pt-3 pb-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs mb-1",children:[h.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border ${i.chip}`,children:[h.jsx(iH,{className:`w-3.5 h-3.5 ${i.icon}`}),t.format]}),h.jsx("span",{className:"inline-block text-neutral-500",children:t.uploadDate})]}),h.jsx("div",{className:"text-neutral-900 font-medium leading-tight line-clamp-1 mb-0.5",children:t.title}),h.jsx("div",{className:"text-neutral-500 text-sm line-clamp-1",children:t.category})]})]})}const mb=[{id:1,title:"sevrohor-jim-sabehijpg.jpg",category:"Social Posts",description:"Eye-catching announcement for new property listings optimized for Instagram square format.",previewUrl:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=400&fit=crop",fileUrl:"/downloads/instagram-just-listed.psd",format:"PSD",size:"2.5 MB",views:245,uploadDate:"Mon, Oct 20, 2025",formats:[{format:"PSD",fileUrl:"/downloads/instagram-just-listed.psd",size:"2.5 MB"},{format:"PNG",fileUrl:"/downloads/instagram-just-listed.png",size:"1.8 MB"}]},{id:2,title:"doem-nuzci-etegujpg.jpg",category:"Social Posts",description:"Wide banner template for promoting open house events on Facebook.",previewUrl:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&h=300&fit=crop",fileUrl:"/downloads/facebook-open-house.jpg",format:"JPG",size:"1.2 MB",views:156,uploadDate:"Mon, Oct 20, 2025",formats:[{format:"JPG",fileUrl:"/downloads/facebook-open-house.jpg",size:"1.2 MB"},{format:"PDF",fileUrl:"/downloads/facebook-open-house.pdf",size:"800 KB"}]},{id:3,title:"nogweswa-coejzup-teg.jpg",category:"Social Posts",description:"Multi-slide carousel sharing quarterly market trends for professional networking.",previewUrl:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=300&fit=crop",fileUrl:"/downloads/linkedin-carousel.pdf",format:"PDF",size:"3.1 MB",views:312,uploadDate:"Mon, Oct 20, 2025"},{id:4,title:"wof-nuw-powte.jpg",category:"Social Posts",description:"Vertical thumbnail for short property tour videos on TikTok.",previewUrl:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400&h=600&fit=crop",fileUrl:"/downloads/tiktok-thumbnail.png",format:"PNG",size:"900 KB",views:89,uploadDate:"Mon, Oct 20, 2025"},{id:5,title:"emecalo-we-jogiviti-apugijpg.jpg",category:"Flyers",description:"Printable flyer for advertising open house events with space for details.",previewUrl:"https://images.unsplash.com/photo-1761386017822-0d9d41fd5725?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=985",fileUrl:"/downloads/open-house-flyer.ai",format:"AI",size:"4.2 MB",views:203,uploadDate:"Mon, Oct 20, 2025",formats:[{format:"AI",fileUrl:"/downloads/open-house-flyer.ai",size:"4.2 MB"},{format:"PDF",fileUrl:"/downloads/open-house-flyer.pdf",size:"2.1 MB"}]},{id:6,title:"tahelozohzhepi-dejpg.jpg",category:"Flyers",description:"Celebratory postcard template for mailing to clients after a successful sale.",previewUrl:"https://images.unsplash.com/photo-1761386017822-0d9d41fd5725?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=985",fileUrl:"/downloads/just-sold-postcard.indd",format:"INDD",size:"5.8 MB",views:178,uploadDate:"Tue, Oct 21, 2025"},{id:7,title:"brand-logo-pack.zip",category:"Brand Kit",description:"High-resolution logos in various formats for consistent branding.",previewUrl:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=400&h=300&fit=crop",fileUrl:"/downloads/logo-pack.zip",format:"ZIP",size:"12.3 MB",views:456,uploadDate:"Mon, Oct 20, 2025"},{id:8,title:"color-palette-guide.pdf",category:"Brand Kit",description:"Official color swatches with HEX, RGB, and CMYK values for design use.",previewUrl:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=400&h=300&fit=crop",fileUrl:"/downloads/color-palette.pdf",format:"PDF",size:"1.5 MB",views:134,uploadDate:"Mon, Oct 20, 2025"},{id:9,title:"typography-guidelines.docx",category:"Brand Kit",description:"Font recommendations and usage rules to maintain brand voice.",previewUrl:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=400&h=300&fit=crop",fileUrl:"/downloads/typography-guide.docx",format:"DOCX",size:"650 KB",views:201,uploadDate:"Mon, Oct 20, 2025"},{id:10,title:"open-house-poster.psd",category:"Flyers",description:"Large format poster for event promotion with customizable sections.",previewUrl:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=600&fit=crop",fileUrl:"/downloads/open-house-poster.psd",format:"PSD",size:"3.7 MB",views:167,uploadDate:"Mon, Oct 20, 2025",formats:[{format:"PSD",fileUrl:"/downloads/open-house-poster.psd",size:"3.7 MB"},{format:"JPG",fileUrl:"/downloads/open-house-poster.jpg",size:"1.9 MB"}]},{id:11,title:"social-media-story-template.ai",category:"Social Posts",description:"Vertical story template for Instagram and Snapchat stories.",previewUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=800&fit=crop",fileUrl:"/downloads/social-story.ai",format:"AI",size:"2.9 MB",views:234,uploadDate:"Mon, Oct 20, 2025"},{id:12,title:"email-signature-template.html",category:"Brand Kit",description:"HTML email signature with brand elements for professional correspondence.",previewUrl:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=200&fit=crop",fileUrl:"/downloads/email-signature.html",format:"HTML",size:"45 KB",views:89,uploadDate:"Mon, Oct 20, 2025"}];function aH(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:[h.jsx("circle",{cx:"11",cy:"11",r:"7"}),h.jsx("path",{d:"m21 21-3.5-3.5"})]})}const oH=["All","Social Posts","Flyers","Brand Kit"],lH=["All","IG","FB","LinkedIn","TikTok"],cH=[{id:"new",label:"Newest"},{id:"views",label:"Most viewed"},{id:"az",label:"A  Z"}];function uH(){const[t,e]=T.useState(""),[n,r]=T.useState("All"),[i,a]=T.useState("All"),[l,c]=T.useState("new"),d=T.useMemo(()=>{let f=mb.filter(m=>{const g=t.toLowerCase(),x=m.title.toLowerCase().includes(g)||m.description.toLowerCase().includes(g),y=n==="All"?!0:m.category===n,w=i==="All"?!0:m.sizes?.some(E=>E.includes(i))||!1;return x&&y&&w});switch(l){case"views":f=[...f].sort((m,g)=>(g.views||0)-(m.views||0));break;case"az":f=[...f].sort((m,g)=>m.title.localeCompare(g.title));break;default:f=[...f].sort((m,g)=>new Date(g.uploadDate)-new Date(m.uploadDate))}return f},[t,n,i,l]);return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Marketing Material"}]}),h.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Gallery"}),h.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white text-sm font-semibold",children:d.length})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[h.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[h.jsx(aH,{className:"w-4.5 h-4.5 absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"}),h.jsx("input",{value:t,onChange:f=>e(f.target.value),placeholder:"Search Gallery",className:"w-full rounded-lg border border-neutral-300 bg-white py-2.5 pl-9 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsx("select",{value:l,onChange:f=>c(f.target.value),className:"rounded-lg border border-neutral-300 bg-white py-2.5 px-3 text-sm focus:ring-2 focus:ring-blue-500",children:cH.map(f=>h.jsx("option",{value:f.id,children:f.label},f.id))})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[oH.map(f=>h.jsx("button",{onClick:()=>r(f),className:`px-3 py-1.5 rounded-full text-sm border transition ${n===f?"bg-blue-50 text-blue-700 border-blue-300":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-100"}`,children:f},f)),h.jsx("span",{className:"mx-2 h-6 w-px bg-neutral-300"}),lH.map(f=>h.jsx("button",{onClick:()=>a(f),className:`px-3 py-1.5 rounded-full text-sm border transition ${i===f?"bg-blue-50 text-blue-700 border-blue-300":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-100"}`,children:f},f))]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:d.map(f=>h.jsx(sH,{template:f},f.id))}),d.length===0&&h.jsxs("div",{className:"text-center py-16",children:[h.jsx("p",{className:"text-neutral-600 text-lg mb-1",children:"No templates found"}),h.jsx("p",{className:"text-neutral-500 text-sm",children:"Try a different search or filter."})]})]})})}function l0({icon:t,label:e,action:n,type:r}){const i=()=>{r==="email"?window.location.href=`mailto:support@jovirealty.com?subject=${encodeURIComponent(e)}&body=Please describe your issue here.`:r==="phone"?window.location.href="tel:+1-555-0123":r==="whatsapp"&&window.open("https://wa.me/15550123?text="+encodeURIComponent(`Hi, I need support with: ${e}`),"_blank")};return h.jsxs("button",{onClick:i,className:"flex items-center gap-3 px-6 py-4 bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 hover:shadow-md transition-shadow w-full text-left",children:[h.jsx("span",{className:"text-2xl",children:t}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:e}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:n})]})]})}function dH(){const[t,e]=T.useState(""),n=Xo.filter(d=>d.title.toLowerCase().includes(t.toLowerCase())||d.description.toLowerCase().includes(t.toLowerCase())),r=Xo.length,i=Xo.filter(d=>d.status==="Pending").length,a=Xo.filter(d=>d.status==="Open").length,l=Xo.filter(d=>d.status==="Closed").length,c={Closed:"bg-gray-100 text-gray-600",Pending:"bg-yellow-100 text-yellow-800",Open:"bg-green-100 text-green-800"};return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-8",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Tickets"}]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsx("div",{className:"flex items-center gap-3",children:h.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Tickets"})}),h.jsx(Ot,{to:"/agent/support/new",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Create New Incident"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r}),h.jsx("p",{className:"text-xs text-blue-600 uppercase font-medium",children:"Total Tickets"})]}),h.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-orange-600",children:i}),h.jsx("p",{className:"text-xs text-orange-600 uppercase font-medium",children:"Pending Tickets"})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-green-600",children:a}),h.jsx("p",{className:"text-xs text-green-600 uppercase font-medium",children:"Open Tickets"})]}),h.jsxs("div",{className:"bg-pink-50 border border-pink-200 rounded-lg p-4 text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-pink-600",children:l}),h.jsx("p",{className:"text-xs text-pink-600 uppercase font-medium",children:"Closed Tickets"})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[h.jsx("div",{className:"flex justify-between items-center mb-6",children:h.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:d=>e(d.target.value),className:"px-4 py-2 border border-neutral-300 rounded-lg focus:border-indigo-500 focus:outline-none"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[h.jsx("thead",{className:"bg-neutral-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"ID"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Ticket"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Assigned To"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Action"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:n.map(d=>h.jsxs("tr",{className:"hover:bg-neutral-50",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-neutral-900",children:d.id}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-neutral-900",children:d.title}),h.jsx("div",{className:"text-sm text-neutral-500",children:d.description})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:h.jsx("span",{className:"text-xs font-medium text-neutral-600",children:d.assignedTo.charAt(0)})}),h.jsx("div",{className:"text-sm font-medium text-neutral-900",children:d.assignedTo})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c[d.status]||"bg-gray-100 text-gray-600"}`,children:d.status})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:d.date}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsx("button",{className:"text-neutral-400 hover:text-neutral-600",children:"view progress"})})]},d.id))})]})})]}),h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-6",children:"Quick Contact"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx(l0,{icon:"",label:"Email Support",action:"support@jovirealty.com",type:"email"}),h.jsx(l0,{icon:"",label:"Call Us",action:"+1 (555) 0123",type:"phone"}),h.jsx(l0,{icon:"",label:"WhatsApp Chat",action:"Message us instantly",type:"whatsapp"})]})]})]})})}const bn={image:"https://media-jovirealty.sfo3.cdn.digitaloceanspaces.com/Agents/AgentProfiles/aditya-tawatia",name:"John Doe",knownAs:"John Doe",email:"john.doe@jovi.com",phone:"+1 (555) 123-4567",officePhone:"604-202-2929",licenseNumber:"LIC-123456",licensedAs:"Representative",licenseFor:"Trading",mlsId:"V10289",aboutUs:"Bilingual residential REALTOR focused on client-first service and data-driven pricing.",profileCreatedOn:"2023-05-15",propertiesListed:{offMarket:5,bridgeData:12}};function ak(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:[h.jsx("path",{d:"M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7Z"}),h.jsx("path",{d:"m3 7 9 6 9-6"})]})}function c0(t){return h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:h.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h3a2 2 0 0 1 2 1.72c.12.89.33 1.76.62 2.6a2 2 0 0 1-.45 2.11l-1.27 1.27a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.84.29 1.71.5 2.6.62A2 2 0 0 1 22 16.92Z"})})}function ok(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",...t,children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),h.jsx("circle",{cx:"8",cy:"12",r:"2.5"}),h.jsx("path",{d:"M13 8h5M13 12h5M13 16h5"})]})}function fH(){const t=Jt(),e=[{label:"Total Listings",value:1200},{label:"OffMarket",value:bn.propertiesListed.offMarket},{label:"Bridge Data",value:bn.propertiesListed.bridgeData}];return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900",children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-8",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Profile"}]}),h.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 p-6",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:bn.image,alt:bn.name,className:"w-24 h-24 rounded-full border-2 border-blue-600 object-cover shadow"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bn.name}),h.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:[bn.knownAs,"  Profile created on ",bn.profileCreatedOn]}),h.jsxs("div",{className:"mt-2 flex gap-2",children:[h.jsx("span",{className:"inline-flex items-center rounded-full bg-green-100 text-green-800 px-2 py-0.5 text-xs",children:"Top Rated"}),h.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 text-blue-800 px-2 py-0.5 text-xs",children:"Responsive"})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx("button",{onClick:()=>t("/agent/dashboard"),className:"rounded-lg bg-blue-600 text-white px-5 py-2 text-sm font-medium hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Back to Dashboard"}),h.jsx("button",{className:"rounded-lg border border-neutral-300 dark:border-neutral-700 text-neutral-800 dark:text-neutral-200 px-5 py-2 text-sm hover:bg-neutral-50 dark:hover:bg-neutral-750",children:"Edit Profile"})]})]}),h.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 text-sm",children:[h.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-neutral-50 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:[h.jsx(ak,{className:"w-4 h-4"}),bn.email]}),h.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-neutral-50 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:[h.jsx(c0,{className:"w-4 h-4"}),bn.phone]}),h.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-neutral-50 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",children:[h.jsx(ok,{className:"w-4 h-4"}),"License: ",bn.licenseNumber]})]})]}),h.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"About Me"}),h.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:bn.aboutUs})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Contact Information"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[h.jsx(ak,{className:"w-4 h-4"}),bn.email]}),h.jsxs("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[h.jsx(c0,{className:"w-4 h-4"}),bn.phone]}),h.jsxs("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[h.jsx(c0,{className:"w-4 h-4"}),"Office: ",bn.officePhone]})]})]}),h.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"License Information"}),h.jsxs("div",{className:"space-y-3 text-sm text-neutral-700 dark:text-neutral-300",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ok,{className:"w-4 h-4"}),"License Number: ",bn.licenseNumber]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"w-4 h-4 grid place-content-center text-[11px] font-semibold border border-current rounded",children:"MLS"}),"MLS ID: ",bn.mlsId]}),h.jsxs("div",{className:"flex items-center gap-2",children:["Licensed As: ",bn.licensedAs]}),h.jsxs("div",{className:"flex items-center gap-2",children:["License For: ",bn.licenseFor]})]})]})]}),h.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Property Status"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(n=>h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:n.value}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:n.label}),h.jsx("div",{className:"w-full h-2 mt-2 rounded-full bg-neutral-200 dark:bg-neutral-700",children:h.jsx("div",{className:"h-2 rounded-full bg-blue-600",style:{width:`${Math.min(100,n.value/1200*100)}%`}})})]},n.label))})]})]})})}function hH(){const[t,e]=T.useState({category:"",message:"",file:null}),[n,r]=T.useState(!1),i=Jt(),a=["Billing","Technical Issue","General Inquiry"],l=d=>{d.preventDefault(),console.log("New ticket submitted:",t),r(!0),setTimeout(()=>{r(!1),i("/agent/agent-support")},3e3),e({category:"",message:"",file:null})},c=d=>{e({...t,file:d.target.files[0]})};return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-8",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Tickets",to:"/agent/agent-support"},{label:"New Ticket"}]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-6",children:"Create a New Ticket"}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Category"}),h.jsxs("select",{value:t.category,onChange:d=>e({...t,category:d.target.value}),className:"w-full rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 px-3 py-2 text-sm focus:border-blue-500 dark:focus:border-blue-400",required:!0,children:[h.jsx("option",{value:"",children:"Select a category"}),a.map(d=>h.jsx("option",{value:d,children:d},d))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Description"}),h.jsx("textarea",{value:t.message,onChange:d=>e({...t,message:d.target.value}),placeholder:"Describe your issue...",rows:4,className:"w-full rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 px-3 py-2 text-sm focus:border-blue-500 dark:focus:border-blue-400",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Attach File (Optional)"}),h.jsx("input",{type:"file",onChange:c,className:"w-full rounded-lg border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 px-3 py-2 text-sm focus:border-blue-500 dark:focus:border-blue-400"})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Submit Ticket"}),h.jsx("button",{type:"button",onClick:()=>i("/agent/agent-support"),className:"flex-1 bg-gray-300 text-neutral-900 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]}),n&&h.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm text-center",children:"Ticket created successfully! Redirecting..."})]})]})]})})}function lk(t){return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("path",{d:"M7 10l5 5 5-5"}),h.jsx("path",{d:"M12 15V3"})]})}function ck(t){return h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",...t,children:h.jsx("path",{d:"M15 18l-6-6 6-6"})})}function pH(){const{id:t}=gl(),e=Jt(),n=mb.find(d=>d.id===Number(t)),[r,i]=T.useState(n?.formats?.[0]?.format||n?.format),a=T.useMemo(()=>mb.filter(d=>d.category===n?.category&&d.id!==n?.id).slice(0,4),[n]);if(!n)return h.jsx("div",{className:"min-h-screen grid place-content-center bg-gray-50 p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Template not found"}),h.jsxs("button",{onClick:()=>e("/agent/marketing-material"),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[h.jsx(ck,{className:"w-4 h-4"})," Back to Gallery"]})]})});const l=(n.formats||[]).find(d=>d.format===r)||{format:n.format,fileUrl:n.fileUrl,size:n.size},c=()=>{const d=document.createElement("a");d.href=l.fileUrl,d.download="",document.body.appendChild(d),d.click(),d.remove()};return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-4",children:[h.jsx(Er,{items:[{label:"Dashboard",to:"/agent/dashboard"},{label:"Marketing Material",to:"/agent/marketing-material"},{label:n.title}]}),h.jsxs("button",{onClick:()=>e("/agent/marketing-material"),className:"inline-flex items-center gap-2 text-blue-700 font-medium hover:text-blue-800",children:[h.jsx(ck,{className:"w-4 h-4"})," Back to Gallery"]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white border border-neutral-200 rounded-2xl shadow-sm p-4 md:p-6",children:[h.jsx("div",{className:"rounded-xl bg-neutral-50 border border-neutral-200 overflow-hidden shadow-sm",children:h.jsx("img",{src:n.previewUrl,alt:n.title,className:"w-full h-[420px] object-contain bg-neutral-100"})}),h.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-1",children:n.title}),h.jsx("p",{className:"text-neutral-600 mb-3",children:n.description}),h.jsxs("dl",{className:"text-sm text-neutral-600 space-y-1",children:[h.jsxs("div",{children:[h.jsx("dt",{className:"inline font-medium text-neutral-800",children:"Category:"})," ",h.jsx("dd",{className:"inline",children:n.category})]}),h.jsxs("div",{children:[h.jsx("dt",{className:"inline font-medium text-neutral-800",children:"Uploaded:"})," ",h.jsx("dd",{className:"inline",children:n.uploadDate})]}),h.jsxs("div",{children:[h.jsx("dt",{className:"inline font-medium text-neutral-800",children:"Views:"})," ",h.jsx("dd",{className:"inline",children:n.views})]}),h.jsxs("div",{children:[h.jsx("dt",{className:"inline font-medium text-neutral-800",children:"Size:"})," ",h.jsx("dd",{className:"inline",children:l.size})]}),n.sizes&&h.jsxs("div",{children:[h.jsx("dt",{className:"inline font-medium text-neutral-800",children:"Supported Sizes:"})," ",h.jsx("dd",{className:"inline",children:n.sizes.join(", ")})]})]})]}),h.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-neutral-50 p-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"Download options"}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:(n.formats?.length?n.formats:[{format:n.format,fileUrl:n.fileUrl,size:n.size}]).map(d=>h.jsxs("button",{onClick:()=>i(d.format),className:`flex items-center justify-between rounded-lg border px-3 py-2 text-sm ${r===d.format?"border-blue-400 bg-blue-50 text-blue-700":"border-neutral-300 bg-white hover:bg-neutral-50"}`,children:[h.jsxs("span",{children:[d.format," (",d.size,")"]}),h.jsx(lk,{className:"w-4 h-4"})]},d.format))}),h.jsxs("button",{onClick:c,className:"mt-4 w-full inline-flex items-center justify-center gap-2 rounded-lg bg-blue-600 text-white py-2.5 font-medium hover:bg-blue-700",children:[h.jsx(lk,{className:"w-4 h-4"})," Download ",r]}),n.canvaUrl&&h.jsx("a",{href:n.canvaUrl,target:"_blank",rel:"noreferrer",className:"mt-2 w-full inline-flex items-center justify-center rounded-lg border border-blue-200 text-blue-700 py-2.5 hover:bg-blue-50",children:"Open in Canva"})]})]})]})}),h.jsxs("aside",{className:"lg:col-span-1",children:[h.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white shadow-sm p-6 space-y-5",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"What agents get"}),h.jsxs("ul",{className:"list-disc list-inside text-sm text-neutral-700 space-y-1",children:[h.jsx("li",{children:"Brandapproved templates"}),h.jsx("li",{children:"Social (IG/FB/LinkedIn/TikTok)"}),h.jsx("li",{children:"Flyers (Open House / Just Listed / Sold)"}),h.jsx("li",{children:"Brand kit (logos, colors, fonts)"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"How agents use it"}),h.jsxs("ul",{className:"list-disc list-inside text-sm text-neutral-700 space-y-1",children:[h.jsx("li",{children:"Preview the template"}),h.jsx("li",{children:"Select a format/size"}),h.jsx("li",{children:"Download and use in your channel"}),h.jsx("li",{className:"text-neutral-500",children:"Optional later: quick text swap / Canva link"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-1",children:"Done when"}),h.jsx("p",{className:"text-sm text-neutral-700",children:"Agents can find, preview, and download the right files quickly."})]})]}),a.length>0&&h.jsxs("div",{className:"mt-6",children:[h.jsxs("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:["Related in ",n.category]}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map(d=>h.jsxs("a",{href:`/agent/marketing-material/${d.id}`,className:"block rounded-xl overflow-hidden bg-white border border-neutral-200 hover:shadow-sm",children:[h.jsx("img",{src:d.previewUrl,alt:d.title,className:"h-28 w-full object-cover bg-neutral-100"}),h.jsxs("div",{className:"px-2.5 py-2",children:[h.jsx("div",{className:"text-[13px] font-medium line-clamp-1 text-neutral-900",children:d.title}),h.jsx("div",{className:"text-[12px] text-neutral-500 line-clamp-1",children:d.uploadDate})]})]},d.id))})]})]})]})]})})}const mH={path:"/agent",element:h.jsx(kb,{allow:["agent"]}),children:[{element:h.jsx(Pk,{}),children:[{index:!0,element:h.jsx(Jc,{to:"dashboard",replace:!0})},{path:"dashboard",element:h.jsx(QV,{})},{path:"tipsandguides",element:h.jsx(tH,{})},{path:"tipsandguides/:id",element:h.jsx(nH,{})},{path:"marketing-material",element:h.jsx(uH,{})},{path:"marketing-material/:id",element:h.jsx(pH,{})},{path:"agent-support",element:h.jsx(dH,{})},{path:"support/new",element:h.jsx(hH,{})},{path:"profile",element:h.jsx(fH,{})},{path:"terms",element:h.jsx(eu,{title:"Terms legal information"})},{path:"privacy",element:h.jsx(eu,{title:"Privacylegal information"})},{path:"*",element:h.jsx(Tb,{})}]}]};function gH(){const{logout:t}=io(),e=Jt();return T.useEffect(()=>{t().finally(()=>e("/login",{replace:!0}))},[]),null}const bH=jD([{element:h.jsx(YD,{}),children:[{path:"/login",element:h.jsx(ZD,{})}]},UV,mH,{path:"/403",element:h.jsx(eu,{title:"Forbidden"})},{path:"/logout",element:h.jsx(kb,{allow:[]}),children:[{index:!0,element:h.jsx(gH,{})}]},{path:"*",element:h.jsx(Tb,{})}]);function xH(){return h.jsx(h.Fragment,{children:h.jsx(KD,{children:h.jsx(GD,{router:bH})})})}PR.createRoot(document.getElementById("root")).render(h.jsx(na.StrictMode,{children:h.jsx(xH,{})}));
